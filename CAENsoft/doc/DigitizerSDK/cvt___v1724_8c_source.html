<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CAEN digitizer SDK: cvt_V1724.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>cvt_V1724.c</h1><a href="cvt___v1724_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 
<a name="l00013"></a>00013 <span class="comment">// File includes</span>
<a name="l00015"></a>00015 <span class="comment"></span><span class="preprocessor">#include &lt;memory.h&gt;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &quot;<a class="code" href="cvt___v1724_8h.html" title="V1724 VME board definitions.">cvt_V1724.h</a>&quot;</span>
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 
<a name="l00021"></a>00021 <span class="comment">// File local defines</span>
<a name="l00023"></a>00023 <span class="comment"></span>
<a name="l00024"></a>00024 
<a name="l00026"></a>00026 <span class="comment">// Static variables declaration</span>
<a name="l00028"></a>00028 <span class="comment"></span>
<a name="l00030"></a>00030 
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structcvt__reg__table.html" title="Board register table entry.">cvt_reg_table</a> CVT_V1724_REG_TABLE[ <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a1e45d50667aad417d28e4444d08fa6ea" title="Tag : just to get table index size.">CVT_V1724_LAST_INDEX</a>]=
<a name="l00037"></a>00037 {
<a name="l00038"></a>00038 <span class="comment">//</span>
<a name="l00039"></a>00039 <span class="comment">// Readout Buffer</span>
<a name="l00040"></a>00040         {<a class="code" href="cvt___v1724_8h.html#a05175795dfda4fc684262c38b07f2e94" title="Output buffer relative address.">CVT_V1724_OUT_BUFFER_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#a83926c4d38edaae69772e432efff0b11" title="Output buffer data buffer address modifier.">CVT_V1724_OUT_BUFFER_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#a40021a22690c5ac7413702b49b7949dd" title="Output buffer data buffer.">CVT_V1724_OUT_BUFFER_DATA_SIZE</a>},                                        
<a name="l00042"></a>00042 <span class="comment">//</span>
<a name="l00043"></a>00043 <span class="comment">// Channel broadcast registers</span>
<a name="l00044"></a>00044         {<a class="code" href="cvt___v1724_8h.html#a0b66974ee4d8859d08aeeb5a385382b5" title="Control channel broadcast register relative address (Write only).">CVT_V1724_BROAD_CH_CTRL_ADD</a>,                   <a class="code" href="cvt___v1724_8h.html#a1a280b6fe3d5b5ad2d453705069462e7" title="Control channel broadcast register address modifier (Write only).">CVT_V1724_BROAD_CH_CTRL_AM</a>,                             <a class="code" href="cvt___v1724_8h.html#a820f0829d85cc2efdde2609eb91dae68" title="Control channel broadcast register data size (Write only).">CVT_V1724_BROAD_CH_CTRL_DATA_SIZE</a>},                                     
<a name="l00045"></a>00045         {<a class="code" href="cvt___v1724_8h.html#a71567ba83726dabf07658bb0075c0ffe" title="Set control channel broadcast register relative address (Write only).">CVT_V1724_BROAD_CH_SET_CTRL_ADD</a>,               <a class="code" href="cvt___v1724_8h.html#ae7bbe14ef6984476a6fe0256c4116c37" title="Set control channel broadcast register address modifier (Write only).">CVT_V1724_BROAD_CH_SET_CTRL_AM</a>,                 <a class="code" href="cvt___v1724_8h.html#ade3d30547e12323df9e16bf0a1d80fb2" title="Set control channel broadcast register data size (Write only).">CVT_V1724_BROAD_CH_SET_CTRL_DATA_SIZE</a>},                         
<a name="l00046"></a>00046         {<a class="code" href="cvt___v1724_8h.html#adc3983142f8e1215fe05592ecb1392ff" title="Clear control channel broadcast register relative address (Write only).">CVT_V1724_BROAD_CH_CLEAR_CTRL_ADD</a>,             <a class="code" href="cvt___v1724_8h.html#ac8d099f62193b16ec7f029835d551d1c" title="Clear control channel broadcast register address modifier (Write only).">CVT_V1724_BROAD_CH_CLEAR_CTRL_AM</a>,               <a class="code" href="cvt___v1724_8h.html#add7dd632a915d30fe6c443662e7ee48b" title="Clear control channel broadcast register data size (Write only).">CVT_V1724_BROAD_CH_CLEAR_CTRL_DATA_SIZE</a>},                       
<a name="l00047"></a>00047         {<a class="code" href="cvt___v1724_8h.html#ac26dbe4d401437d5c43c9b5163428c33" title="Number of blocks broadcast register relative address (Write only).">CVT_V1724_BROAD_NUM_BLOCK_ADD</a>,                 <a class="code" href="cvt___v1724_8h.html#aed104d0142c91eeabf6a68d57d38f13a" title="Number of blocks broadcast register address modifiere(Write only).">CVT_V1724_BROAD_NUM_BLOCK_AM</a>,                   <a class="code" href="cvt___v1724_8h.html#a78555039c07cbb214035350054e5d5ca" title="Number of blocks broadcast register data size(Write only).">CVT_V1724_BROAD_NUM_BLOCK_DATA_SIZE</a>},                           
<a name="l00048"></a>00048         {<a class="code" href="cvt___v1724_8h.html#a6c7fe5494cd2dd283574ed85390067dd" title="Number of buffers to be removed channel broadcast register relative address (Write...">CVT_V1724_BROAD_CH_BUFF_FLUSH_ADD</a>,             <a class="code" href="cvt___v1724_8h.html#a0736ee71ff97739658a4b6c8d95bee45" title="Number of buffers to be removed channel broadcast register address modifiere(Write...">CVT_V1724_BROAD_CH_BUFF_FLUSH_AM</a>,               <a class="code" href="cvt___v1724_8h.html#a20e26a97640c77c6d85749a9ee6ce401" title="Number of buffers to be removed channel broadcast register data size(Write only)...">CVT_V1724_BROAD_CH_BUFF_FLUSH_DATA_SIZE</a>},                       
<a name="l00049"></a>00049         {<a class="code" href="cvt___v1724_8h.html#a297a4f81063d841ac88571ae0f914e1a" title="Read random Access channel broadcast register relative address (Write only).">CVT_V1724_BROAD_CH_RND_ACC_ADD</a>,                <a class="code" href="cvt___v1724_8h.html#a4a63502170fa03fcd0fb2ac6072acf5d" title="Parameters to Random access channel broadcast register address modifier (Write only)...">CVT_V1724_BROAD_CH_RND_ACC_AM</a>,                  <a class="code" href="cvt___v1724_8h.html#aaf0ce72c98174f55bf596ae036a8a5c7" title="Parameters to Random access channel broadcast register data size (Write only).">CVT_V1724_BROAD_CH_RND_ACC_DATA_SIZE</a>},                          
<a name="l00050"></a>00050         {<a class="code" href="cvt___v1724_8h.html#aaea99211cacc4dae0d6dc2e69fd48c1b" title="CustomSize channel broadcast register relative address (Write only).">CVT_V1724_BROAD_CH_CUSSIZE_ADD</a>,                <a class="code" href="cvt___v1724_8h.html#a4aa746910e74a6c9e154e86f33a3dc70" title="Custom Size register channel broadcast address modifier (Write only).">CVT_V1724_BROAD_CH_CUSSIZE_AM</a>,                  <a class="code" href="cvt___v1724_8h.html#a0defcb68348b39fbc684bf0e1926f948" title="Custom Size channel broadcast register data size (Write only).">CVT_V1724_BROAD_CH_CUSSIZE_DATA_SIZE</a>},                          
<a name="l00051"></a>00051         {<a class="code" href="cvt___v1724_8h.html#ab02f9900f23e5e2630f4130ad64ad220" title="Zero suppression threshold channel broadcast register relative address (Write only)...">CVT_V1724_BROAD_CH_ZSTH_ADD</a>,                   <a class="code" href="cvt___v1724_8h.html#ae45ee6eebc8e8c3804af8d7a53597d5b" title="Zero suppression threshold register channel broadcast address modifier (Write only)...">CVT_V1724_BROAD_CH_ZSTH_AM</a>,                             <a class="code" href="cvt___v1724_8h.html#a454d307c74e4a6f6183a05c66262a6e9" title="Zero suppression threshold channel broadcast register data size (Write only).">CVT_V1724_BROAD_CH_ZSTH_DATA_SIZE</a>},                                     
<a name="l00052"></a>00052         {<a class="code" href="cvt___v1724_8h.html#a772410bb7455206ea9025aaf05981da6" title="ADC configuration broadcast register relative address (Write only).">CVT_V1724_BROAD_ADC_CONF_ADD</a>,                  <a class="code" href="cvt___v1724_8h.html#a7ee2dbc455cd5f516adccc948d6b96a9" title="ADC configuration broadcast register address modifier (Write only).">CVT_V1724_BROAD_ADC_CONF_AM</a>,                    <a class="code" href="cvt___v1724_8h.html#a030815a3d959f1eed68a5ff356caaa69" title="ADC configuration broadcast register data size (Write only).">CVT_V1724_BROAD_ADC_CONF_DATA_SIZE</a>},                            
<a name="l00054"></a>00054 <span class="comment">//</span>
<a name="l00055"></a>00055 <span class="comment">// VME registers</span>
<a name="l00056"></a>00056         {<a class="code" href="cvt___v1724_8h.html#ab76787730dce4fcd70f6ca0967b20429" title="Acquisiton Control register relative address.">CVT_V1724_ACQ_CONTROL_ADD</a>,                             <a class="code" href="cvt___v1724_8h.html#ad767eb482145f354dc3f230ae42e40d8" title="Acquisiton Control register address modifier.">CVT_V1724_ACQ_CONTROL_AM</a>,                               <a class="code" href="cvt___v1724_8h.html#a3f3199f999d4279bf84490c8b16df731" title="Acquisiton Control register data size.">CVT_V1724_ACQ_CONTROL_DATA_SIZE</a>},                                       
<a name="l00057"></a>00057         {<a class="code" href="cvt___v1724_8h.html#afad94a8b201fa360fe8b12b1d77f41fe" title="Acquisiton Status register relative address.">CVT_V1724_ACQ_STATUS_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#a457eebaa55296d761ea9347352c7e25f" title="Acquisiton Status register address modifier.">CVT_V1724_ACQ_STATUS_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#adb2e2b42e0e4792f1f1c44f184b9cda5" title="Acquisiton Status register data size.">CVT_V1724_ACQ_STATUS_DATA_SIZE</a>},                                        
<a name="l00058"></a>00058         {<a class="code" href="cvt___v1724_8h.html#aa645df0f71937c899b6b6a1bd33ef596" title="Software trigger register relative address.">CVT_V1724_SW_TRIGGER_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#a0d2c2b8b867bdd26d196c62d4d04026d" title="Software trigger register address modifier.">CVT_V1724_SW_TRIGGER_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#a788e777129f75637284d7088363d1de3" title="Software trigger register data size.">CVT_V1724_SW_TRIGGER_DATA_SIZE</a>},                                        
<a name="l00059"></a>00059         {<a class="code" href="cvt___v1724_8h.html#a0f56ab6787c637afbe89ea77262f2851" title="Trigger source enable register relative address.">CVT_V1724_TRIGGER_SRC_ENABLE_ADD</a>,              <a class="code" href="cvt___v1724_8h.html#a4ac5d47517ee58b01da9fd863ff8ef7f" title="Trigger source enable register address modifier.">CVT_V1724_TRIGGER_SRC_ENABLE_AM</a>,                <a class="code" href="cvt___v1724_8h.html#a6a9728d4a0b8202ba7b8f1a1da49fef8" title="Trigger source enable register data size.">CVT_V1724_TRIGGER_SRC_ENABLE_DATA_SIZE</a>},                        
<a name="l00060"></a>00060         {<a class="code" href="cvt___v1724_8h.html#a6f830185da02e7245da8b161e7b2900d" title="Front panel trigger out enable mask register relative address.">CVT_V1724_FP_TRIGGER_OUT_ENABLE_ADD</a>,   <a class="code" href="cvt___v1724_8h.html#a50c3b3b3d0e89e6e9ea8f4230419a7a9" title="Front panel trigger out enable mask register address modifier.">CVT_V1724_FP_TRIGGER_OUT_ENABLE_AM</a>,             <a class="code" href="cvt___v1724_8h.html#a5060b87c9024361fdc485f2d69854651" title="Front panel trigger out enable mask register data size.">CVT_V1724_FP_TRIGGER_OUT_ENABLE_DATA_SIZE</a>},                     
<a name="l00061"></a>00061         {<a class="code" href="cvt___v1724_8h.html#a7f05c82ca9b092c4725ad5c2a714b449" title="Post trigger register relative address.">CVT_V1724_POST_TRIG_ADD</a>,                               <a class="code" href="cvt___v1724_8h.html#a89e826e333aac7cc7b92543daa6b416d" title="Post trigger register address modifier.">CVT_V1724_POST_TRIG_AM</a>,                                 <a class="code" href="cvt___v1724_8h.html#a3868745ab41eec4efb11ca95684ae158" title="Post trigger register data size.">CVT_V1724_POST_TRIG_DATA_SIZE</a>},                                         
<a name="l00062"></a>00062         {<a class="code" href="cvt___v1724_8h.html#ac9f768ddb4f9fc79bec8b515e243d1bc" title="Front panel IO register relative address.">CVT_V1724_FRONT_PANEL_IO_ADD</a>,                  <a class="code" href="cvt___v1724_8h.html#adb2c9e86f61e899225d1e442bcaad6db" title="Front panel IO register address modifier.">CVT_V1724_FRONT_PANEL_IO_AM</a>,                    <a class="code" href="cvt___v1724_8h.html#aec4968291a934d2f509584ed3a4360fa" title="Front panel IO register data size.">CVT_V1724_FRONT_PANEL_IO_DATA_SIZE</a>},                            
<a name="l00063"></a>00063         {<a class="code" href="cvt___v1724_8h.html#ade0f325778ae56728c48c265c4bd9f9a" title="Front panel IO Control register relative address.">CVT_V1724_FRONT_PANEL_IO_CTRL_ADD</a>,             <a class="code" href="cvt___v1724_8h.html#ad61a4af50bb413b50acf06e0d9264a1e" title="Front panel IO Control register address modifier.">CVT_V1724_FRONT_PANEL_IO_CTRL_AM</a>,               <a class="code" href="cvt___v1724_8h.html#adbcd1c86eccd9c65c4bc3b91eecbd7bb" title="Front panel IO Control register data size.">CVT_V1724_FRONT_PANEL_IO_CTRL_DATA_SIZE</a>},                       
<a name="l00064"></a>00064         {<a class="code" href="cvt___v1724_8h.html#a4dcb8e83a24d5a32f937154a286fc908" title="Channel enable mask register relative address.">CVT_V1724_CH_ENABLE_ADD</a>,                               <a class="code" href="cvt___v1724_8h.html#ad38836b4329f692d2adda3af298cd4e6" title="Channel enable mask register address modifier.">CVT_V1724_CH_ENABLE_AM</a>,                                 <a class="code" href="cvt___v1724_8h.html#a2467030156be01f1f0db9ca7760178fb" title="Channel enable mask register data size.">CVT_V1724_CH_ENABLE_DATA_SIZE</a>},                                         
<a name="l00065"></a>00065         {<a class="code" href="cvt___v1724_8h.html#a4ea99eee410a8484f6ec0663e3d54ae8" title="Firmware Revision register relative address.">CVT_V1724_FW_REV_ADD</a>,                                  <a class="code" href="cvt___v1724_8h.html#a4808b2f6fe27ae90ab5b3b33d06c1a41" title="Firmware Revision register address modifier.">CVT_V1724_FW_REV_AM</a>,                                    <a class="code" href="cvt___v1724_8h.html#a04268cd2bb31ffc09794cb0bbc978cf6" title="Firmware Revision register data size.">CVT_V1724_FW_REV_DATA_SIZE</a>},                                            
<a name="l00066"></a>00066         {<a class="code" href="cvt___v1724_8h.html#a42ec3f70b17d03586306e972b909dc57" title="DownSample factor register relative address.">CVT_V1724_DOWNSAMPLE_FACT_ADD</a>,                 <a class="code" href="cvt___v1724_8h.html#a39c1135be78990ba1ead4a7858b9abac" title="DownSample factor register address modifier.">CVT_V1724_DOWNSAMPLE_FACT_AM</a>,                   <a class="code" href="cvt___v1724_8h.html#a0e3b0e0bfb9b499093a51155dc7dd01e" title="DownSample factor register data size.">CVT_V1724_DOWNSAMPLE_FACT_DATA_SIZE</a>},                           
<a name="l00067"></a>00067         {<a class="code" href="cvt___v1724_8h.html#aad93586c30e32a8bc58d4916d6cbdbd6" title="Event stored register relative address.">CVT_V1724_EVENT_STORED_ADD</a>,                    <a class="code" href="cvt___v1724_8h.html#a0a8cefd6a0414fe2e8f95feca884536f" title="Event stored register address modifier.">CVT_V1724_EVENT_STORED_AM</a>,                              <a class="code" href="cvt___v1724_8h.html#ad08b5772d4c7e2d16063397ad21bc34b" title="Event stored register data size.">CVT_V1724_EVENT_STORED_DATA_SIZE</a>},                                      
<a name="l00068"></a>00068         {<a class="code" href="cvt___v1724_8h.html#a9025394b87b2330e388e4ad308130a11" title="Monitor output set register relative address.">CVT_V1724_MON_SET_ADD</a>,                                 <a class="code" href="cvt___v1724_8h.html#a18b6e68a295a7d7d61630f8aac323b0a" title="Monitor output set register address modifier.">CVT_V1724_MON_SET_AM</a>,                                   <a class="code" href="cvt___v1724_8h.html#a87f7ffa5fbc5d92025c8cbb8e863bea5" title="Monitor output set register data size.">CVT_V1724_MON_SET_DATA_SIZE</a>},                                           
<a name="l00069"></a>00069         {<a class="code" href="cvt___v1724_8h.html#ada127c9ad243e1ee576d30cb786d1e6d" title="Sw sync register relative address.">CVT_V1724_SW_SYNC_ADD</a>,                                 <a class="code" href="cvt___v1724_8h.html#a372f136c130da317ea7d74624b2f68a5" title="Sw sync register address modifier.">CVT_V1724_SW_SYNC_AM</a>,                                   <a class="code" href="cvt___v1724_8h.html#abf37aba0e03280249146f65100d4c64e" title="Sw sync register data size.">CVT_V1724_SW_SYNC_DATA_SIZE</a>},                                           
<a name="l00070"></a>00070         {<a class="code" href="cvt___v1724_8h.html#a28094e257c1a50e263d651121321ae4e" title="Board&amp;#39;s information register relative address.">CVT_V1724_BOARD_INFO_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#ad91fa93dd184c4ea1e5bb665546c9ce1" title="Board&amp;#39;s information register address modifier.">CVT_V1724_BOARD_INFO_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#a2fdd9c6826ef6b218e06540d099e1b34" title="Board&amp;#39;s information register data size.">CVT_V1724_BOARD_INFO_DATA_SIZE</a>},                                        
<a name="l00071"></a>00071         {<a class="code" href="cvt___v1724_8h.html#a3f3a824ef23275300300d95456dbbf53" title="Monitor output mode register relative address.">CVT_V1724_MON_MODE_ADD</a>,                                <a class="code" href="cvt___v1724_8h.html#a98387b06d3fed83d4b7a3360a212f1a4" title="Monitor output mode register address modifier.">CVT_V1724_MON_MODE_AM</a>,                                  <a class="code" href="cvt___v1724_8h.html#a26675f1534718281304f2206fc59dabf" title="Monitor output mode register data size.">CVT_V1724_MON_MODE_DATA_SIZE</a>},                                          
<a name="l00072"></a>00072         {<a class="code" href="cvt___v1724_8h.html#ad2dffb618c90657e27d41a01e58e2ca2" title="I/O Test register relative address.">CVT_V1724_TEST_IO_ADD</a>,                             <a class="code" href="cvt___v1724_8h.html#a7db4b849a671c01f0d60a12b7aa10a15" title="I/O Test register address modifier.">CVT_V1724_TEST_IO_AM</a>,                                       <a class="code" href="cvt___v1724_8h.html#af63ffe8b861d8e1e9fa678a6b3223a5b" title="I/O Test register data size.">CVT_V1724_TEST_IO_DATA_SIZE</a>},                                           
<a name="l00074"></a>00074         {<a class="code" href="cvt___v1724_8h.html#a1a9f5ccbe602c687b20d322e63886dbc" title="VME Control register relative address.">CVT_V1724_VME_CONTROL_ADD</a>,                             <a class="code" href="cvt___v1724_8h.html#ad615aa4830f8dda4582a87a51e3b7871" title="VME Control register address modifier.">CVT_V1724_VME_CONTROL_AM</a>,                               <a class="code" href="cvt___v1724_8h.html#af242833f9c18e6bd1c1c083088600209" title="VME Control register data size.">CVT_V1724_VME_CONTROL_DATA_SIZE</a>},                                       
<a name="l00075"></a>00075         {<a class="code" href="cvt___v1724_8h.html#a966847098190c541fa3cdee86fee54ad" title="VME Status register relative address.">CVT_V1724_VME_STATUS_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#a6731a8270030bde16388e258326de598" title="VME Status register address modifier.">CVT_V1724_VME_STATUS_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#a1bb56380f4d6fbb5e882e8ee21bf96a0" title="VME Status register data size.">CVT_V1724_VME_STATUS_DATA_SIZE</a>},                                        
<a name="l00076"></a>00076         {<a class="code" href="cvt___v1724_8h.html#a482573728d93c8ef10ad1c6ae0a3d3b0" title="Geo Address register relative address.">CVT_V1724_BOARD_ID_ADD</a>,                                <a class="code" href="cvt___v1724_8h.html#a36c12be9941690faf5c187eed009a003" title="Geo Address register address modifier.">CVT_V1724_BOARD_ID_AM</a>,                                  <a class="code" href="cvt___v1724_8h.html#a50527f112b4140e0302ceb2ec438e9f1" title="Geo Address register data size.">CVT_V1724_BOARD_ID_DATA_SIZE</a>},                                          
<a name="l00077"></a>00077         {<a class="code" href="cvt___v1724_8h.html#a5104d3b7b505ea6184e857fbc2b58b37" title="MCST/CBLT Address and control register relative address.">CVT_V1724_MCST_CBLT_ADD_CTRL_ADD</a>,              <a class="code" href="cvt___v1724_8h.html#a163d3ddd18bf8ea2fd358620e63dda27" title="MCST/CBLT Address and control register address modifier.">CVT_V1724_MCST_CBLT_ADD_CTRL_AM</a>,                <a class="code" href="cvt___v1724_8h.html#a8e90646dcfffa7023cc3429909efe9c7" title="MCST/CBLT Address and control register data size.">CVT_V1724_MCST_CBLT_ADD_CTRL_DATA_SIZE</a>},                        
<a name="l00078"></a>00078         {<a class="code" href="cvt___v1724_8h.html#a818a876c73011c13d6b9391ca898aaa8" title="Relocation address register relative address.">CVT_V1724_RELOCATION_ADDRESS_ADD</a>,              <a class="code" href="cvt___v1724_8h.html#aacd771c457427c9fe3959a5f842058f9" title="Relocation address register address modifier.">CVT_V1724_RELOCATION_ADDRESS_AM</a>,                <a class="code" href="cvt___v1724_8h.html#a712477d609994e6a07519a6cce85cc0d" title="Relocation address register data size.">CVT_V1724_RELOCATION_ADDRESS_DATA_SIZE</a>},                        
<a name="l00079"></a>00079         {<a class="code" href="cvt___v1724_8h.html#ac10dcd6f02358bb0fd3fa3ef1e02aaf8" title="Interrupt status id register relative address.">CVT_V1724_INT_STATUS_ID_ADD</a>,                   <a class="code" href="cvt___v1724_8h.html#a6cba9770d3e51609748e028356eb94d2" title="Interrupt status id register address modifier.">CVT_V1724_INT_STATUS_ID_AM</a>,                             <a class="code" href="cvt___v1724_8h.html#ab68eeeeedad82f42bfc8b10e3a50fa5c" title="Interrupt status id register data size.">CVT_V1724_INT_STATUS_ID_DATA_SIZE</a>},                                     
<a name="l00080"></a>00080         {<a class="code" href="cvt___v1724_8h.html#aa7109ca9d8ec665cc9ae5b8afe1c6f0a" title="Interrupt event number register relative address.">CVT_V1724_INT_EVENT_NUM_ADD</a>,                   <a class="code" href="cvt___v1724_8h.html#ac3010673cdb49dd08fbe971235d37641" title="Interrupt event number register address modifier.">CVT_V1724_INT_EVENT_NUM_AM</a>,                             <a class="code" href="cvt___v1724_8h.html#a9362c09036683e73359adb3ef869bbdf" title="Interrupt event number register data size.">CVT_V1724_INT_EVENT_NUM_DATA_SIZE</a>},                                     
<a name="l00081"></a>00081         {<a class="code" href="cvt___v1724_8h.html#a315d5934f530405a4ca1b5d836d3da3d" title="BLT event number register relative address.">CVT_V1724_BLT_EVENT_NUM_ADD</a>,                   <a class="code" href="cvt___v1724_8h.html#ab05eca0d6d2e82d829f44b1388e36628" title="BLT event number register address modifier.">CVT_V1724_BLT_EVENT_NUM_AM</a>,                             <a class="code" href="cvt___v1724_8h.html#af7ce993641f9cf4bc62c5a3755ae9a43" title="BLT event number register data size.">CVT_V1724_BLT_EVENT_NUM_DATA_SIZE</a>},                                     
<a name="l00082"></a>00082         {<a class="code" href="cvt___v1724_8h.html#a41cbb4965ec6dc5d05f835160597cb8b" title="Scratch register relative address.">CVT_V1724_SCRATCH_ADD</a>,                                 <a class="code" href="cvt___v1724_8h.html#a50cc2e4d95d9e78ab4a42cbf13dec761" title="Scratch register address modifier.">CVT_V1724_SCRATCH_AM</a>,                                   <a class="code" href="cvt___v1724_8h.html#a852a8b0bbf25057b546be1041b3da942" title="Scratch register data size.">CVT_V1724_SCRATCH_DATA_SIZE</a>},                                           
<a name="l00083"></a>00083         {<a class="code" href="cvt___v1724_8h.html#aafa8e0d5d120000d7b9e37fa754e17e5" title="Software reset register relative address.">CVT_V1724_SW_RESET_ADD</a>,                                <a class="code" href="cvt___v1724_8h.html#a6062421003a73b22d190591f7723901c" title="Software reset register address modifier.">CVT_V1724_SW_RESET_AM</a>,                                  <a class="code" href="cvt___v1724_8h.html#a0fddc5e9f44d51a94ae47ba3fb66893f" title="Software reset register data size.">CVT_V1724_SW_RESET_DATA_SIZE</a>},                                          
<a name="l00084"></a>00084         {<a class="code" href="cvt___v1724_8h.html#a42cda3f84226261495cdd52bbc9ef300" title="Software clear register relative address.">CVT_V1724_SW_CLEAR_ADD</a>,                                <a class="code" href="cvt___v1724_8h.html#af8079b4f6a9047a040e4d7e75e3aa7f8" title="Software clear register address modifier.">CVT_V1724_SW_CLEAR_AM</a>,                                  <a class="code" href="cvt___v1724_8h.html#a5b6ba05c23f0dc05eee8758f06989f5b" title="Software clear register data size.">CVT_V1724_SW_CLEAR_DATA_SIZE</a>},                                          
<a name="l00085"></a>00085         {<a class="code" href="cvt___v1724_8h.html#a90979167edf3befe00166d66620135a0" title="Flash enable relative address.">CVT_V1724_FLASH_EN_ADD</a>,                                <a class="code" href="cvt___v1724_8h.html#aad9294b58fe203c645f797fee92d1a21" title="Flash enable address modifier.">CVT_V1724_FLASH_EN_AM</a>,                                  <a class="code" href="cvt___v1724_8h.html#aa6a4d300565ed08242a17dede32e2d1a" title="Flash enable data size.">CVT_V1724_FLASH_EN_DATA_SIZE</a>},                                          
<a name="l00086"></a>00086         {<a class="code" href="cvt___v1724_8h.html#addca209d7e0eb1293bc7807e0a53689b" title="Flash data relative address.">CVT_V1724_FLASH_DATA_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#a2249a3a68020257b5c9637c871973332" title="Flash data address modifier.">CVT_V1724_FLASH_DATA_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#a1709d1a6a8470c9a5c7f5c6b55450099" title="Flash data data size.">CVT_V1724_FLASH_DATA_DATA_SIZE</a>},                                        
<a name="l00087"></a>00087         {<a class="code" href="cvt___v1724_8h.html#a8827835c4b74a52f313869146f0cf5bf" title="Configuration Reload relative address.">CVT_V1724_RELOAD_CONFIG_ADD</a>,                   <a class="code" href="cvt___v1724_8h.html#ab17eec7a52eb5f30255a0881d1e42eeb" title="Configuration Reload address modifier.">CVT_V1724_RELOAD_CONFIG_AM</a>,                             <a class="code" href="cvt___v1724_8h.html#ac17f99e9265dbebd4ec080445d2ce6d9" title="Configuration Reload data size.">CVT_V1724_RELOAD_CONFIG_DATA_SIZE</a>},                                     
<a name="l00088"></a>00088         {<a class="code" href="cvt___v1724_8h.html#aaf03a06ddd273814554251088d27e640" title="Base Address relative address.">CVT_V1724_BASE_ADDRESS_ADD</a>,                    <a class="code" href="cvt___v1724_8h.html#a1af0bb5edd713e45cf55504cadce54c9" title="Base Address address modifier.">CVT_V1724_BASE_ADDRESS_AM</a>,                              <a class="code" href="cvt___v1724_8h.html#a16d31d78b545bf2efc176d22d9059096" title="Base Address data size.">CVT_V1724_BASE_ADDRESS_DATA_SIZE</a>},                                      
<a name="l00089"></a>00089         {<a class="code" href="cvt___v1724_8h.html#a045e6d22b6182008c745a43770a446de" title="Configuration ROM checksum relative address.">CVT_V1724_ROM_CHKSUM_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#a8d20bb8361a99e1271fdeb31c37fc280" title="Configuration ROM checksum address modifier.">CVT_V1724_ROM_CHKSUM_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#a13712c5c8dcb1a1f75bb771f28af0537" title="Configuration ROM checksum data size.">CVT_V1724_ROM_CHKSUM_DATA_SIZE</a>},                                        
<a name="l00090"></a>00090         {<a class="code" href="cvt___v1724_8h.html#a8babca6b308624bab50e7f8b2be8c588" title="Configuration ROM checksum length (MSB) relative address.">CVT_V1724_ROM_CHKSUM_LEN_2_ADD</a>,                <a class="code" href="cvt___v1724_8h.html#a40289901f8513a49c911ae2ccfac95d3" title="Configuration ROM checksum length (MSB) address modifier.">CVT_V1724_ROM_CHKSUM_LEN_2_AM</a>,                  <a class="code" href="cvt___v1724_8h.html#afd3f98cb76cefcfb193e964c96b6d7d9" title="Configuration ROM checksum length (MSB) data size.">CVT_V1724_ROM_CHKSUM_LEN_2_DATA_SIZE</a>},                          
<a name="l00091"></a>00091         {<a class="code" href="cvt___v1724_8h.html#a1cc4e9c424c71dce4df460c3dccbaa79" title="Configuration ROM checksum length relative address.">CVT_V1724_ROM_CHKSUM_LEN_1_ADD</a>,                <a class="code" href="cvt___v1724_8h.html#ab0ad92fb4eb5ed67502fc14837304628" title="Configuration ROM checksum length address modifier.">CVT_V1724_ROM_CHKSUM_LEN_1_AM</a>,                  <a class="code" href="cvt___v1724_8h.html#a0c3fedc5ca42a6811a8e87d0cf31d559" title="Configuration ROM checksum length data size.">CVT_V1724_ROM_CHKSUM_LEN_1_DATA_SIZE</a>},                          
<a name="l00092"></a>00092         {<a class="code" href="cvt___v1724_8h.html#ae3248ad9dae024d7739c5868361e74e6" title="Configuration ROM checksum length (LSB) relative address.">CVT_V1724_ROM_CHKSUM_LEN_0_ADD</a>,                <a class="code" href="cvt___v1724_8h.html#a3040d0e01a9b857b56864f69c7ea412e" title="Configuration ROM checksum length (LSB) address modifier.">CVT_V1724_ROM_CHKSUM_LEN_0_AM</a>,                  <a class="code" href="cvt___v1724_8h.html#a3f897fa12ffeab94a4c176cb2d7783c5" title="Configuration ROM checksum length (LSB) data size.">CVT_V1724_ROM_CHKSUM_LEN_0_DATA_SIZE</a>},                          
<a name="l00093"></a>00093         {<a class="code" href="cvt___v1724_8h.html#a8dbe641ed8bc7d9d956c09a9e4719642" title="Configuration ROM constant (MSB) relative address.">CVT_V1724_ROM_CONST_2_ADD</a>,                             <a class="code" href="cvt___v1724_8h.html#a0a58d5da457c9bb4577b7a233102fc5a" title="Configuration ROM constant (MSB) address modifier.">CVT_V1724_ROM_CONST_2_AM</a>,                               <a class="code" href="cvt___v1724_8h.html#a36a3dd8b4cc5c4d12189cd2eb90c439e" title="Configuration ROM constant (MSB) data size.">CVT_V1724_ROM_CONST_2_DATA_SIZE</a>},                                       
<a name="l00094"></a>00094         {<a class="code" href="cvt___v1724_8h.html#a591009f6e17dfa37d88c2793b3f205f5" title="Configuration ROM constant relative address.">CVT_V1724_ROM_CONST_1_ADD</a>,                             <a class="code" href="cvt___v1724_8h.html#a1ace3ffff92ecdf78bb3e64fc72b5285" title="Configuration ROM constant address modifier.">CVT_V1724_ROM_CONST_1_AM</a>,                               <a class="code" href="cvt___v1724_8h.html#a3d45b61abfa7ef46420697bdbd813fb8" title="Configuration ROM constant data size.">CVT_V1724_ROM_CONST_1_DATA_SIZE</a>},                                       
<a name="l00095"></a>00095         {<a class="code" href="cvt___v1724_8h.html#af3dd3be957a9975f7dd25a83120e973a" title="Configuration ROM constant (LSB) relative address.">CVT_V1724_ROM_CONST_0_ADD</a>,                             <a class="code" href="cvt___v1724_8h.html#af7a49913a435b38d0f39d015599564fa" title="Configuration ROM constant (LSB) address modifier.">CVT_V1724_ROM_CONST_0_AM</a>,                               <a class="code" href="cvt___v1724_8h.html#abc07bbccca94d0cf20e8377a350ad367" title="Configuration ROM constant (LSB) data size.">CVT_V1724_ROM_CONST_0_DATA_SIZE</a>},                                       
<a name="l00096"></a>00096         {<a class="code" href="cvt___v1724_8h.html#a03a37740dd11c2190e98c112879d897e" title="Configuration ROM c_code relative address.">CVT_V1724_ROM_C_CODE_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#a1d5ee534beb5353b3d81601ee2a43f58" title="Configuration ROM c_code address modifier.">CVT_V1724_ROM_C_CODE_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#a4ea53e7b8cac2fc96134519a7c6c071a" title="Configuration ROM c_code data size.">CVT_V1724_ROM_C_CODE_DATA_SIZE</a>},                                        
<a name="l00097"></a>00097         {<a class="code" href="cvt___v1724_8h.html#a356eb8d72e50d74be460a7982658a762" title="Configuration ROM r_code relative address.">CVT_V1724_ROM_R_CODE_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#a045ecc5cafdfa21ee5783e5149b8b236" title="Configuration ROM r_code address modifier.">CVT_V1724_ROM_R_CODE_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#a89c882629af1a74cae248a0de9fa7d0b" title="Configuration ROM r_code data size.">CVT_V1724_ROM_R_CODE_DATA_SIZE</a>},                                        
<a name="l00098"></a>00098         {<a class="code" href="cvt___v1724_8h.html#ab7cee735bc891dc26c1c48f69a35bf1d" title="Configuration ROM Manufacturer identifier (IEEE OUI) (MSB) relative address.">CVT_V1724_ROM_OUI_2_ADD</a>,                               <a class="code" href="cvt___v1724_8h.html#adfacfe2bd7cd48146927ba6ad19efa37" title="Configuration ROM Manufacturer identifier (IEEE OUI) (MSB) address modifier.">CVT_V1724_ROM_OUI_2_AM</a>,                                 <a class="code" href="cvt___v1724_8h.html#a2c826cdf3f4f438dff8797d2dea86382" title="Configuration ROM Manufacturer identifier (IEEE OUI) (MSB) data size.">CVT_V1724_ROM_OUI_2_DATA_SIZE</a>},                                         
<a name="l00099"></a>00099         {<a class="code" href="cvt___v1724_8h.html#a42a70c2bac4148c00eeb0552f83bb876" title="Configuration ROM Manufacturer identifier (IEEE OUI) relative address.">CVT_V1724_ROM_OUI_1_ADD</a>,                               <a class="code" href="cvt___v1724_8h.html#a6de4163aeb91a6da2477e765b2906603" title="Configuration ROM Manufacturer identifier (IEEE OUI) address modifier.">CVT_V1724_ROM_OUI_1_AM</a>,                                 <a class="code" href="cvt___v1724_8h.html#ab1ecc389ae20b3b801cb3a949e652bdd" title="Configuration ROM Manufacturer identifier (IEEE OUI) data size.">CVT_V1724_ROM_OUI_1_DATA_SIZE</a>},                                         
<a name="l00100"></a>00100         {<a class="code" href="cvt___v1724_8h.html#a3d844a099594b1201ccd71e13f35eed4" title="Configuration ROM Manufacturer identifier (IEEE OUI) (LSB) relative address.">CVT_V1724_ROM_OUI_0_ADD</a>,                               <a class="code" href="cvt___v1724_8h.html#a0e741922dc94ac3a80cfb96406d991ab" title="Configuration ROM Manufacturer identifier (IEEE OUI) (LSB) address modifier.">CVT_V1724_ROM_OUI_0_AM</a>,                                 <a class="code" href="cvt___v1724_8h.html#a9a688302865680e6c85d2d2a9620edc7" title="Configuration ROM Manufacturer identifier (IEEE OUI) (LSB) data size.">CVT_V1724_ROM_OUI_0_DATA_SIZE</a>},                                         
<a name="l00101"></a>00101         {<a class="code" href="cvt___v1724_8h.html#ae9e85977cc32e3be318779d070be1acb" title="Configuration ROM Purchased version of the Mod.V1724 relative address.">CVT_V1724_ROM_VERSION_ADD</a>,                             <a class="code" href="cvt___v1724_8h.html#acbb0058673fd06b166d594fa3035f14c" title="Configuration ROM Purchased version of the Mod.V1724 address modifier.">CVT_V1724_ROM_VERSION_AM</a>,                               <a class="code" href="cvt___v1724_8h.html#a5d5cc4f9fb9bdb7448500dfa562d0223" title="Configuration ROM Purchased version of the Mod.V1724 data size.">CVT_V1724_ROM_VERSION_DATA_SIZE</a>},                                       
<a name="l00102"></a>00102         {<a class="code" href="cvt___v1724_8h.html#acac8785577e0eb77ed72f4b27229d2ba" title="Configuration ROM Board identifier (MSB) relative address.">CVT_V1724_ROM_BOARD_ID_2_ADD</a>,                  <a class="code" href="cvt___v1724_8h.html#aa14320195db36f85d2da77ea58d56550" title="Configuration ROM Board identifier (MSB) address modifier.">CVT_V1724_ROM_BOARD_ID_2_AM</a>,                    <a class="code" href="cvt___v1724_8h.html#ae090608a26532f991ad994742ca8d7dc" title="Configuration ROM Board identifier (MSB) data size.">CVT_V1724_ROM_BOARD_ID_2_DATA_SIZE</a>},                            
<a name="l00103"></a>00103         {<a class="code" href="cvt___v1724_8h.html#ab1a8ea460f33cf6f4771362e202718d5" title="Configuration ROM Board identifier relative address.">CVT_V1724_ROM_BOARD_ID_1_ADD</a>,                  <a class="code" href="cvt___v1724_8h.html#a057dd8c517472fc5c3dc3de72dac4017" title="Configuration ROM Board identifier address modifier.">CVT_V1724_ROM_BOARD_ID_1_AM</a>,                    <a class="code" href="cvt___v1724_8h.html#a52946f4742ec308789d67786c58e6a5d" title="Configuration ROM Board identifier data size.">CVT_V1724_ROM_BOARD_ID_1_DATA_SIZE</a>},                            
<a name="l00104"></a>00104         {<a class="code" href="cvt___v1724_8h.html#ab6c4344edda12b8c03da7eaad98894df" title="Configuration ROM Board identifier (LSB) relative address.">CVT_V1724_ROM_BOARD_ID_0_ADD</a>,                  <a class="code" href="cvt___v1724_8h.html#acfb4fcb344995b3bc97864be143d1d77" title="Configuration ROM Board identifier (LSB) address modifier.">CVT_V1724_ROM_BOARD_ID_0_AM</a>,                    <a class="code" href="cvt___v1724_8h.html#a5b0fd93b4323d7240e10009d13121aa8" title="Configuration ROM Board identifier (LSB) data size.">CVT_V1724_ROM_BOARD_ID_0_DATA_SIZE</a>},                            
<a name="l00105"></a>00105         {<a class="code" href="cvt___v1724_8h.html#a3c9ce0b32955007355d30cb9827e7e42" title="Configuration ROM Hardware revision identifier relative address.">CVT_V1724_ROM_REVISION_3_ADD</a>,                  <a class="code" href="cvt___v1724_8h.html#a01a5e6e72f5c825793466d0d6fe1573d" title="Configuration ROM Hardware revision identifier address modifier.">CVT_V1724_ROM_REVISION_3_AM</a>,                    <a class="code" href="cvt___v1724_8h.html#af37b270b1e11fe6606dec0f215db22d2" title="Configuration ROM Hardware revision identifier data size.">CVT_V1724_ROM_REVISION_3_DATA_SIZE</a>},                            
<a name="l00106"></a>00106         {<a class="code" href="cvt___v1724_8h.html#ab25285588252b778feccbe1fb7cb5294" title="Configuration ROM Hardware revision identifier relative address.">CVT_V1724_ROM_REVISION_2_ADD</a>,                  <a class="code" href="cvt___v1724_8h.html#accebffb8c2dfbc1714ec73af4f5711a6" title="Configuration ROM Hardware revision identifier address modifier.">CVT_V1724_ROM_REVISION_2_AM</a>,                    <a class="code" href="cvt___v1724_8h.html#ac023725bc3e25684c0516dbf0df2e9cb" title="Configuration ROM Hardware revision identifier data size.">CVT_V1724_ROM_REVISION_2_DATA_SIZE</a>},                            
<a name="l00107"></a>00107         {<a class="code" href="cvt___v1724_8h.html#a4aace6084dc34e9177e3f65912f5165a" title="Configuration ROM Hardware revision identifier relative address.">CVT_V1724_ROM_REVISION_1_ADD</a>,                  <a class="code" href="cvt___v1724_8h.html#afa3175676cd75e783f1e9bb7891c619e" title="Configuration ROM Hardware revision identifier address modifier.">CVT_V1724_ROM_REVISION_1_AM</a>,                    <a class="code" href="cvt___v1724_8h.html#a1ed09a7437acf957dec96f0c6d910ea0" title="Configuration ROM Hardware revision identifier data size.">CVT_V1724_ROM_REVISION_1_DATA_SIZE</a>},                            
<a name="l00108"></a>00108         {<a class="code" href="cvt___v1724_8h.html#a9a8e626e490fe84552b2f22a9e83cae6" title="Configuration ROM Hardware revision identifier relative address.">CVT_V1724_ROM_REVISION_0_ADD</a>,                  <a class="code" href="cvt___v1724_8h.html#acd37d7a780e9b23a6c24096e84cd8f57" title="Configuration ROM Hardware revision identifier address modifier.">CVT_V1724_ROM_REVISION_0_AM</a>,                    <a class="code" href="cvt___v1724_8h.html#ac30c39b5b37834ee02cd0d446f48f157" title="Configuration ROM Hardware revision identifier data size.">CVT_V1724_ROM_REVISION_0_DATA_SIZE</a>},                            
<a name="l00109"></a>00109         {<a class="code" href="cvt___v1724_8h.html#a7c865a3073989387c358b2aa076fc2f9" title="Configuration ROM Serial number (MSB) relative address.">CVT_V1724_ROM_SERIAL_1_ADD</a>,                    <a class="code" href="cvt___v1724_8h.html#a6ca49ad8ccf5fc7d36b0798804249ea5" title="Configuration ROM Serial number (MSB) address modifier.">CVT_V1724_ROM_SERIAL_1_AM</a>,                              <a class="code" href="cvt___v1724_8h.html#a250ebe49fd2288b1c17b20ed1ecd58e0" title="Configuration ROM Serial number (MSB) data size.">CVT_V1724_ROM_SERIAL_1_DATA_SIZE</a>},                                      
<a name="l00110"></a>00110         {<a class="code" href="cvt___v1724_8h.html#a43c90c70d498b03630cb6f51db6009ab" title="Configuration ROM Serial number (LSB) relative address.">CVT_V1724_ROM_SERIAL_0_ADD</a>,                    <a class="code" href="cvt___v1724_8h.html#a6cf8d1caa8531f5c16acbd385e9f0c37" title="Configuration ROM Serial number (LSB) address modifier.">CVT_V1724_ROM_SERIAL_0_AM</a>,                              <a class="code" href="cvt___v1724_8h.html#ad55e01be6fbf941344deb2a54bc51666" title="Configuration ROM Serial number (LSB) data size.">CVT_V1724_ROM_SERIAL_0_DATA_SIZE</a>},                                      
<a name="l00111"></a>00111         {<a class="code" href="cvt___v1724_8h.html#a00eba4365dbe962992ab72589873eebe" title="Configuration ROM VCXO type relative address.">CVT_V1724_ROM_VCXO_TYPE_ADD</a>,                   <a class="code" href="cvt___v1724_8h.html#a49a090659112fb358f4ab53e8381cf10" title="Configuration ROM VCXO type address modifier.">CVT_V1724_ROM_VCXO_TYPE_AM</a>,                             <a class="code" href="cvt___v1724_8h.html#ab3f8963e33ef4fd9ca3efd6f62c28265" title="Configuration ROM VCXO type data size.">CVT_V1724_ROM_VCXO_TYPE_DATA_SIZE</a>},                                     
<a name="l00113"></a>00113 <span class="comment">//</span>
<a name="l00114"></a>00114 <span class="comment">// CH 0</span>
<a name="l00115"></a>00115         {<a class="code" href="cvt___v1724_8h.html#a2959929e40bb9c9011ac4ad143041fa7" title="CH 0 Read Block channel broadcast reserved register relative address.">CVT_V1724_CH0_RESERVED_RND_ACC_ADD</a>,    <a class="code" href="cvt___v1724_8h.html#a921169ddb581915472880ec8d85c29ea" title="CH 0 Read Block channel broadcast reserved register address modifier.">CVT_V1724_CH0_RESERVED_RND_ACC_AM</a>,              <a class="code" href="cvt___v1724_8h.html#a916db45aa19164699cbca9644dac0d31" title="CH 0 Read Block channel broadcast reserved register data size.">CVT_V1724_CH0_RESERVED_RND_ACC_DATA_SIZE</a>},                      
<a name="l00116"></a>00116         {<a class="code" href="cvt___v1724_8h.html#a81dff94fe631e19ebefef9e2ba2c6ebf" title="CH 0 Zero suppression threshold register relative address.">CVT_V1724_CH0_ZSTH_ADD</a>,                                <a class="code" href="cvt___v1724_8h.html#ac301b83986b3b4955556cc2268ab8a4b" title="CH 0 Zero suppression threshold register address modifier.">CVT_V1724_CH0_ZSTH_AM</a>,                                  <a class="code" href="cvt___v1724_8h.html#ae95bf0c9f13fceb0ff34d27e489fb4a0" title="Ch 0 Zero suppression threshold register data size).">CVT_V1724_CH0_ZSTH_DATA_SIZE</a>},                                          
<a name="l00117"></a>00117         {<a class="code" href="cvt___v1724_8h.html#a267750a231c328e82a010d80346bbca3" title="CH 0 Threshold register relative address.">CVT_V1724_CH0_THRESHOLD_ADD</a>,                   <a class="code" href="cvt___v1724_8h.html#adde306161927bf5a5a82b3ef2aa0b4ec" title="CH 0 Threshold register address modifier.">CVT_V1724_CH0_THRESHOLD_AM</a>,                             <a class="code" href="cvt___v1724_8h.html#adb3ce49e1d72d9ed054751a3270c94ad" title="CH 0 Threshold register data size.">CVT_V1724_CH0_THRESHOLD_DATA_SIZE</a>},                                     
<a name="l00118"></a>00118         {<a class="code" href="cvt___v1724_8h.html#ad70e87bbd3f1174e61155a269c4285c0" title="CH 0 Over/Under Threshold Samples register relative address.">CVT_V1724_CH0_TIME_OVER_UNDER_THR_ADD</a>, <a class="code" href="cvt___v1724_8h.html#a36c9983b3aeba1cf983a3ab1f96a4563" title="CH 0 Over/Under Threshold Samples register address modifier.">CVT_V1724_CH0_TIME_OVER_UNDER_THR_AM</a>,   <a class="code" href="cvt___v1724_8h.html#abe177a786e15b3338d1cf75fd6cfaa5e" title="CH 0 Over/Under Threshold Samples register data size.">CVT_V1724_CH0_TIME_OVER_UNDER_THR_DATA_SIZE</a>},           
<a name="l00119"></a>00119         {<a class="code" href="cvt___v1724_8h.html#ab667be2a75d797bf2a70a5eab0a88f23" title="CH 0 status register relative address.">CVT_V1724_CH0_STATUS_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#addd0ab05517b7c9d78b76566c7340839" title="CH 0 status register address modifier.">CVT_V1724_CH0_STATUS_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#aa706abf370a02722d67ff145b7a1d1f0" title="CH 0 status register data size.">CVT_V1724_CH0_STATUS_DATA_SIZE</a>},                                        
<a name="l00120"></a>00120         {<a class="code" href="cvt___v1724_8h.html#ac8c2dfe9a7f997c165318a356e196143" title="CH 0 firmware revision register relative address.">CVT_V1724_CH0_FW_REV_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#af922bc594219cbc01ffda840c96de9c7" title="CH 0 firmware revision register address modifier.">CVT_V1724_CH0_FW_REV_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#a0acd2d52433cd988dc422c7be005ee90" title="CH 0 firmware revision register data size.">CVT_V1724_CH0_FW_REV_DATA_SIZE</a>},                                        
<a name="l00121"></a>00121         {<a class="code" href="cvt___v1724_8h.html#a84d7cd8a850562cd98398e4e423ab908" title="CH 0 Number of Buffers Filled register relative address.">CVT_V1724_CH0_BUFF_OCCUPANCY_ADD</a>,              <a class="code" href="cvt___v1724_8h.html#a557f111e2dc9472fc34c6d0478a8a503" title="CH 0 Number of Buffers Filled register address modifier.">CVT_V1724_CH0_BUFF_OCCUPANCY_AM</a>,                <a class="code" href="cvt___v1724_8h.html#a306b45ffd3db33dc5bbdc8fbd466fe05" title="CH 0 Number of Buffers Filled register data size.">CVT_V1724_CH0_BUFF_OCCUPANCY_DATA_SIZE</a>},                        
<a name="l00122"></a>00122         {<a class="code" href="cvt___v1724_8h.html#aa27d515c38c886365e4635dabf94994d" title="CH 0 DAC Data Configuration register relative address.">CVT_V1724_CH0_DAC_CONF_ADD</a>,                    <a class="code" href="cvt___v1724_8h.html#a61fda5b172968522bbfe58139d249cf0" title="CH 0 DAC Data Configuration register address modifier.">CVT_V1724_CH0_DAC_CONF_AM</a>,                              <a class="code" href="cvt___v1724_8h.html#af86a9a720de2e21ccb1c5c4581b3d38a" title="CH 0 DAC Data Configuration register data size.">CVT_V1724_CH0_DAC_CONF_DATA_SIZE</a>},                                      
<a name="l00123"></a>00123         {<a class="code" href="cvt___v1724_8h.html#aef03a186229e44bfbd00fbd5d9fae526" title="CH 0 Configuration register relative address.">CVT_V1724_CH0_ADC_CONF_ADD</a>,                    <a class="code" href="cvt___v1724_8h.html#aa0040acee62b5862973f2697bfe6aa21" title="CH 0 Configuration register address modifier.">CVT_V1724_CH0_ADC_CONF_AM</a>,                              <a class="code" href="cvt___v1724_8h.html#aaf5cd0982346e3fd7cb9875b7fdf3b1f" title="CH 0 Configuration register data size.">CVT_V1724_CH0_ADC_CONF_DATA_SIZE</a>},                                      
<a name="l00124"></a>00124         {<a class="code" href="cvt___v1724_8h.html#a22a09357f42be16dd0f8388b2f932205" title="CH 0 ADC Debug Reserved register relative address.">CVT_V1724_CH0_RESERVED_ADC_DEBUG_ADD</a>,  <a class="code" href="cvt___v1724_8h.html#a7696d1805a1a93b024c6faf97b560bbb" title="CH 0 ADC Debug Reserved register address modifier.">CVT_V1724_CH0_RESERVED_ADC_DEBUG_AM</a>,    <a class="code" href="cvt___v1724_8h.html#aee0e192ca186d11bafff518b132a918c" title="CH 0 ADC Debug Reserved register data size.">CVT_V1724_CH0_RESERVED_ADC_DEBUG_DATA_SIZE</a>},            
<a name="l00125"></a>00125         {<a class="code" href="cvt___v1724_8h.html#aeb28f123d5a169f53db78eaaf008e9d9" title="CH 0 Memory test data Reserved register relative address.">CVT_V1724_CH0_RESERVED_MEM_DATA_ADD</a>,   <a class="code" href="cvt___v1724_8h.html#a8ff376e66ab3ce256bf26bb1c9c32ed8" title="CH 0 Memory test data Reserved register address modifier.">CVT_V1724_CH0_RESERVED_MEM_DATA_AM</a>,             <a class="code" href="cvt___v1724_8h.html#ac055c4d82f9d0ace74ada5a67ad1b8e6" title="CH 0 Memory test data Reserved register data size.">CVT_V1724_CH0_RESERVED_MEM_DATA_DATA_SIZE</a>},                     
<a name="l00126"></a>00126         {<a class="code" href="cvt___v1724_8h.html#a50674ce023cfd104b4097613a2cd1f95" title="CH 0 Memory test address Reserved register relative address.">CVT_V1724_CH0_RESERVED_MEM_ADDRESS_ADD</a>,<a class="code" href="cvt___v1724_8h.html#a04a01d848e742f11ec91fc27f4a1d7bd" title="CH 0 Memory test address Reserved register address modifier.">CVT_V1724_CH0_RESERVED_MEM_ADDRESS_AM</a>,  <a class="code" href="cvt___v1724_8h.html#abeb17c58f34d06ac6384c74bfd3c28f1" title="CH 0 Memory test address Reserved register data size.">CVT_V1724_CH0_RESERVED_MEM_ADDRESS_DATA_SIZE</a>},          
<a name="l00128"></a>00128 <span class="comment">//</span>
<a name="l00129"></a>00129 <span class="comment">// CH 1</span>
<a name="l00130"></a>00130         {<a class="code" href="cvt___v1724_8h.html#afaeb43a6bda62c1cae8bf3bf17c8bbbd" title="CH 1 Read Block channel broadcast reserved register relative address.">CVT_V1724_CH1_RESERVED_RND_ACC_ADD</a>,    <a class="code" href="cvt___v1724_8h.html#aac06bf66dd9a77b3d5b5b14c3a40ed3e" title="CH 1 Read Block channel broadcast reserved register address modifier.">CVT_V1724_CH1_RESERVED_RND_ACC_AM</a>,              <a class="code" href="cvt___v1724_8h.html#a7521db80939c43314844a7e6241c4895" title="CH 1 Read Block channel broadcast reserved register data size.">CVT_V1724_CH1_RESERVED_RND_ACC_DATA_SIZE</a>},                      
<a name="l00131"></a>00131         {<a class="code" href="cvt___v1724_8h.html#a21dedbd9c8eee6df9a6781f444cc8af6" title="CH 1 Zero suppression threshold register relative address.">CVT_V1724_CH1_ZSTH_ADD</a>,                                <a class="code" href="cvt___v1724_8h.html#a5748135fd9f6670e004524dca9f865a8" title="CH 1 Zero suppression threshold register address modifier.">CVT_V1724_CH1_ZSTH_AM</a>,                                  <a class="code" href="cvt___v1724_8h.html#afa15d9ff27bf22afc47dd2c13c98c7a5" title="Ch 1 Zero suppression threshold register data size).">CVT_V1724_CH1_ZSTH_DATA_SIZE</a>},                                          
<a name="l00132"></a>00132         {<a class="code" href="cvt___v1724_8h.html#a18768748ef8b41453564bbdb983b33d3" title="CH 1 Threshold register relative address.">CVT_V1724_CH1_THRESHOLD_ADD</a>,                   <a class="code" href="cvt___v1724_8h.html#a79441eb5b820968d65d3e70bb0925844" title="CH 1 Threshold register address modifier.">CVT_V1724_CH1_THRESHOLD_AM</a>,                             <a class="code" href="cvt___v1724_8h.html#a0eb23b3e5e48a5ba028175fe96c12dc8" title="CH 1 Threshold register data size.">CVT_V1724_CH1_THRESHOLD_DATA_SIZE</a>},                                     
<a name="l00133"></a>00133         {<a class="code" href="cvt___v1724_8h.html#a3996ecf8d84990d7387a8e572ffcc469" title="CH 1 Over/Under Threshold Samples register relative address.">CVT_V1724_CH1_TIME_OVER_UNDER_THR_ADD</a>, <a class="code" href="cvt___v1724_8h.html#a5878402795549458d506b28ae0c9c239" title="CH 1 Over/Under Threshold Samples register address modifier.">CVT_V1724_CH1_TIME_OVER_UNDER_THR_AM</a>,   <a class="code" href="cvt___v1724_8h.html#afd5b1d6ad5b8abf30f7e29bbffcc3531" title="CH 1 Over/Under Threshold Samples register data size.">CVT_V1724_CH1_TIME_OVER_UNDER_THR_DATA_SIZE</a>},           
<a name="l00134"></a>00134         {<a class="code" href="cvt___v1724_8h.html#ac63b875bd8471a75e37d72f137ca9797" title="CH 1 status register relative address.">CVT_V1724_CH1_STATUS_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#aa543b207a5f1ed14b8f1bc98b497c0ad" title="CH 1 status register address modifier.">CVT_V1724_CH1_STATUS_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#a4bb778d1a6e2a9e8a48ccb97291280da" title="CH 1 status register data size.">CVT_V1724_CH1_STATUS_DATA_SIZE</a>},                                        
<a name="l00135"></a>00135         {<a class="code" href="cvt___v1724_8h.html#a1bd9ccb1a6724c3595cfbe7e93736b1d" title="CH 1 firmware revision register relative address.">CVT_V1724_CH1_FW_REV_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#a071b530d70f5256dc091f8be1b4e1205" title="CH 1 firmware revision register address modifier.">CVT_V1724_CH1_FW_REV_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#aca887ea6721b02cba3bdc8696f628956" title="CH 1 firmware revision register data size.">CVT_V1724_CH1_FW_REV_DATA_SIZE</a>},                                        
<a name="l00136"></a>00136         {<a class="code" href="cvt___v1724_8h.html#a6906e71611bfaeeb6f620c1b27ce2f9d" title="CH 1 Number of Buffers Filled register relative address.">CVT_V1724_CH1_BUFF_OCCUPANCY_ADD</a>,              <a class="code" href="cvt___v1724_8h.html#aa02375d100df5cc35ac9704ce434eac3" title="CH 1 Number of Buffers Filled register address modifier.">CVT_V1724_CH1_BUFF_OCCUPANCY_AM</a>,                <a class="code" href="cvt___v1724_8h.html#ae7446b8b3e1f430650f6f0e2be09c04f" title="CH 1 Number of Buffers Filled register data size.">CVT_V1724_CH1_BUFF_OCCUPANCY_DATA_SIZE</a>},                        
<a name="l00137"></a>00137         {<a class="code" href="cvt___v1724_8h.html#a7d4e241684494016c8b9369433bd1dcb" title="CH 1 DAC Data Configuration register relative address.">CVT_V1724_CH1_DAC_CONF_ADD</a>,                    <a class="code" href="cvt___v1724_8h.html#a79306d885599697bf05a181e01a4f181" title="CH 1 DAC Data Configuration register address modifier.">CVT_V1724_CH1_DAC_CONF_AM</a>,                              <a class="code" href="cvt___v1724_8h.html#a8e7c2598723c57fe62c5aa65af51a234" title="CH 1 DAC Data Configuration register data size.">CVT_V1724_CH1_DAC_CONF_DATA_SIZE</a>},                                      
<a name="l00138"></a>00138         {<a class="code" href="cvt___v1724_8h.html#ae969457fcb5ebd2eddb798e95cf81076" title="CH 1 Configuration register relative address.">CVT_V1724_CH1_ADC_CONF_ADD</a>,                    <a class="code" href="cvt___v1724_8h.html#a390e4d948ebfd9ad8bfef87e331bbf44" title="CH 1 Configuration register address modifier.">CVT_V1724_CH1_ADC_CONF_AM</a>,                              <a class="code" href="cvt___v1724_8h.html#a4efff28761a19780c881912c5afc2a65" title="CH 1 Configuration register data size.">CVT_V1724_CH1_ADC_CONF_DATA_SIZE</a>},                                      
<a name="l00139"></a>00139         {<a class="code" href="cvt___v1724_8h.html#a7d9cd118e5b225507bbd7600bae04afe" title="CH 1 ADC Debug Reserved register relative address.">CVT_V1724_CH1_RESERVED_ADC_DEBUG_ADD</a>,  <a class="code" href="cvt___v1724_8h.html#a28b38757fe06a8fd0ccb319d02f460d8" title="CH 1 ADC Debug Reserved register address modifier.">CVT_V1724_CH1_RESERVED_ADC_DEBUG_AM</a>,    <a class="code" href="cvt___v1724_8h.html#a1664ec20583e51e89ec2c1f5fc05e0d5" title="CH 1 ADC Debug Reserved register data size.">CVT_V1724_CH1_RESERVED_ADC_DEBUG_DATA_SIZE</a>},            
<a name="l00140"></a>00140         {<a class="code" href="cvt___v1724_8h.html#a6d323d977910d9f80b43aaf4f5112bec" title="CH 1 Memory test data Reserved register relative address.">CVT_V1724_CH1_RESERVED_MEM_DATA_ADD</a>,   <a class="code" href="cvt___v1724_8h.html#af4b2836cbefb6396a0321219b09e37b6" title="CH 1 Memory test data Reserved register address modifier.">CVT_V1724_CH1_RESERVED_MEM_DATA_AM</a>,             <a class="code" href="cvt___v1724_8h.html#aaf49cbb118d3fbafe9b17cb795f72d83" title="CH 1 Memory test data Reserved register data size.">CVT_V1724_CH1_RESERVED_MEM_DATA_DATA_SIZE</a>},                     
<a name="l00141"></a>00141         {<a class="code" href="cvt___v1724_8h.html#aca1ac17b9ff9855b9aa5d230ff58cf38" title="CH 1 Memory test address Reserved register relative address.">CVT_V1724_CH1_RESERVED_MEM_ADDRESS_ADD</a>,<a class="code" href="cvt___v1724_8h.html#ad15d67ed2748568256dff5b6ad7863d1" title="CH 1 Memory test address Reserved register address modifier.">CVT_V1724_CH1_RESERVED_MEM_ADDRESS_AM</a>,  <a class="code" href="cvt___v1724_8h.html#a09243a2ae6d8c047b4ce5d01341bb4c2" title="CH 1 Memory test address Reserved register data size.">CVT_V1724_CH1_RESERVED_MEM_ADDRESS_DATA_SIZE</a>},          
<a name="l00143"></a>00143 <span class="comment">//</span>
<a name="l00144"></a>00144 <span class="comment">// CH 2</span>
<a name="l00145"></a>00145         {<a class="code" href="cvt___v1724_8h.html#a875086436aed70614e0905900b362505" title="CH 2 Read Block channel broadcast reserved register relative address.">CVT_V1724_CH2_RESERVED_RND_ACC_ADD</a>,    <a class="code" href="cvt___v1724_8h.html#a5338701ec280112131dc44b48c53bf90" title="CH 2 Read Block channel broadcast reserved register address modifier.">CVT_V1724_CH2_RESERVED_RND_ACC_AM</a>,              <a class="code" href="cvt___v1724_8h.html#a940f00597ddc6affdf9dc30943ad0ceb" title="CH 2 Read Block channel broadcast reserved register data size.">CVT_V1724_CH2_RESERVED_RND_ACC_DATA_SIZE</a>},                      
<a name="l00146"></a>00146         {<a class="code" href="cvt___v1724_8h.html#a5da7915001358a39d0df30fce93ad210" title="CH 2 Zero suppression threshold register relative address.">CVT_V1724_CH2_ZSTH_ADD</a>,                                <a class="code" href="cvt___v1724_8h.html#aec345d750e2fd6cfe80d85b052b23480" title="CH 2 Zero suppression threshold register address modifier.">CVT_V1724_CH2_ZSTH_AM</a>,                                  <a class="code" href="cvt___v1724_8h.html#ac87a40fee1926c827c29358c5f9a97bc" title="Ch 2 Zero suppression threshold register data size).">CVT_V1724_CH2_ZSTH_DATA_SIZE</a>},                                          
<a name="l00147"></a>00147         {<a class="code" href="cvt___v1724_8h.html#ae3808d03b7ca0501198a185923135c03" title="CH 2 Threshold register relative address.">CVT_V1724_CH2_THRESHOLD_ADD</a>,                   <a class="code" href="cvt___v1724_8h.html#a09cf5260e85b6c18f6f3b599a2ce47db" title="CH 2 Threshold register address modifier.">CVT_V1724_CH2_THRESHOLD_AM</a>,                             <a class="code" href="cvt___v1724_8h.html#a90abe96723354753940b443d1674bace" title="CH 2 Threshold register data size.">CVT_V1724_CH2_THRESHOLD_DATA_SIZE</a>},                                     
<a name="l00148"></a>00148         {<a class="code" href="cvt___v1724_8h.html#a88af40072685a76d1b3bedd1cf8bd81b" title="CH 2 Over/Under Threshold Samples register relative address.">CVT_V1724_CH2_TIME_OVER_UNDER_THR_ADD</a>, <a class="code" href="cvt___v1724_8h.html#a4f471b5804211c5715706f9d3e2a481a" title="CH 2 Over/Under Threshold Samples register address modifier.">CVT_V1724_CH2_TIME_OVER_UNDER_THR_AM</a>,   <a class="code" href="cvt___v1724_8h.html#a24f16747a185620d770dd6e5e1f5370e" title="CH 2 Over/Under Threshold Samples register data size.">CVT_V1724_CH2_TIME_OVER_UNDER_THR_DATA_SIZE</a>},           
<a name="l00149"></a>00149         {<a class="code" href="cvt___v1724_8h.html#a02f098f0284e4746b3505666d91a146e" title="CH 2 status register relative address.">CVT_V1724_CH2_STATUS_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#acd374ecf46adf3393d7715bc4a56650d" title="CH 2 status register address modifier.">CVT_V1724_CH2_STATUS_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#a20252a0f2ebcdb31cce241d4a8c4624a" title="CH 2 status register data size.">CVT_V1724_CH2_STATUS_DATA_SIZE</a>},                                        
<a name="l00150"></a>00150         {<a class="code" href="cvt___v1724_8h.html#a76e462716db7b876453db96634b61b95" title="CH 2 firmware revision register relative address.">CVT_V1724_CH2_FW_REV_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#a83c247a31b9d951ddd3b8163e5859da6" title="CH 2 firmware revision register address modifier.">CVT_V1724_CH2_FW_REV_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#a452765c9b72ca70545cdf8c24ca07ab9" title="CH 2 firmware revision register data size.">CVT_V1724_CH2_FW_REV_DATA_SIZE</a>},                                        
<a name="l00151"></a>00151         {<a class="code" href="cvt___v1724_8h.html#a90313bbdf665365de02008b61c48bc36" title="CH 2 Number of Buffers Filled register relative address.">CVT_V1724_CH2_BUFF_OCCUPANCY_ADD</a>,              <a class="code" href="cvt___v1724_8h.html#a367479ec18154a6cdcc678f0e4db7825" title="CH 2 Number of Buffers Filled register address modifier.">CVT_V1724_CH2_BUFF_OCCUPANCY_AM</a>,                <a class="code" href="cvt___v1724_8h.html#a61c3ba0908ef466b26978addcec0eadf" title="CH 2 Number of Buffers Filled register data size.">CVT_V1724_CH2_BUFF_OCCUPANCY_DATA_SIZE</a>},                        
<a name="l00152"></a>00152         {<a class="code" href="cvt___v1724_8h.html#abfb113e4090c0a07d6b5eb086d281618" title="CH 2 DAC Data Configuration register relative address.">CVT_V1724_CH2_DAC_CONF_ADD</a>,                    <a class="code" href="cvt___v1724_8h.html#a537885cab178f6efbd173c7705917a19" title="CH 2 DAC Data Configuration register address modifier.">CVT_V1724_CH2_DAC_CONF_AM</a>,                              <a class="code" href="cvt___v1724_8h.html#a077e3c71f3db01468a337a8accceb1cd" title="CH 2 DAC Data Configuration register data size.">CVT_V1724_CH2_DAC_CONF_DATA_SIZE</a>},                                      
<a name="l00153"></a>00153         {<a class="code" href="cvt___v1724_8h.html#a1cab64c70d4c216b346bfe0d94c5625e" title="CH 2 Configuration register relative address.">CVT_V1724_CH2_ADC_CONF_ADD</a>,                    <a class="code" href="cvt___v1724_8h.html#a36cf19425ad728577380d3eef871ee21" title="CH 2 Configuration register address modifier.">CVT_V1724_CH2_ADC_CONF_AM</a>,                              <a class="code" href="cvt___v1724_8h.html#aed99123c537d1b666c7d618d4d302d8b" title="CH 2 Configuration register data size.">CVT_V1724_CH2_ADC_CONF_DATA_SIZE</a>},                                      
<a name="l00154"></a>00154         {<a class="code" href="cvt___v1724_8h.html#a2c3e90d6237a610377c684589431de0b" title="CH 2 ADC Debug Reserved register relative address.">CVT_V1724_CH2_RESERVED_ADC_DEBUG_ADD</a>,  <a class="code" href="cvt___v1724_8h.html#a57d5970c0897fdf98e4cedc37ede7e3a" title="CH 2 ADC Debug Reserved register address modifier.">CVT_V1724_CH2_RESERVED_ADC_DEBUG_AM</a>,    <a class="code" href="cvt___v1724_8h.html#a7bfc26236ee5694aed8f88d6fd99c749" title="CH 2 ADC Debug Reserved register data size.">CVT_V1724_CH2_RESERVED_ADC_DEBUG_DATA_SIZE</a>},            
<a name="l00155"></a>00155         {<a class="code" href="cvt___v1724_8h.html#a638dd0ce1b3a9533726c64d3be7f9306" title="CH 2 Memory test data Reserved register relative address.">CVT_V1724_CH2_RESERVED_MEM_DATA_ADD</a>,   <a class="code" href="cvt___v1724_8h.html#ab8280283e469af43e8a6f81e3af84db3" title="CH 2 Memory test data Reserved register address modifier.">CVT_V1724_CH2_RESERVED_MEM_DATA_AM</a>,             <a class="code" href="cvt___v1724_8h.html#a6d3b1432eab605682ebd83c855600739" title="CH 2 Memory test data Reserved register data size.">CVT_V1724_CH2_RESERVED_MEM_DATA_DATA_SIZE</a>},                     
<a name="l00156"></a>00156         {<a class="code" href="cvt___v1724_8h.html#a4b171d627fe2a7332bb9d923128fabe3" title="CH 2 Memory test address Reserved register relative address.">CVT_V1724_CH2_RESERVED_MEM_ADDRESS_ADD</a>,<a class="code" href="cvt___v1724_8h.html#a64be56eabdd1149493587b4a444b2b96" title="CH 2 Memory test address Reserved register address modifier.">CVT_V1724_CH2_RESERVED_MEM_ADDRESS_AM</a>,  <a class="code" href="cvt___v1724_8h.html#ad4817b7ff4b0d731c1521c9a2fb55ce6" title="CH 2 Memory test address Reserved register data size.">CVT_V1724_CH2_RESERVED_MEM_ADDRESS_DATA_SIZE</a>},          
<a name="l00158"></a>00158 <span class="comment">//</span>
<a name="l00159"></a>00159 <span class="comment">// CH 3</span>
<a name="l00160"></a>00160         {<a class="code" href="cvt___v1724_8h.html#a7545dc581f62d882bcbf3305b70135bf" title="CH 3 Read Block channel broadcast reserved register relative address.">CVT_V1724_CH3_RESERVED_RND_ACC_ADD</a>,    <a class="code" href="cvt___v1724_8h.html#a7a81cf0f58225a4985e44783ae65b753" title="CH 3 Read Block channel broadcast reserved register address modifier.">CVT_V1724_CH3_RESERVED_RND_ACC_AM</a>,              <a class="code" href="cvt___v1724_8h.html#a0c1b642429372b994efc3b9401afdb95" title="CH 3 Read Block channel broadcast reserved register data size.">CVT_V1724_CH3_RESERVED_RND_ACC_DATA_SIZE</a>},                      
<a name="l00161"></a>00161         {<a class="code" href="cvt___v1724_8h.html#af57e46ff83f9cc2b7560b25c8a8a1a30" title="CH 3 Zero suppression threshold register relative address.">CVT_V1724_CH3_ZSTH_ADD</a>,                                <a class="code" href="cvt___v1724_8h.html#abd7ca6243915b680a81dad2eb7094f6d" title="CH 3 Zero suppression threshold register address modifier.">CVT_V1724_CH3_ZSTH_AM</a>,                                  <a class="code" href="cvt___v1724_8h.html#a53558cc13c7e71780b1610d0e00de009" title="Ch 3 Zero suppression threshold register data size).">CVT_V1724_CH3_ZSTH_DATA_SIZE</a>},                                          
<a name="l00162"></a>00162         {<a class="code" href="cvt___v1724_8h.html#a8d6872e8b067d05db6dd218587b0da36" title="CH 3 Threshold register relative address.">CVT_V1724_CH3_THRESHOLD_ADD</a>,                   <a class="code" href="cvt___v1724_8h.html#ae3b2ebf72b44ff10ce40d800540196d3" title="CH 3 Threshold register address modifier.">CVT_V1724_CH3_THRESHOLD_AM</a>,                             <a class="code" href="cvt___v1724_8h.html#afd0650260791c72e61a9cf6c62162d28" title="CH 3 Threshold register data size.">CVT_V1724_CH3_THRESHOLD_DATA_SIZE</a>},                                     
<a name="l00163"></a>00163         {<a class="code" href="cvt___v1724_8h.html#a45cc4d4712e9aa4254bb0bd041ae17c8" title="CH 3 Over/Under Threshold Samples register relative address.">CVT_V1724_CH3_TIME_OVER_UNDER_THR_ADD</a>, <a class="code" href="cvt___v1724_8h.html#a731a870ae0251d695e020c45caafd298" title="CH 3 Over/Under Threshold Samples register address modifier.">CVT_V1724_CH3_TIME_OVER_UNDER_THR_AM</a>,   <a class="code" href="cvt___v1724_8h.html#a408d5e42885ca59914ab3ec227e98319" title="CH 3 Over/Under Threshold Samples register data size.">CVT_V1724_CH3_TIME_OVER_UNDER_THR_DATA_SIZE</a>},           
<a name="l00164"></a>00164         {<a class="code" href="cvt___v1724_8h.html#ae32b6eef54320c1fa5cf9393912244c9" title="CH 3 status register relative address.">CVT_V1724_CH3_STATUS_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#a52f7e9ea727758c81d55e198e252a851" title="CH 3 status register address modifier.">CVT_V1724_CH3_STATUS_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#ac02e21ce29fe156a1695b11c4689a654" title="CH 3 status register data size.">CVT_V1724_CH3_STATUS_DATA_SIZE</a>},                                        
<a name="l00165"></a>00165         {<a class="code" href="cvt___v1724_8h.html#afff2ca63e57d836bd829ab661cc98506" title="CH 3 firmware revision register relative address.">CVT_V1724_CH3_FW_REV_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#a620309962ec559f595fbbfb713e2df11" title="CH 3 firmware revision register address modifier.">CVT_V1724_CH3_FW_REV_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#ae4f4fddb3484dbb0662ce69f294c99c8" title="CH 3 firmware revision register data size.">CVT_V1724_CH3_FW_REV_DATA_SIZE</a>},                                        
<a name="l00166"></a>00166         {<a class="code" href="cvt___v1724_8h.html#ac3bfffa2889508e1b96211b113779f36" title="CH 3 Number of Buffers Filled register relative address.">CVT_V1724_CH3_BUFF_OCCUPANCY_ADD</a>,              <a class="code" href="cvt___v1724_8h.html#a940a2ca14b665dfeadcb0eb190be532a" title="CH 3 Number of Buffers Filled register address modifier.">CVT_V1724_CH3_BUFF_OCCUPANCY_AM</a>,                <a class="code" href="cvt___v1724_8h.html#a226d4dde9b553cf142fa3674074a0cac" title="CH 3 Number of Buffers Filled register data size.">CVT_V1724_CH3_BUFF_OCCUPANCY_DATA_SIZE</a>},                        
<a name="l00167"></a>00167         {<a class="code" href="cvt___v1724_8h.html#a2bb6188f765d683d93ab39a2747068f6" title="CH 3 DAC Data Configuration register relative address.">CVT_V1724_CH3_DAC_CONF_ADD</a>,                    <a class="code" href="cvt___v1724_8h.html#a451cb39668d561e5fd82916f4b1c77db" title="CH 3 DAC Data Configuration register address modifier.">CVT_V1724_CH3_DAC_CONF_AM</a>,                              <a class="code" href="cvt___v1724_8h.html#a086f60bc76c55149f7060ec68079651a" title="CH 3 DAC Data Configuration register data size.">CVT_V1724_CH3_DAC_CONF_DATA_SIZE</a>},                                      
<a name="l00168"></a>00168         {<a class="code" href="cvt___v1724_8h.html#afbd963ff2c8e214fd228c1b859da4275" title="CH 3 Configuration register relative address.">CVT_V1724_CH3_ADC_CONF_ADD</a>,                    <a class="code" href="cvt___v1724_8h.html#abeefca894307f786cb5d2067b67dad63" title="CH 3 Configuration register address modifier.">CVT_V1724_CH3_ADC_CONF_AM</a>,                              <a class="code" href="cvt___v1724_8h.html#a5ab6a28a4726ba65250f42e6b068e3a8" title="CH 3 Configuration register data size.">CVT_V1724_CH3_ADC_CONF_DATA_SIZE</a>},                                      
<a name="l00169"></a>00169         {<a class="code" href="cvt___v1724_8h.html#ab4e598ade31921ebc6ac04351b00e9ab" title="CH 3 ADC Debug Reserved register relative address.">CVT_V1724_CH3_RESERVED_ADC_DEBUG_ADD</a>,  <a class="code" href="cvt___v1724_8h.html#afc7032043b3d5c981d5956c3521c5464" title="CH 3 ADC Debug Reserved register address modifier.">CVT_V1724_CH3_RESERVED_ADC_DEBUG_AM</a>,    <a class="code" href="cvt___v1724_8h.html#a0a514b187ea4b381a757cfd625585c8f" title="CH 3 ADC Debug Reserved register data size.">CVT_V1724_CH3_RESERVED_ADC_DEBUG_DATA_SIZE</a>},            
<a name="l00170"></a>00170         {<a class="code" href="cvt___v1724_8h.html#a2fd23593b9b7821dfc725f28718a1b42" title="CH 3 Memory test data Reserved register relative address.">CVT_V1724_CH3_RESERVED_MEM_DATA_ADD</a>,   <a class="code" href="cvt___v1724_8h.html#a8d3b3f9ce7e93cb416f001f3e50c56d4" title="CH 3 Memory test data Reserved register address modifier.">CVT_V1724_CH3_RESERVED_MEM_DATA_AM</a>,             <a class="code" href="cvt___v1724_8h.html#ad9824be67566033ab85649c491108f38" title="CH 3 Memory test data Reserved register data size.">CVT_V1724_CH3_RESERVED_MEM_DATA_DATA_SIZE</a>},                     
<a name="l00171"></a>00171         {<a class="code" href="cvt___v1724_8h.html#af91a15906340730ef0b0044ddb45c90e" title="CH 3 Memory test address Reserved register relative address.">CVT_V1724_CH3_RESERVED_MEM_ADDRESS_ADD</a>,<a class="code" href="cvt___v1724_8h.html#a63bb53df354a929113e22f04ee8e7fdd" title="CH 3 Memory test address Reserved register address modifier.">CVT_V1724_CH3_RESERVED_MEM_ADDRESS_AM</a>,  <a class="code" href="cvt___v1724_8h.html#a5b1c1c72a17fbfdbe7f65aa5469235c6" title="CH 3 Memory test address Reserved register data size.">CVT_V1724_CH3_RESERVED_MEM_ADDRESS_DATA_SIZE</a>},          
<a name="l00173"></a>00173 <span class="comment">//</span>
<a name="l00174"></a>00174 <span class="comment">// CH 4</span>
<a name="l00175"></a>00175         {<a class="code" href="cvt___v1724_8h.html#a99d71571571153e600dff0b93b6879fe" title="CH 4 Read Block channel broadcast reserved register relative address.">CVT_V1724_CH4_RESERVED_RND_ACC_ADD</a>,    <a class="code" href="cvt___v1724_8h.html#a2baad4ea3741295d6b4cb2b677c6b44c" title="CH 4 Read Block channel broadcast reserved register address modifier.">CVT_V1724_CH4_RESERVED_RND_ACC_AM</a>,              <a class="code" href="cvt___v1724_8h.html#aa0ad0825487bdcbc7f2a8cdd95d0bc28" title="CH 4 Read Block channel broadcast reserved register data size.">CVT_V1724_CH4_RESERVED_RND_ACC_DATA_SIZE</a>},                      
<a name="l00176"></a>00176         {<a class="code" href="cvt___v1724_8h.html#a9a2ce1ff514163a53629c5b54741557b" title="CH 4 Zero suppression threshold register relative address.">CVT_V1724_CH4_ZSTH_ADD</a>,                                <a class="code" href="cvt___v1724_8h.html#ae0d7bed1f9ed88501b676788584ff8a5" title="CH 4 Zero suppression threshold register address modifier.">CVT_V1724_CH4_ZSTH_AM</a>,                                  <a class="code" href="cvt___v1724_8h.html#a68ca19918778cf48e968204e849a9839" title="Ch 4 Zero suppression threshold register data size).">CVT_V1724_CH4_ZSTH_DATA_SIZE</a>},                                          
<a name="l00177"></a>00177         {<a class="code" href="cvt___v1724_8h.html#abdcaac2c4e326e05f4c0342077b590ce" title="CH 4 Threshold register relative address.">CVT_V1724_CH4_THRESHOLD_ADD</a>,                   <a class="code" href="cvt___v1724_8h.html#a412ef096beed083facdd10bc795e8a3a" title="CH 4 Threshold register address modifier.">CVT_V1724_CH4_THRESHOLD_AM</a>,                             <a class="code" href="cvt___v1724_8h.html#a6dab32e6e8ed3b0362f2edeafba7658d" title="CH 4 Threshold register data size.">CVT_V1724_CH4_THRESHOLD_DATA_SIZE</a>},                                     
<a name="l00178"></a>00178         {<a class="code" href="cvt___v1724_8h.html#a9a2ed1328b550514e7f411bf840911e0" title="CH 4 Over/Under Threshold Samples register relative address.">CVT_V1724_CH4_TIME_OVER_UNDER_THR_ADD</a>, <a class="code" href="cvt___v1724_8h.html#a8b1c8f5e5c42be6236767896cfafb19b" title="CH 4 Over/Under Threshold Samples register address modifier.">CVT_V1724_CH4_TIME_OVER_UNDER_THR_AM</a>,   <a class="code" href="cvt___v1724_8h.html#a0b47c2bc2ce22c382f080d391bd97d6f" title="CH 4 Over/Under Threshold Samples register data size.">CVT_V1724_CH4_TIME_OVER_UNDER_THR_DATA_SIZE</a>},           
<a name="l00179"></a>00179         {<a class="code" href="cvt___v1724_8h.html#aa66f0acd97f52c63a0edecffd787bfaa" title="CH 4 status register relative address.">CVT_V1724_CH4_STATUS_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#ab743a600337abb2213fe831335e3df09" title="CH 4 status register address modifier.">CVT_V1724_CH4_STATUS_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#a121781e06d8732a53dd032149b38842b" title="CH 4 status register data size.">CVT_V1724_CH4_STATUS_DATA_SIZE</a>},                                        
<a name="l00180"></a>00180         {<a class="code" href="cvt___v1724_8h.html#a884c0889b4455dd85517ec1586ed1f48" title="CH 4 firmware revision register relative address.">CVT_V1724_CH4_FW_REV_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#a248f129c6f1e00cc55badbe4ca0a94d3" title="CH 4 firmware revision register address modifier.">CVT_V1724_CH4_FW_REV_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#a5fdbe31e41759f4a5f41d9f4f88ec37c" title="CH 4 firmware revision register data size.">CVT_V1724_CH4_FW_REV_DATA_SIZE</a>},                                        
<a name="l00181"></a>00181         {<a class="code" href="cvt___v1724_8h.html#a4f328dcfc5f7273585050cfea67e6b41" title="CH 4 Number of Buffers Filled register relative address.">CVT_V1724_CH4_BUFF_OCCUPANCY_ADD</a>,              <a class="code" href="cvt___v1724_8h.html#aa385b13fdfffb8e232d17da2909f481f" title="CH 4 Number of Buffers Filled register address modifier.">CVT_V1724_CH4_BUFF_OCCUPANCY_AM</a>,                <a class="code" href="cvt___v1724_8h.html#a26f79fa1fc66ccda05f2f12fcfaf2bec" title="CH 4 Number of Buffers Filled register data size.">CVT_V1724_CH4_BUFF_OCCUPANCY_DATA_SIZE</a>},                        
<a name="l00182"></a>00182         {<a class="code" href="cvt___v1724_8h.html#a1fb6ccd12c57b994649cc334cc98d4dc" title="CH 4 DAC Data Configuration register relative address.">CVT_V1724_CH4_DAC_CONF_ADD</a>,                    <a class="code" href="cvt___v1724_8h.html#a1c049bd200427473717d87db53eb8ab9" title="CH 4 DAC Data Configuration register address modifier.">CVT_V1724_CH4_DAC_CONF_AM</a>,                              <a class="code" href="cvt___v1724_8h.html#a10bb21b2f480a1f151b9460a3e1018a1" title="CH 4 DAC Data Configuration register data size.">CVT_V1724_CH4_DAC_CONF_DATA_SIZE</a>},                                      
<a name="l00183"></a>00183         {<a class="code" href="cvt___v1724_8h.html#a9ac61dbc9cd829e4b49136518bc22a7a" title="CH 4 Configuration register relative address.">CVT_V1724_CH4_ADC_CONF_ADD</a>,                    <a class="code" href="cvt___v1724_8h.html#a136bfe6f18d28c5407c60da625796ed6" title="CH 4 Configuration register address modifier.">CVT_V1724_CH4_ADC_CONF_AM</a>,                              <a class="code" href="cvt___v1724_8h.html#ad1bbec4f2a0cae0afb7b2a1f90f220f0" title="CH 4 Configuration register data size.">CVT_V1724_CH4_ADC_CONF_DATA_SIZE</a>},                                      
<a name="l00184"></a>00184         {<a class="code" href="cvt___v1724_8h.html#a4bcecf8610afe7d7cc6591e6a88cd9b6" title="CH 4 ADC Debug Reserved register relative address.">CVT_V1724_CH4_RESERVED_ADC_DEBUG_ADD</a>,  <a class="code" href="cvt___v1724_8h.html#afccf13f241e85f57144668bb1763ba12" title="CH 4 ADC Debug Reserved register address modifier.">CVT_V1724_CH4_RESERVED_ADC_DEBUG_AM</a>,    <a class="code" href="cvt___v1724_8h.html#a55e9bd3eddab5efcda991e998ad1aed6" title="CH 4 ADC Debug Reserved register data size.">CVT_V1724_CH4_RESERVED_ADC_DEBUG_DATA_SIZE</a>},            
<a name="l00185"></a>00185         {<a class="code" href="cvt___v1724_8h.html#a204a1a9a91f721e88c86b76f10587a7a" title="CH 4 Memory test data Reserved register relative address.">CVT_V1724_CH4_RESERVED_MEM_DATA_ADD</a>,   <a class="code" href="cvt___v1724_8h.html#a499a0ad7a2bf8b7fea595883797304cc" title="CH 4 Memory test data Reserved register address modifier.">CVT_V1724_CH4_RESERVED_MEM_DATA_AM</a>,             <a class="code" href="cvt___v1724_8h.html#a6906911a29c11a14fb09e7b7d850eef7" title="CH 4 Memory test data Reserved register data size.">CVT_V1724_CH4_RESERVED_MEM_DATA_DATA_SIZE</a>},                     
<a name="l00186"></a>00186         {<a class="code" href="cvt___v1724_8h.html#a1888095b28afb224b0e60e97f162aef5" title="CH 4 Memory test address Reserved register relative address.">CVT_V1724_CH4_RESERVED_MEM_ADDRESS_ADD</a>,<a class="code" href="cvt___v1724_8h.html#a5104dfda864af9c3a5da024cd5b7fad3" title="CH 4 Memory test address Reserved register address modifier.">CVT_V1724_CH4_RESERVED_MEM_ADDRESS_AM</a>,  <a class="code" href="cvt___v1724_8h.html#a7a7e05f6757c5643338a978aa97a4872" title="CH 4 Memory test address Reserved register data size.">CVT_V1724_CH4_RESERVED_MEM_ADDRESS_DATA_SIZE</a>},          
<a name="l00188"></a>00188 <span class="comment">//</span>
<a name="l00189"></a>00189 <span class="comment">// CH 5</span>
<a name="l00190"></a>00190         {<a class="code" href="cvt___v1724_8h.html#a7ed89ca1611c17109e7bbd8c5c8c2e81" title="CH 5 Read Block channel broadcast reserved register relative address.">CVT_V1724_CH5_RESERVED_RND_ACC_ADD</a>,    <a class="code" href="cvt___v1724_8h.html#a5d430567e4e79daac6ffcca327ca13d0" title="CH 5 Read Block channel broadcast reserved register address modifier.">CVT_V1724_CH5_RESERVED_RND_ACC_AM</a>,              <a class="code" href="cvt___v1724_8h.html#a9f8f8f527e7421d243f079cd3d5e8e57" title="CH 5 Read Block channel broadcast reserved register data size.">CVT_V1724_CH5_RESERVED_RND_ACC_DATA_SIZE</a>},                      
<a name="l00191"></a>00191         {<a class="code" href="cvt___v1724_8h.html#a8476434421051b584bd0103c211442ac" title="CH 5 Zero suppression threshold register relative address.">CVT_V1724_CH5_ZSTH_ADD</a>,                                <a class="code" href="cvt___v1724_8h.html#ae553d79fa990f43ee5f4197d43d27f38" title="CH 5 Zero suppression threshold register address modifier.">CVT_V1724_CH5_ZSTH_AM</a>,                                  <a class="code" href="cvt___v1724_8h.html#a983230b9c68c8b0bd019b1f71b67f61c" title="Ch 5 Zero suppression threshold register data size).">CVT_V1724_CH5_ZSTH_DATA_SIZE</a>},                                          
<a name="l00192"></a>00192         {<a class="code" href="cvt___v1724_8h.html#a3ab68d7100f6dc866e294fac692f07ec" title="CH 5 Threshold register relative address.">CVT_V1724_CH5_THRESHOLD_ADD</a>,                   <a class="code" href="cvt___v1724_8h.html#a9bcb565c12884574bc43d7303a99912a" title="CH 5 Threshold register address modifier.">CVT_V1724_CH5_THRESHOLD_AM</a>,                             <a class="code" href="cvt___v1724_8h.html#a8b0434a8eb56a781de0072b3449e0815" title="CH 5 Threshold register data size.">CVT_V1724_CH5_THRESHOLD_DATA_SIZE</a>},                                     
<a name="l00193"></a>00193         {<a class="code" href="cvt___v1724_8h.html#a9e52215b2d8ca33a9e1775ca2c519775" title="CH 5 Over/Under Threshold Samples register relative address.">CVT_V1724_CH5_TIME_OVER_UNDER_THR_ADD</a>, <a class="code" href="cvt___v1724_8h.html#aa504dc3d9c045316d32d777c731684fb" title="CH 5 Over/Under Threshold Samples register address modifier.">CVT_V1724_CH5_TIME_OVER_UNDER_THR_AM</a>,   <a class="code" href="cvt___v1724_8h.html#a70af898a86a41418fc9322b39af3b18e" title="CH 5 Over/Under Threshold Samples register data size.">CVT_V1724_CH5_TIME_OVER_UNDER_THR_DATA_SIZE</a>},           
<a name="l00194"></a>00194         {<a class="code" href="cvt___v1724_8h.html#a321213a258b529261102132250706f87" title="CH 5 status register relative address.">CVT_V1724_CH5_STATUS_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#a865cd0003d67d91c056c2747e73e8c21" title="CH 5 status register address modifier.">CVT_V1724_CH5_STATUS_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#a2f9239c863a0a39bff2a1b01766d98ec" title="CH 5 status register data size.">CVT_V1724_CH5_STATUS_DATA_SIZE</a>},                                        
<a name="l00195"></a>00195         {<a class="code" href="cvt___v1724_8h.html#acfd42ba2c481f6c9b30d587255ff92ef" title="CH 5 firmware revision register relative address.">CVT_V1724_CH5_FW_REV_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#ace6f02ed1598a3ecc6365dd52e8171ed" title="CH 5 firmware revision register address modifier.">CVT_V1724_CH5_FW_REV_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#a9d085258d55bc23071a6a7808ce9c2ee" title="CH 5 firmware revision register data size.">CVT_V1724_CH5_FW_REV_DATA_SIZE</a>},                                        
<a name="l00196"></a>00196         {<a class="code" href="cvt___v1724_8h.html#afdd2d06cddf081a1a58b507106e784ad" title="CH 5 Number of Buffers Filled register relative address.">CVT_V1724_CH5_BUFF_OCCUPANCY_ADD</a>,              <a class="code" href="cvt___v1724_8h.html#a4a9c33c04ac169a788b5f6cbe21d6ac2" title="CH 5 Number of Buffers Filled register address modifier.">CVT_V1724_CH5_BUFF_OCCUPANCY_AM</a>,                <a class="code" href="cvt___v1724_8h.html#aef266504d006778f526794647c5d38d6" title="CH 5 Number of Buffers Filled register data size.">CVT_V1724_CH5_BUFF_OCCUPANCY_DATA_SIZE</a>},                        
<a name="l00197"></a>00197         {<a class="code" href="cvt___v1724_8h.html#a82acc4689e795e9743c37f58b236a3b6" title="CH 5 DAC Data Configuration register relative address.">CVT_V1724_CH5_DAC_CONF_ADD</a>,                    <a class="code" href="cvt___v1724_8h.html#afa56241a2dd642d90183efa10b450c8b" title="CH 5 DAC Data Configuration register address modifier.">CVT_V1724_CH5_DAC_CONF_AM</a>,                              <a class="code" href="cvt___v1724_8h.html#a227c227c59375e6815b6fd71500108d9" title="CH 5 DAC Data Configuration register data size.">CVT_V1724_CH5_DAC_CONF_DATA_SIZE</a>},                                      
<a name="l00198"></a>00198         {<a class="code" href="cvt___v1724_8h.html#aadffb7b8c36cc42e154ac2d1422c1cc4" title="CH 5 Configuration register relative address.">CVT_V1724_CH5_ADC_CONF_ADD</a>,                    <a class="code" href="cvt___v1724_8h.html#a7e14dea7209147a320bbd52146d300f7" title="CH 5 Configuration register address modifier.">CVT_V1724_CH5_ADC_CONF_AM</a>,                              <a class="code" href="cvt___v1724_8h.html#ac2c322d951b97c5802dc8aaf930c9d07" title="CH 5 Configuration register data size.">CVT_V1724_CH5_ADC_CONF_DATA_SIZE</a>},                                      
<a name="l00199"></a>00199         {<a class="code" href="cvt___v1724_8h.html#adb3b729575bfa5ce9c0648e134b5b33f" title="CH 5 ADC Debug Reserved register relative address.">CVT_V1724_CH5_RESERVED_ADC_DEBUG_ADD</a>,  <a class="code" href="cvt___v1724_8h.html#adf6f5f98f7cf4beebede256cf1ed795b" title="CH 5 ADC Debug Reserved register address modifier.">CVT_V1724_CH5_RESERVED_ADC_DEBUG_AM</a>,    <a class="code" href="cvt___v1724_8h.html#a5da1a0c71944d880708513876ea67e48" title="CH 5 ADC Debug Reserved register data size.">CVT_V1724_CH5_RESERVED_ADC_DEBUG_DATA_SIZE</a>},            
<a name="l00200"></a>00200         {<a class="code" href="cvt___v1724_8h.html#a67e94f115c071c1ecbca913a2c08ddb5" title="CH 5 Memory test data Reserved register relative address.">CVT_V1724_CH5_RESERVED_MEM_DATA_ADD</a>,   <a class="code" href="cvt___v1724_8h.html#a926058adc518a3260381368f14857f25" title="CH 5 Memory test data Reserved register address modifier.">CVT_V1724_CH5_RESERVED_MEM_DATA_AM</a>,             <a class="code" href="cvt___v1724_8h.html#ada2055c551afd1d43487452a84b28c19" title="CH 5 Memory test data Reserved register data size.">CVT_V1724_CH5_RESERVED_MEM_DATA_DATA_SIZE</a>},                     
<a name="l00201"></a>00201         {<a class="code" href="cvt___v1724_8h.html#a3d9c725283e9fac0f832338e3581d5d1" title="CH 5 Memory test address Reserved register relative address.">CVT_V1724_CH5_RESERVED_MEM_ADDRESS_ADD</a>,<a class="code" href="cvt___v1724_8h.html#a4c1e15555a419c4cc47c8c5edb8bf358" title="CH 5 Memory test address Reserved register address modifier.">CVT_V1724_CH5_RESERVED_MEM_ADDRESS_AM</a>,  <a class="code" href="cvt___v1724_8h.html#a19b57cebe96db0fabde640c68f7e0790" title="CH 5 Memory test address Reserved register data size.">CVT_V1724_CH5_RESERVED_MEM_ADDRESS_DATA_SIZE</a>},          
<a name="l00203"></a>00203 <span class="comment">//</span>
<a name="l00204"></a>00204 <span class="comment">// CH 6</span>
<a name="l00205"></a>00205         {<a class="code" href="cvt___v1724_8h.html#af79090c2e1e77e73440165d4add01118" title="CH 6 Read Block channel broadcast reserved register relative address.">CVT_V1724_CH6_RESERVED_RND_ACC_ADD</a>,    <a class="code" href="cvt___v1724_8h.html#a85626a250bd7e426ef981eabf7cbfac8" title="CH 6 Read Block channel broadcast reserved register address modifier.">CVT_V1724_CH6_RESERVED_RND_ACC_AM</a>,              <a class="code" href="cvt___v1724_8h.html#af5efbf2166a156768e2e261dd7b49c20" title="CH 6 Read Block channel broadcast reserved register data size.">CVT_V1724_CH6_RESERVED_RND_ACC_DATA_SIZE</a>},                      
<a name="l00206"></a>00206         {<a class="code" href="cvt___v1724_8h.html#a38366b96a3b78ce5dc9df2a1dd929618" title="CH 6 Zero suppression threshold register relative address.">CVT_V1724_CH6_ZSTH_ADD</a>,                                <a class="code" href="cvt___v1724_8h.html#a4ffa79d7ff3402515dd7a385c380321a" title="CH 6 Zero suppression threshold register address modifier.">CVT_V1724_CH6_ZSTH_AM</a>,                                  <a class="code" href="cvt___v1724_8h.html#ad3ceb4ba305bbb24a6bc4e5b68226e4a" title="Ch 6 Zero suppression threshold register data size).">CVT_V1724_CH6_ZSTH_DATA_SIZE</a>},                                          
<a name="l00207"></a>00207         {<a class="code" href="cvt___v1724_8h.html#aa1fbb70a892b7bc9ef196596a18a674e" title="CH 6 Threshold register relative address.">CVT_V1724_CH6_THRESHOLD_ADD</a>,                   <a class="code" href="cvt___v1724_8h.html#aaaf6ac0996d298e430e5fe4b3b60db4c" title="CH 6 Threshold register address modifier.">CVT_V1724_CH6_THRESHOLD_AM</a>,                             <a class="code" href="cvt___v1724_8h.html#af5a5a78aa3634cf47644fb919d34be63" title="CH 6 Threshold register data size.">CVT_V1724_CH6_THRESHOLD_DATA_SIZE</a>},                                     
<a name="l00208"></a>00208         {<a class="code" href="cvt___v1724_8h.html#a1f5b9cd9e63dbf5fc2cc0c24a02563bc" title="CH 6 Over/Under Threshold Samples register relative address.">CVT_V1724_CH6_TIME_OVER_UNDER_THR_ADD</a>, <a class="code" href="cvt___v1724_8h.html#acb2a2eaaf8363c8a97ef9330f2a6ccc8" title="CH 6 Over/Under Threshold Samples register address modifier.">CVT_V1724_CH6_TIME_OVER_UNDER_THR_AM</a>,   <a class="code" href="cvt___v1724_8h.html#a1291a904d16fa1b181f295dea75e5c4c" title="CH 6 Over/Under Threshold Samples register data size.">CVT_V1724_CH6_TIME_OVER_UNDER_THR_DATA_SIZE</a>},           
<a name="l00209"></a>00209         {<a class="code" href="cvt___v1724_8h.html#ae963f80a54db1b7dbf28a21a19cd8be1" title="CH 6 status register relative address.">CVT_V1724_CH6_STATUS_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#a9773ac50b4226ccb29de714d65db58d5" title="CH 6 status register address modifier.">CVT_V1724_CH6_STATUS_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#aea2c49af612d4c23d81cfbc7d8d41b07" title="CH 6 status register data size.">CVT_V1724_CH6_STATUS_DATA_SIZE</a>},                                        
<a name="l00210"></a>00210         {<a class="code" href="cvt___v1724_8h.html#a429d05326946447aab9210494d5a7b3e" title="CH 6 firmware revision register relative address.">CVT_V1724_CH6_FW_REV_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#ae72be2fc5c1a40cb17ed719b48f1e4cd" title="CH 6 firmware revision register address modifier.">CVT_V1724_CH6_FW_REV_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#a4d3847ff80c367e1dbb39ca64bec4bee" title="CH 6 firmware revision register data size.">CVT_V1724_CH6_FW_REV_DATA_SIZE</a>},                                        
<a name="l00211"></a>00211         {<a class="code" href="cvt___v1724_8h.html#a59a6df2bc6312f15689dc323a86c8c0e" title="CH 6 Number of Buffers Filled register relative address.">CVT_V1724_CH6_BUFF_OCCUPANCY_ADD</a>,              <a class="code" href="cvt___v1724_8h.html#a3e769a90d5c30d83599f2b3ba006c78e" title="CH 6 Number of Buffers Filled register address modifier.">CVT_V1724_CH6_BUFF_OCCUPANCY_AM</a>,                <a class="code" href="cvt___v1724_8h.html#abbcaa25bde7079b3a0029aacd630d7ec" title="CH 6 Number of Buffers Filled register data size.">CVT_V1724_CH6_BUFF_OCCUPANCY_DATA_SIZE</a>},                        
<a name="l00212"></a>00212         {<a class="code" href="cvt___v1724_8h.html#a4178ea1404687f9cacd4e078b5173379" title="CH 6 DAC Data Configuration register relative address.">CVT_V1724_CH6_DAC_CONF_ADD</a>,                    <a class="code" href="cvt___v1724_8h.html#aa116317609f7a25205a85c5032862afa" title="CH 6 DAC Data Configuration register address modifier.">CVT_V1724_CH6_DAC_CONF_AM</a>,                              <a class="code" href="cvt___v1724_8h.html#aa2ed89196359f17b62d3bdaba2042b4a" title="CH 6 DAC Data Configuration register data size.">CVT_V1724_CH6_DAC_CONF_DATA_SIZE</a>},                                      
<a name="l00213"></a>00213         {<a class="code" href="cvt___v1724_8h.html#ab08937726706349fa4b49d307fa35453" title="CH 6 Configuration register relative address.">CVT_V1724_CH6_ADC_CONF_ADD</a>,                    <a class="code" href="cvt___v1724_8h.html#aeea68bfc1b85303cf67d0c29d554c8a1" title="CH 6 Configuration register address modifier.">CVT_V1724_CH6_ADC_CONF_AM</a>,                              <a class="code" href="cvt___v1724_8h.html#aaff8e75e5c2fb6a3808838749fb98c60" title="CH 6 Configuration register data size.">CVT_V1724_CH6_ADC_CONF_DATA_SIZE</a>},                                      
<a name="l00214"></a>00214         {<a class="code" href="cvt___v1724_8h.html#a759c2d0c58f83a5656ed2f3a902dd05d" title="CH 6 ADC Debug Reserved register relative address.">CVT_V1724_CH6_RESERVED_ADC_DEBUG_ADD</a>,  <a class="code" href="cvt___v1724_8h.html#a78d6140fc3faf3f7de836e834bdb549c" title="CH 6 ADC Debug Reserved register address modifier.">CVT_V1724_CH6_RESERVED_ADC_DEBUG_AM</a>,    <a class="code" href="cvt___v1724_8h.html#a0051f52bb2f7687671c46d8f8df506a3" title="CH 6 ADC Debug Reserved register data size.">CVT_V1724_CH6_RESERVED_ADC_DEBUG_DATA_SIZE</a>},            
<a name="l00215"></a>00215         {<a class="code" href="cvt___v1724_8h.html#aae44637074fb5d013cfb4bc85a94e4c5" title="CH 6 Memory test data Reserved register relative address.">CVT_V1724_CH6_RESERVED_MEM_DATA_ADD</a>,   <a class="code" href="cvt___v1724_8h.html#a47b57bcd6d4c4c67925cdc1dfc861e0a" title="CH 6 Memory test data Reserved register address modifier.">CVT_V1724_CH6_RESERVED_MEM_DATA_AM</a>,             <a class="code" href="cvt___v1724_8h.html#aff6108527d8f9e28777ab32415c24eae" title="CH 6 Memory test data Reserved register data size.">CVT_V1724_CH6_RESERVED_MEM_DATA_DATA_SIZE</a>},                     
<a name="l00216"></a>00216         {<a class="code" href="cvt___v1724_8h.html#a7d40b2c472e7fa7ab6c9b02c27ad4ce3" title="CH 6 Memory test address Reserved register relative address.">CVT_V1724_CH6_RESERVED_MEM_ADDRESS_ADD</a>,<a class="code" href="cvt___v1724_8h.html#aa891d34cfc107ae15ce011574633edbd" title="CH 6 Memory test address Reserved register address modifier.">CVT_V1724_CH6_RESERVED_MEM_ADDRESS_AM</a>,  <a class="code" href="cvt___v1724_8h.html#a884480cd1b697d87b97ad7b8321cd9d2" title="CH 6 Memory test address Reserved register data size.">CVT_V1724_CH6_RESERVED_MEM_ADDRESS_DATA_SIZE</a>},          
<a name="l00218"></a>00218 <span class="comment">//</span>
<a name="l00219"></a>00219 <span class="comment">// CH 7</span>
<a name="l00220"></a>00220         {<a class="code" href="cvt___v1724_8h.html#af0dc7c6eadf8700fd541d70053017a6a" title="CH 7 Read Block channel broadcast reserved register relative address.">CVT_V1724_CH7_RESERVED_RND_ACC_ADD</a>,    <a class="code" href="cvt___v1724_8h.html#aa3eaeb8018fb274c667ec9edbfa0cf8f" title="CH 7 Read Block channel broadcast reserved register address modifier.">CVT_V1724_CH7_RESERVED_RND_ACC_AM</a>,              <a class="code" href="cvt___v1724_8h.html#aca6c69bb1e24a8a80ec59f5c58a7b577" title="CH 7 Read Block channel broadcast reserved register data size.">CVT_V1724_CH7_RESERVED_RND_ACC_DATA_SIZE</a>},                      
<a name="l00221"></a>00221         {<a class="code" href="cvt___v1724_8h.html#a193ae0cd9a66776616f60c945b75b04f" title="CH 7 Zero suppression threshold register relative address.">CVT_V1724_CH7_ZSTH_ADD</a>,                                <a class="code" href="cvt___v1724_8h.html#a413a6a1cd52a3fe3ffdba910d8f73200" title="CH 7 Zero suppression threshold register address modifier.">CVT_V1724_CH7_ZSTH_AM</a>,                                  <a class="code" href="cvt___v1724_8h.html#a370eecc040a8efb6284875533a1fbf6a" title="Ch 7 Zero suppression threshold register data size).">CVT_V1724_CH7_ZSTH_DATA_SIZE</a>},                                          
<a name="l00222"></a>00222         {<a class="code" href="cvt___v1724_8h.html#ac7d0389be6510ba430022b0522f8cb80" title="CH 7 Threshold register relative address.">CVT_V1724_CH7_THRESHOLD_ADD</a>,                   <a class="code" href="cvt___v1724_8h.html#a13a256499bb4b2d14f114cfd9dd31da9" title="CH 7 Threshold register address modifier.">CVT_V1724_CH7_THRESHOLD_AM</a>,                             <a class="code" href="cvt___v1724_8h.html#a4cf520620d3520b9aae6435333e0d8fe" title="CH 7 Threshold register data size.">CVT_V1724_CH7_THRESHOLD_DATA_SIZE</a>},                                     
<a name="l00223"></a>00223         {<a class="code" href="cvt___v1724_8h.html#ad3b292f1af4c06050202db9bb594016f" title="CH 7 Over/Under Threshold Samples register relative address.">CVT_V1724_CH7_TIME_OVER_UNDER_THR_ADD</a>, <a class="code" href="cvt___v1724_8h.html#a9cbff99e9fe2e87d489808700a03efc0" title="CH 7 Over/Under Threshold Samples register address modifier.">CVT_V1724_CH7_TIME_OVER_UNDER_THR_AM</a>,   <a class="code" href="cvt___v1724_8h.html#a4b61dbc72813ac1b93ceeaea58bcff98" title="CH 7 Over/Under Threshold Samples register data size.">CVT_V1724_CH7_TIME_OVER_UNDER_THR_DATA_SIZE</a>},           
<a name="l00224"></a>00224         {<a class="code" href="cvt___v1724_8h.html#a5457c806dd35c49bb80de07ebc4a2951" title="CH 7 status register relative address.">CVT_V1724_CH7_STATUS_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#ae58a31f8cff8ecd7681512c30cc8304f" title="CH 7 status register address modifier.">CVT_V1724_CH7_STATUS_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#a05e78aca85b4f01cf257aec9e16c7a5d" title="CH 7 status register data size.">CVT_V1724_CH7_STATUS_DATA_SIZE</a>},                                        
<a name="l00225"></a>00225         {<a class="code" href="cvt___v1724_8h.html#a0a635f0a7077550434eab0a77575f0f4" title="CH 7 firmware revision register relative address.">CVT_V1724_CH7_FW_REV_ADD</a>,                              <a class="code" href="cvt___v1724_8h.html#a6e99dd85b444447f28b7f32422e4129e" title="CH 7 firmware revision register address modifier.">CVT_V1724_CH7_FW_REV_AM</a>,                                <a class="code" href="cvt___v1724_8h.html#a02b77ad552a0f4d2ebab16c0997ae27f" title="CH 7 firmware revision register data size.">CVT_V1724_CH7_FW_REV_DATA_SIZE</a>},                                        
<a name="l00226"></a>00226         {<a class="code" href="cvt___v1724_8h.html#a6eb46573e14a76cc9d705b45a8c7387b" title="CH 7 Number of Buffers Filled register relative address.">CVT_V1724_CH7_BUFF_OCCUPANCY_ADD</a>,              <a class="code" href="cvt___v1724_8h.html#a53f7ff9264713078f3d9ac9b0591ad69" title="CH 7 Number of Buffers Filled register address modifier.">CVT_V1724_CH7_BUFF_OCCUPANCY_AM</a>,                <a class="code" href="cvt___v1724_8h.html#a26fe69cd9ae39cd4fa05accaa61e9623" title="CH 7 Number of Buffers Filled register data size.">CVT_V1724_CH7_BUFF_OCCUPANCY_DATA_SIZE</a>},                        
<a name="l00227"></a>00227         {<a class="code" href="cvt___v1724_8h.html#a764cf537d6c2791c5efd3fa746d64a65" title="CH 7 DAC Data Configuration register relative address.">CVT_V1724_CH7_DAC_CONF_ADD</a>,                    <a class="code" href="cvt___v1724_8h.html#a2f5656944541e19379a74746d2bd5420" title="CH 7 DAC Data Configuration register address modifier.">CVT_V1724_CH7_DAC_CONF_AM</a>,                              <a class="code" href="cvt___v1724_8h.html#aaf11e384558faf1d356c93ccd88141dd" title="CH 7 DAC Data Configuration register data size.">CVT_V1724_CH7_DAC_CONF_DATA_SIZE</a>},                                      
<a name="l00228"></a>00228         {<a class="code" href="cvt___v1724_8h.html#a989720c1386b1cd167d67c8dc4b0c4af" title="CH 7 Configuration register relative address.">CVT_V1724_CH7_ADC_CONF_ADD</a>,                    <a class="code" href="cvt___v1724_8h.html#a31a43e8c8b1f1eb911f3471c485c2711" title="CH 7 Configuration register address modifier.">CVT_V1724_CH7_ADC_CONF_AM</a>,                              <a class="code" href="cvt___v1724_8h.html#ae5f0cbe44c5cfd43e06c2e94adba58ab" title="CH 7 Configuration register data size.">CVT_V1724_CH7_ADC_CONF_DATA_SIZE</a>},                                      
<a name="l00229"></a>00229         {<a class="code" href="cvt___v1724_8h.html#ac2f2396c0a0d26bee5637f25ee247424" title="CH 7 ADC Debug Reserved register relative address.">CVT_V1724_CH7_RESERVED_ADC_DEBUG_ADD</a>,  <a class="code" href="cvt___v1724_8h.html#a81ac952b689485b789f6d4baaef22bde" title="CH 7 ADC Debug Reserved register address modifier.">CVT_V1724_CH7_RESERVED_ADC_DEBUG_AM</a>,    <a class="code" href="cvt___v1724_8h.html#a914ef5878d7d03494b9f0f6571dccb05" title="CH 7 ADC Debug Reserved register data size.">CVT_V1724_CH7_RESERVED_ADC_DEBUG_DATA_SIZE</a>},            
<a name="l00230"></a>00230         {<a class="code" href="cvt___v1724_8h.html#a85061cdf5d1aa3beb8e104a5e9ea7365" title="CH 7 Memory test data Reserved register relative address.">CVT_V1724_CH7_RESERVED_MEM_DATA_ADD</a>,   <a class="code" href="cvt___v1724_8h.html#aae9753fe373cd3f059b187a4c9157441" title="CH 7 Memory test data Reserved register address modifier.">CVT_V1724_CH7_RESERVED_MEM_DATA_AM</a>,             <a class="code" href="cvt___v1724_8h.html#aa547b0669cbee17a3fcb9e9939723a88" title="CH 7 Memory test data Reserved register data size.">CVT_V1724_CH7_RESERVED_MEM_DATA_DATA_SIZE</a>},                     
<a name="l00231"></a>00231         {<a class="code" href="cvt___v1724_8h.html#a1d76173b9f778a7136d5442903be19da" title="CH 7 Memory test address Reserved register relative address.">CVT_V1724_CH7_RESERVED_MEM_ADDRESS_ADD</a>,<a class="code" href="cvt___v1724_8h.html#af6ea6f9dcd416cd96907d77115633e8a" title="CH 7 Memory test address Reserved register address modifier.">CVT_V1724_CH7_RESERVED_MEM_ADDRESS_AM</a>,  <a class="code" href="cvt___v1724_8h.html#abbb3f483873c8c35d4b501207bf6617d" title="CH 7 Memory test address Reserved register data size.">CVT_V1724_CH7_RESERVED_MEM_ADDRESS_DATA_SIZE</a>},          
<a name="l00233"></a>00233 };
<a name="l00234"></a>00234 
<a name="l00236"></a>00236 <span class="comment">// Static methods declaration</span>
<a name="l00238"></a>00238 <span class="comment"></span>
<a name="l00240"></a>00240 <span class="comment">// Global visible variables declaration</span>
<a name="l00242"></a>00242 <span class="comment"></span>
<a name="l00244"></a>00244 <span class="comment">//</span>
<a name="l00245"></a>00245 <span class="comment">//     B O A R D S   H A N D L I N G</span>
<a name="l00246"></a>00246 <span class="comment">//</span>
<a name="l00248"></a>00248 <span class="comment"></span>
<a name="l00250"></a>00250 <span class="comment">// </span>
<a name="l00252"></a><a class="code" href="cvt___v1724_8h.html#a8cb07678f93f4fe5452f717e0f00a073">00252</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a41ff5e2640e2f1398e51abb9a41bac7d" title="V1724 VME boards data initialization.">cvt_V1724_open</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> base_address, <span class="keywordtype">long</span> vme_handle, <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610" title="The V17XX board type.">CVT_V17XX_TYPES</a> type)
<a name="l00253"></a>00253 {
<a name="l00254"></a>00254         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value32= 0;
<a name="l00255"></a>00255         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> num_kwords= 0;
<a name="l00256"></a>00256         memset( p_data, 0, <span class="keyword">sizeof</span>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>));
<a name="l00257"></a>00257         <span class="comment">// Check board type</span>
<a name="l00258"></a>00258         <span class="keywordflow">switch</span>( type)
<a name="l00259"></a>00259         {
<a name="l00260"></a>00260         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a56a2e93e73cffaeaf50783acd863aad2" title="The board is V1724.">CVT_V1724</a>:                                                 
<a name="l00261"></a>00261         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a1cc7b5063f27a2cd67d74ee0ca248578" title="The board is V1721.">CVT_V1721</a>:                                                 
<a name="l00262"></a>00262         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a53253f7bfab6f1dd94f7b73a3e7b2ffb" title="The board is V1731.">CVT_V1731</a>:                                                 
<a name="l00263"></a>00263         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610ae7fc5877e3aca04a8b498b8035563491" title="The board is V1720.">CVT_V1720</a>:                                                 
<a name="l00264"></a>00264         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610afc553787456c85d4b462d3ad0d39a230" title="The board is V1740.">CVT_V1740</a>:                                                 
<a name="l00265"></a>00265         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a3dede885f83d261437e0bc80f650b660" title="The board is V1751.">CVT_V1751</a>:                                                 
<a name="l00266"></a>00266                 <span class="keywordflow">break</span>;
<a name="l00267"></a>00267         <span class="keywordflow">default</span>:
<a name="l00268"></a>00268                 TRACE1( <span class="stringliteral">&quot;cvt_V1724_open: bad board type: %d\n&quot;</span>, type);
<a name="l00269"></a>00269                 <span class="keywordflow">return</span> FALSE;
<a name="l00270"></a>00270         }
<a name="l00271"></a>00271         
<a name="l00272"></a>00272         <span class="comment">// basic data initialization</span>
<a name="l00273"></a>00273         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a5bbb91fd71af975a2b1e596a2006a5a1" title="Basic board open.">cvt_board_open</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, base_address, vme_handle, CVT_V1724_REG_TABLE))
<a name="l00274"></a>00274                 <span class="keywordflow">return</span> FALSE;
<a name="l00275"></a>00275         <span class="comment">// board specific data initialization</span>
<a name="l00276"></a>00276         <span class="comment">// TODO: verify type matches BOARD_INFO BOARD_ID value</span>
<a name="l00277"></a>00277         p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>= type;
<a name="l00278"></a>00278         p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>.<a class="code" href="structcvt__board__data.html#adb7ed9263aed42b543144d46f5769248" title="Pointer to board specif set_MCST_CBLT method.">set_MCST_CBLT</a>= ( <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> (*)( <span class="keywordtype">void</span>*, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a>, <a class="code" href="cvt__board__commons_8h.html#aefd81e08a008a517d7a972717bd150d9" title="Board position in MCST/CBLT chain.">MCST_CBLT_board_pos</a>))<a class="code" href="cvt___v1724_8c.html#a803d3e8974fe817e099ff596d855888a" title="Setups MCST/CBLT parameters for this board.">cvt_V1724_set_MCST_CBLT</a>;
<a name="l00279"></a>00279 
<a name="l00280"></a>00280         <span class="comment">// preallocate a suitable memory chunck for sample cache storage</span>
<a name="l00281"></a>00281 
<a name="l00282"></a>00282         <span class="comment">// </span>
<a name="l00283"></a>00283         <span class="comment">// read the effective number of KWords per channel</span>
<a name="l00284"></a>00284         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a9f40819574d3e78df2da640284bdeefb" title="Board&amp;#39;s information register index.">CVT_V1724_BOARD_INFO_INDEX</a>, &amp;reg_value32))
<a name="l00285"></a>00285         {
<a name="l00286"></a>00286                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_BOARD_INFO read failed !\n&quot;</span>);
<a name="l00287"></a>00287                 <span class="keywordflow">return</span> FALSE;
<a name="l00288"></a>00288         }
<a name="l00289"></a>00289         <span class="comment">// Get the number of WORDS</span>
<a name="l00290"></a>00290         <span class="comment">// reg_value32= CVT_V1724_GET_BRDINF_BLOCK_SIZE_KW( reg_value32)&lt;&lt; 10;</span>
<a name="l00291"></a>00291         <span class="keywordflow">switch</span>( type)
<a name="l00292"></a>00292         {
<a name="l00293"></a>00293         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a56a2e93e73cffaeaf50783acd863aad2" title="The board is V1724.">CVT_V1724</a>:                                                 
<a name="l00294"></a>00294         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610ae7fc5877e3aca04a8b498b8035563491" title="The board is V1720.">CVT_V1720</a>:                                                 
<a name="l00295"></a>00295                 num_kwords= <a class="code" href="cvt___v1724_8h.html#a67b347b358fb483d2dae5b888f707418" title="Extract the channel block size (as number of KWORD 32) from UINT32 value.">CVT_V1724_GET_BRDINF_BLOCK_SIZE_KW</a>( reg_value32)&lt;&lt; 1;
<a name="l00296"></a>00296                 <span class="keywordflow">break</span>;
<a name="l00297"></a>00297         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610afc553787456c85d4b462d3ad0d39a230" title="The board is V1740.">CVT_V1740</a>:                                                 
<a name="l00298"></a>00298                 <span class="comment">// For V1740 BOARD_INFO contains the number of words 36 bits words per group</span>
<a name="l00299"></a>00299                 <span class="comment">// so to get the number of samples we have to calculate the number of nibbles </span>
<a name="l00300"></a>00300                 <span class="comment">// and to divide for the number of nibble per sample (3)</span>
<a name="l00301"></a>00301                 num_kwords= ( <a class="code" href="cvt___v1724_8h.html#a67b347b358fb483d2dae5b888f707418" title="Extract the channel block size (as number of KWORD 32) from UINT32 value.">CVT_V1724_GET_BRDINF_BLOCK_SIZE_KW</a>( reg_value32)* 36 <span class="comment">/* bits per word*/</span>)/4 <span class="comment">/* bits per nibble */</span> / 3 <span class="comment">/* bits per sample */</span>;
<a name="l00302"></a>00302                 <span class="keywordflow">break</span>;
<a name="l00303"></a>00303         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a1cc7b5063f27a2cd67d74ee0ca248578" title="The board is V1721.">CVT_V1721</a>:                                                 
<a name="l00304"></a>00304                 num_kwords= <a class="code" href="cvt___v1724_8h.html#a67b347b358fb483d2dae5b888f707418" title="Extract the channel block size (as number of KWORD 32) from UINT32 value.">CVT_V1724_GET_BRDINF_BLOCK_SIZE_KW</a>( reg_value32)&lt;&lt; 2;
<a name="l00305"></a>00305                 <span class="keywordflow">break</span>;
<a name="l00306"></a>00306         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a53253f7bfab6f1dd94f7b73a3e7b2ffb" title="The board is V1731.">CVT_V1731</a>:                                                 
<a name="l00307"></a>00307                 num_kwords= <a class="code" href="cvt___v1724_8h.html#a67b347b358fb483d2dae5b888f707418" title="Extract the channel block size (as number of KWORD 32) from UINT32 value.">CVT_V1724_GET_BRDINF_BLOCK_SIZE_KW</a>( reg_value32)&lt;&lt; 2;
<a name="l00308"></a>00308                 <span class="keywordflow">if</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#aa8bd4239675bd77e984c95ca8030d72f">m_is_des_mode</a>)
<a name="l00309"></a>00309                         num_kwords&lt;&lt;= 1;
<a name="l00310"></a>00310                 <span class="keywordflow">break</span>;
<a name="l00311"></a>00311         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a3dede885f83d261437e0bc80f650b660" title="The board is V1751.">CVT_V1751</a>:                                                 
<a name="l00312"></a>00312         <span class="comment">// num_kwords indica le locazioni di memoria </span>
<a name="l00313"></a>00313                 num_kwords= <a class="code" href="cvt___v1724_8h.html#a67b347b358fb483d2dae5b888f707418" title="Extract the channel block size (as number of KWORD 32) from UINT32 value.">CVT_V1724_GET_BRDINF_BLOCK_SIZE_KW</a>( reg_value32)&gt;&gt; 1;
<a name="l00314"></a>00314                 <span class="keywordflow">if</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#aa8bd4239675bd77e984c95ca8030d72f">m_is_des_mode</a>)
<a name="l00315"></a>00315                         num_kwords&lt;&lt;= 1;
<a name="l00316"></a>00316                 num_kwords=(num_kwords*1024*7)/3; <span class="comment">//numero di locazioni di memoria</span>
<a name="l00317"></a>00317                 num_kwords++;
<a name="l00318"></a>00318                 <span class="keywordflow">break</span>;
<a name="l00319"></a>00319         <span class="keywordflow">default</span>:
<a name="l00320"></a>00320                 TRACE1( <span class="stringliteral">&quot;cvt_V1724_get_buffer_samples: bad board type: %d\n&quot;</span>, type);
<a name="l00321"></a>00321                 <span class="keywordflow">return</span> FALSE;
<a name="l00322"></a>00322         }
<a name="l00323"></a>00323 
<a name="l00324"></a>00324         <span class="comment">//p_data-&gt;m_cache_sample_buffer_size= (reg_value32&lt;&lt; 2)* CVT_V1724_MAX_CHANNEL+ sizeof( CVT_V1724_HEADER)* ( CVT_V1724_NBLK_1024+ 1);</span>
<a name="l00325"></a>00325         
<a name="l00326"></a>00326         <span class="keywordflow">if</span> (type== <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a3dede885f83d261437e0bc80f650b660" title="The board is V1751.">CVT_V1751</a>)
<a name="l00327"></a>00327         {         
<a name="l00328"></a>00328           p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a89f1e4b11f7d5d1b42b977db7405ee39">m_cache_sample_buffer_size</a>= (num_kwords&lt;&lt;2)* <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>+ <span class="keyword">sizeof</span>( <a class="code" href="union_c_v_t___v1724___h_e_a_d_e_r.html" title="V1724 board event header.">CVT_V1724_HEADER</a>)* (1024+ 1);
<a name="l00329"></a>00329         }
<a name="l00330"></a>00330         <span class="keywordflow">else</span>
<a name="l00331"></a>00331         {
<a name="l00332"></a>00332           p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a89f1e4b11f7d5d1b42b977db7405ee39">m_cache_sample_buffer_size</a>= ( num_kwords&lt;&lt; 11)* <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>+ <span class="keyword">sizeof</span>( <a class="code" href="union_c_v_t___v1724___h_e_a_d_e_r.html" title="V1724 board event header.">CVT_V1724_HEADER</a>)* ( <a class="code" href="cvt___v1724_8h.html#a8bfce99d304af1f56ccd640cf8dea682ab1ed7de1ceecbd613e4c2fe4e64e11f1">CVT_V1724_NBLK_1024</a>+ 1);
<a name="l00333"></a>00333         }
<a name="l00334"></a>00334         p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a120cd266699b8f80d3c1b7e3066cbead">m_cache_sample_buffer</a>= malloc( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a89f1e4b11f7d5d1b42b977db7405ee39">m_cache_sample_buffer_size</a>);
<a name="l00335"></a>00335         p_data-&gt;<a class="code" href="structcvt___v1724__data.html#aa99eb323ffc4c6e511307382cb2d9471">m_cache_sample_buffer_read_bytes</a>= 0;
<a name="l00336"></a>00336 
<a name="l00337"></a>00337         <span class="keywordflow">switch</span>( type)
<a name="l00338"></a>00338         {
<a name="l00339"></a>00339         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a53253f7bfab6f1dd94f7b73a3e7b2ffb" title="The board is V1731.">CVT_V1731</a>:                                                 
<a name="l00340"></a>00340         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a3dede885f83d261437e0bc80f650b660" title="The board is V1751.">CVT_V1751</a>:                                                 
<a name="l00341"></a>00341                 <span class="comment">// Check if DES mode setted</span>
<a name="l00342"></a>00342                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87adb71f9b26902bd3a49c852dffe169908" title="Control channel broadcast register index.">CVT_V1724_BROAD_CH_CTRL_INDEX</a>, &amp;reg_value32))
<a name="l00343"></a>00343                 {
<a name="l00344"></a>00344                         TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_BROAD_CH_CTRL read failed !\n&quot;</span>);
<a name="l00345"></a>00345                         <span class="keywordflow">return</span> FALSE;
<a name="l00346"></a>00346                 }
<a name="l00347"></a>00347                 p_data-&gt;<a class="code" href="structcvt___v1724__data.html#aa8bd4239675bd77e984c95ca8030d72f">m_is_des_mode</a>= ( reg_value32&amp; <a class="code" href="cvt___v1724_8h.html#a4bed56eb1100c050246b0f04ea56cacca26c64d69f295985f2b046210158583e6">CVT_V1724_BROAD_CHCTRL_DES_MODE_MSK</a>)? TRUE: FALSE;
<a name="l00348"></a>00348                 <span class="keywordflow">break</span>;
<a name="l00349"></a>00349         <span class="keywordflow">default</span>:
<a name="l00350"></a>00350                 <span class="keywordflow">break</span>;
<a name="l00351"></a>00351         }
<a name="l00352"></a>00352 
<a name="l00353"></a>00353         <span class="keywordflow">return</span> TRUE;
<a name="l00354"></a>00354 }
<a name="l00355"></a>00355 
<a name="l00357"></a>00357 <span class="comment">// </span>
<a name="l00359"></a><a class="code" href="cvt___v1724_8h.html#aedaf5a0718485014dc5440405decfb8b">00359</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#ac033b04f75f97bef286dcc04b8b08af0" title="V1724 VME boards closing and resource free.">cvt_V1724_close</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data)
<a name="l00360"></a>00360 {
<a name="l00361"></a>00361         <span class="keywordflow">if</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a120cd266699b8f80d3c1b7e3066cbead">m_cache_sample_buffer</a>)
<a name="l00362"></a>00362         {
<a name="l00363"></a>00363                 free( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a120cd266699b8f80d3c1b7e3066cbead">m_cache_sample_buffer</a>);
<a name="l00364"></a>00364                 p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a120cd266699b8f80d3c1b7e3066cbead">m_cache_sample_buffer</a>= NULL;
<a name="l00365"></a>00365                 p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a89f1e4b11f7d5d1b42b977db7405ee39">m_cache_sample_buffer_size</a>= 0;
<a name="l00366"></a>00366                 p_data-&gt;<a class="code" href="structcvt___v1724__data.html#aa99eb323ffc4c6e511307382cb2d9471">m_cache_sample_buffer_read_bytes</a>= 0;
<a name="l00367"></a>00367         }
<a name="l00368"></a>00368         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a11768a155d7745efb3707260376a7d6e" title="Basic board close.">cvt_board_close</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>))
<a name="l00369"></a>00369                 <span class="keywordflow">return</span> FALSE;
<a name="l00370"></a>00370         <span class="keywordflow">return</span> TRUE;
<a name="l00371"></a>00371 }
<a name="l00372"></a>00372 
<a name="l00374"></a>00374 <span class="comment">//</span>
<a name="l00375"></a>00375 <span class="comment">//     L E V E L   0   A P I s</span>
<a name="l00376"></a>00376 <span class="comment">//</span>
<a name="l00378"></a>00378 <span class="comment"></span>
<a name="l00379"></a>00379 
<a name="l00381"></a>00381 <span class="comment">//</span>
<a name="l00382"></a>00382 <span class="comment">//     L E V E L   1   A P I s</span>
<a name="l00383"></a>00383 <span class="comment">//</span>
<a name="l00385"></a>00385 <span class="comment"></span>
<a name="l00387"></a>00387 <span class="comment">//</span>
<a name="l00388"></a>00388 <span class="comment">//     L E V E L   2   A P I s</span>
<a name="l00389"></a>00389 <span class="comment">//</span>
<a name="l00391"></a>00391 <span class="comment"></span>
<a name="l00393"></a>00393 <span class="comment">//</span>
<a name="l00395"></a><a class="code" href="cvt___v1724_8h.html#aba7b30cd91e6cd42a93ed273329ecb9a">00395</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#afe6024ed734c5d778d1a7d5019deebf0" title="Reads data from the board&amp;#39;s channels and stores to user buffer.">cvt_V1724_read_data</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a>* p_ch_max_samples, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a>* p_num_events)
<a name="l00396"></a>00396 {
<a name="l00397"></a>00397         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> BLT_event_number= 0;
<a name="l00398"></a>00398         <a class="code" href="union_c_v_t___v1724___h_e_a_d_e_r.html" title="V1724 board event header.">CVT_V1724_HEADER</a>* p_header;
<a name="l00399"></a>00399         <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> is_berr= FALSE;
<a name="l00400"></a>00400 
<a name="l00401"></a>00401         *p_ch_max_samples= 0;
<a name="l00402"></a>00402         *p_num_events= 0;
<a name="l00403"></a>00403 
<a name="l00404"></a>00404 
<a name="l00405"></a>00405         <span class="comment">// </span>
<a name="l00406"></a>00406         <span class="comment">// Get BLT event number</span>
<a name="l00407"></a>00407         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87afadacc32da3ff1f04931798d9d9cdbad" title="Event stored register index.">CVT_V1724_EVENT_STORED_INDEX</a>, &amp;BLT_event_number))
<a name="l00408"></a>00408         {
<a name="l00409"></a>00409                 TRACE( <span class="stringliteral">&quot;CVT_V1724_EVENT_STORED read failed !\n&quot;</span>);
<a name="l00410"></a>00410                 <span class="keywordflow">return</span> FALSE;
<a name="l00411"></a>00411         }
<a name="l00412"></a>00412         <span class="keywordflow">if</span>( BLT_event_number&gt; <a class="code" href="cvt___v1724_8h.html#a9d25db6fc5f473d0240d9d5b655d9b9e" title="The maximum number of blt_event per readout cycle.">CVT_V1724_MAX_BLT_EVENT_NUM</a>)
<a name="l00413"></a>00413                 BLT_event_number= <a class="code" href="cvt___v1724_8h.html#a9d25db6fc5f473d0240d9d5b655d9b9e" title="The maximum number of blt_event per readout cycle.">CVT_V1724_MAX_BLT_EVENT_NUM</a>;
<a name="l00414"></a>00414 
<a name="l00415"></a>00415         p_data-&gt;<a class="code" href="structcvt___v1724__data.html#aa99eb323ffc4c6e511307382cb2d9471">m_cache_sample_buffer_read_bytes</a>= 0;
<a name="l00416"></a>00416 
<a name="l00417"></a>00417         <span class="comment">// memset( p_data-&gt;m_cache_sample_buffer, 0, p_data-&gt;m_cache_sample_buffer_size);</span>
<a name="l00418"></a>00418         <span class="comment">// Read from buffer</span>
<a name="l00419"></a>00419         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a69e37635aab5304ec1b93abce537d2d0" title="Performs a FIFO BLT read from VME board.">cvt_FIFO_BLT_read</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a05175795dfda4fc684262c38b07f2e94" title="Output buffer relative address.">CVT_V1724_OUT_BUFFER_ADD</a>, p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a120cd266699b8f80d3c1b7e3066cbead">m_cache_sample_buffer</a>, p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a89f1e4b11f7d5d1b42b977db7405ee39">m_cache_sample_buffer_size</a>, &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#aa99eb323ffc4c6e511307382cb2d9471">m_cache_sample_buffer_read_bytes</a>, <a class="code" href="cvt___v1724_8h.html#a83926c4d38edaae69772e432efff0b11" title="Output buffer data buffer address modifier.">CVT_V1724_OUT_BUFFER_AM</a>, <a class="code" href="cvt___v1724_8h.html#a40021a22690c5ac7413702b49b7949dd" title="Output buffer data buffer.">CVT_V1724_OUT_BUFFER_DATA_SIZE</a>, &amp;is_berr))
<a name="l00420"></a>00420         {
<a name="l00421"></a>00421                 p_data-&gt;<a class="code" href="structcvt___v1724__data.html#aa99eb323ffc4c6e511307382cb2d9471">m_cache_sample_buffer_read_bytes</a>= 0;
<a name="l00422"></a>00422                 <span class="keywordflow">return</span> FALSE;
<a name="l00423"></a>00423         }
<a name="l00424"></a>00424         <span class="keywordflow">if</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#aa99eb323ffc4c6e511307382cb2d9471">m_cache_sample_buffer_read_bytes</a>&lt; <span class="keyword">sizeof</span>( <a class="code" href="union_c_v_t___v1724___h_e_a_d_e_r.html" title="V1724 board event header.">CVT_V1724_HEADER</a>))
<a name="l00425"></a>00425         {
<a name="l00426"></a>00426                 p_data-&gt;<a class="code" href="structcvt___v1724__data.html#aa99eb323ffc4c6e511307382cb2d9471">m_cache_sample_buffer_read_bytes</a>= 0;
<a name="l00427"></a>00427                 <span class="keywordflow">return</span> FALSE;
<a name="l00428"></a>00428         }
<a name="l00429"></a>00429 
<a name="l00430"></a>00430         <span class="comment">// Parse the buffer for validity</span>
<a name="l00431"></a>00431         {
<a name="l00432"></a>00432                 <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> offset= 0;
<a name="l00433"></a>00433                 <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ch_msk;
<a name="l00434"></a>00434                 <span class="keywordtype">int</span> num_channels;
<a name="l00435"></a>00435                 <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> samples;
<a name="l00436"></a>00436 
<a name="l00437"></a>00437                 <span class="keywordflow">while</span>( offset&lt; (p_data-&gt;<a class="code" href="structcvt___v1724__data.html#aa99eb323ffc4c6e511307382cb2d9471">m_cache_sample_buffer_read_bytes</a>-4))
<a name="l00438"></a>00438                 {
<a name="l00439"></a>00439                         p_header= (<a class="code" href="union_c_v_t___v1724___h_e_a_d_e_r.html" title="V1724 board event header.">CVT_V1724_HEADER</a>*)(( <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a>*)p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a120cd266699b8f80d3c1b7e3066cbead">m_cache_sample_buffer</a>+ offset);
<a name="l00440"></a>00440                         <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8h.html#a7ee9da27abd9fc5884275724d45973f6" title="Checks if type is header tag.">CVT_V1724_IS_HEADER_TAG</a>( p_header-&gt;m_fields.m_HEADER_0.m_DWORD))
<a name="l00441"></a>00441                         {
<a name="l00442"></a>00442                                 <span class="comment">// Not an header</span>
<a name="l00443"></a>00443                                 p_data-&gt;<a class="code" href="structcvt___v1724__data.html#aa99eb323ffc4c6e511307382cb2d9471">m_cache_sample_buffer_read_bytes</a>= 0;
<a name="l00444"></a>00444                                 *p_ch_max_samples= 0;
<a name="l00445"></a>00445                                 *p_num_events= 0;
<a name="l00446"></a>00446                                 <span class="keywordflow">return</span> FALSE;
<a name="l00447"></a>00447                         }
<a name="l00448"></a>00448                         ++(*p_num_events);
<a name="l00449"></a>00449                         <span class="comment">// Get the number of channels (groups for V1740)</span>
<a name="l00450"></a>00450                         <span class="keywordflow">for</span>( ch_msk= p_header-&gt;m_fields.m_HEADER_1.m_fields.m_active_channel_msk, num_channels= 0; ch_msk; ch_msk&gt;&gt;= 1)
<a name="l00451"></a>00451                         {
<a name="l00452"></a>00452                                 <span class="keywordflow">if</span>( ch_msk&amp; 0x01)
<a name="l00453"></a>00453                                         ++num_channels;
<a name="l00454"></a>00454                         }
<a name="l00455"></a>00455                         <span class="keywordflow">if</span>( !num_channels)
<a name="l00456"></a>00456                         {
<a name="l00457"></a>00457                                 <span class="keywordflow">return</span> TRUE;
<a name="l00458"></a>00458                         }
<a name="l00459"></a>00459 
<a name="l00460"></a>00460                         <span class="keywordflow">switch</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>)
<a name="l00461"></a>00461                         {
<a name="l00462"></a>00462                         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a56a2e93e73cffaeaf50783acd863aad2" title="The board is V1724.">CVT_V1724</a>:                                                 
<a name="l00463"></a>00463                         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610ae7fc5877e3aca04a8b498b8035563491" title="The board is V1720.">CVT_V1720</a>:                                                 
<a name="l00464"></a>00464                                 samples= ((( p_header-&gt;m_fields.m_HEADER_0.m_fields.m_event_size&lt;&lt; 2)- <span class="keyword">sizeof</span>( <a class="code" href="union_c_v_t___v1724___h_e_a_d_e_r.html" title="V1724 board event header.">CVT_V1724_HEADER</a>))/ num_channels)&gt;&gt; 1;
<a name="l00465"></a>00465                                 <span class="keywordflow">break</span>;
<a name="l00466"></a>00466                         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a1cc7b5063f27a2cd67d74ee0ca248578" title="The board is V1721.">CVT_V1721</a>:                                                 
<a name="l00467"></a>00467                         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a53253f7bfab6f1dd94f7b73a3e7b2ffb" title="The board is V1731.">CVT_V1731</a>:                                                 
<a name="l00468"></a>00468                                 samples= ((( p_header-&gt;m_fields.m_HEADER_0.m_fields.m_event_size&lt;&lt; 2)- <span class="keyword">sizeof</span>( <a class="code" href="union_c_v_t___v1724___h_e_a_d_e_r.html" title="V1724 board event header.">CVT_V1724_HEADER</a>))/ num_channels);
<a name="l00469"></a>00469                                 <span class="keywordflow">break</span>;
<a name="l00470"></a>00470                         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610afc553787456c85d4b462d3ad0d39a230" title="The board is V1740.">CVT_V1740</a>:                                                 
<a name="l00471"></a>00471                                 {
<a name="l00472"></a>00472                                         <span class="keyword">const</span> <span class="keywordtype">int</span> DELTA_NIBBLE= 3;
<a name="l00473"></a>00473                                         <span class="comment">// NumChannels is the number of 8 channels group</span>
<a name="l00474"></a>00474                                         samples= (((( p_header-&gt;m_fields.m_HEADER_0.m_fields.m_event_size&lt;&lt; 2)- <span class="keyword">sizeof</span>( <a class="code" href="union_c_v_t___v1724___h_e_a_d_e_r.html" title="V1724 board event header.">CVT_V1724_HEADER</a>))&lt;&lt; 1) / ( DELTA_NIBBLE* ( num_channels&lt;&lt; 3)));
<a name="l00475"></a>00475                                 }
<a name="l00476"></a>00476                                 <span class="keywordflow">break</span>;
<a name="l00477"></a>00477                         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a3dede885f83d261437e0bc80f650b660" title="The board is V1751.">CVT_V1751</a>:                                                 
<a name="l00478"></a>00478                                 samples= ((( p_header-&gt;m_fields.m_HEADER_0.m_fields.m_event_size&lt;&lt; 2)- <span class="keyword">sizeof</span>( <a class="code" href="union_c_v_t___v1724___h_e_a_d_e_r.html" title="V1724 board event header.">CVT_V1724_HEADER</a>))/ num_channels)&gt;&gt;2;
<a name="l00479"></a>00479                                 samples *=3;
<a name="l00480"></a>00480                                 <span class="keywordflow">break</span>;
<a name="l00481"></a>00481                         <span class="keywordflow">default</span>:
<a name="l00482"></a>00482                                 TRACE1( <span class="stringliteral">&quot;cvt_V1724_read_data: bad board type: %d\n&quot;</span>, p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>);
<a name="l00483"></a>00483                                 <span class="keywordflow">return</span> FALSE;
<a name="l00484"></a>00484                         }
<a name="l00485"></a>00485                         <span class="keywordflow">if</span>( *p_ch_max_samples&lt; samples)
<a name="l00486"></a>00486                         {
<a name="l00487"></a>00487                                 *p_ch_max_samples= samples;
<a name="l00488"></a>00488                         }
<a name="l00489"></a>00489                         offset+= p_header-&gt;m_fields.m_HEADER_0.m_fields.m_event_size&lt;&lt; 2;
<a name="l00490"></a>00490                 }
<a name="l00491"></a>00491         }
<a name="l00492"></a>00492         <span class="keywordflow">return</span> TRUE;
<a name="l00493"></a>00493 }
<a name="l00495"></a>00495 <span class="comment">//</span>
<a name="l00497"></a><a class="code" href="cvt___v1724_8h.html#a949d98e4fd05c0966afbaff20d27bd9c">00497</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a818559842a9d90273a92f153f3dbc40f" title="Reads data cache from previous cvt_V1724_read_data data call.">cvt_V1724_get_buffer_cache</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> event_index, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ch_index, <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a>* p_buff, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a>* p_buff_size, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> *p_board_id, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a>* p_trigger_time_tag, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a>* p_event_counter)
<a name="l00498"></a>00498 {
<a name="l00499"></a>00499         <a class="code" href="union_c_v_t___v1724___h_e_a_d_e_r.html" title="V1724 board event header.">CVT_V1724_HEADER</a> *p_header;
<a name="l00500"></a>00500         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> offset= 0;
<a name="l00501"></a>00501         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> req_buff_size= *p_buff_size;
<a name="l00502"></a>00502         <span class="keywordtype">int</span> current_event= event_index;
<a name="l00503"></a>00503 
<a name="l00504"></a>00504         *p_buff_size= 0;
<a name="l00505"></a>00505         *p_board_id= 0;
<a name="l00506"></a>00506         *p_trigger_time_tag= 0;
<a name="l00507"></a>00507         *p_event_counter= 0;
<a name="l00508"></a>00508 
<a name="l00509"></a>00509         <span class="comment">// Parse the buffer</span>
<a name="l00510"></a>00510         <span class="keywordflow">do</span>
<a name="l00511"></a>00511         {
<a name="l00512"></a>00512                 p_header= (<a class="code" href="union_c_v_t___v1724___h_e_a_d_e_r.html" title="V1724 board event header.">CVT_V1724_HEADER</a>*)(( <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a>*)p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a120cd266699b8f80d3c1b7e3066cbead">m_cache_sample_buffer</a>+ offset);
<a name="l00513"></a>00513                 <span class="keywordflow">if</span>( !current_event)
<a name="l00514"></a>00514                 {
<a name="l00515"></a>00515                         <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ch_msk;
<a name="l00516"></a>00516                         <span class="keywordtype">int</span> num_channels;
<a name="l00517"></a>00517                         <span class="keywordtype">int</span> index;
<a name="l00518"></a>00518                         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> i;
<a name="l00519"></a>00519                         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> samples;
<a name="l00520"></a>00520 
<a name="l00521"></a>00521                         <span class="keywordflow">switch</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>)
<a name="l00522"></a>00522                         {
<a name="l00523"></a>00523                         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a56a2e93e73cffaeaf50783acd863aad2" title="The board is V1724.">CVT_V1724</a>:                                                 
<a name="l00524"></a>00524                         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610ae7fc5877e3aca04a8b498b8035563491" title="The board is V1720.">CVT_V1720</a>:                                                 
<a name="l00525"></a>00525                                 <span class="comment">// Event found</span>
<a name="l00526"></a>00526                                 <span class="keywordflow">if</span>( !( p_header-&gt;m_fields.m_HEADER_1.m_fields.m_active_channel_msk&amp; (1&lt;&lt; ch_index)))
<a name="l00527"></a>00527                                 {
<a name="l00528"></a>00528                                         <span class="comment">// Channel not found</span>
<a name="l00529"></a>00529                                         <span class="keywordflow">return</span> FALSE;
<a name="l00530"></a>00530                                 }
<a name="l00531"></a>00531                                 <span class="comment">// Get the number of channels</span>
<a name="l00532"></a>00532                                 <span class="keywordflow">for</span>( ch_msk= 0x01, index= -1, i= 0, num_channels= 0; i&lt; <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>; ch_msk&lt;&lt;= 1, i++)
<a name="l00533"></a>00533                                 {
<a name="l00534"></a>00534                                         <span class="keywordflow">if</span>( p_header-&gt;m_fields.m_HEADER_1.m_fields.m_active_channel_msk&amp; ch_msk)
<a name="l00535"></a>00535                                         {
<a name="l00536"></a>00536                                                 <span class="keywordflow">if</span>( ch_index== i)
<a name="l00537"></a>00537                                                 {
<a name="l00538"></a>00538                                                         <span class="comment">// Channel found: store the index</span>
<a name="l00539"></a>00539                                                         index= num_channels;
<a name="l00540"></a>00540                                                 }
<a name="l00541"></a>00541                                                 ++num_channels;
<a name="l00542"></a>00542                                         }
<a name="l00543"></a>00543                                 }
<a name="l00544"></a>00544                                 <span class="keywordflow">if</span>( index&lt; 0)
<a name="l00545"></a>00545                                 {
<a name="l00546"></a>00546                                         <span class="keywordflow">return</span> FALSE;
<a name="l00547"></a>00547                                 }
<a name="l00548"></a>00548                                 samples= ((( p_header-&gt;m_fields.m_HEADER_0.m_fields.m_event_size&lt;&lt; 2)- <span class="keyword">sizeof</span>( <a class="code" href="union_c_v_t___v1724___h_e_a_d_e_r.html" title="V1724 board event header.">CVT_V1724_HEADER</a>))/ num_channels)&gt;&gt; 1;
<a name="l00549"></a>00549                                 <span class="comment">// Get data as 14/12 bit values: 2 samples/DWORD</span>
<a name="l00550"></a>00550                                 <span class="keywordflow">for</span>( i= 0 ; ( i&lt; samples)&amp;&amp; ( i&lt; req_buff_size); i++)
<a name="l00551"></a>00551                                 {
<a name="l00552"></a>00552                                         p_buff[ i]= ((<a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a>*)(( <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a>*)p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a120cd266699b8f80d3c1b7e3066cbead">m_cache_sample_buffer</a>+ offset+ <span class="keyword">sizeof</span>( <a class="code" href="union_c_v_t___v1724___h_e_a_d_e_r.html" title="V1724 board event header.">CVT_V1724_HEADER</a>)))[ index* samples+ i];
<a name="l00553"></a>00553                                 }
<a name="l00554"></a>00554                                 <span class="keywordflow">break</span>;
<a name="l00555"></a>00555                         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a1cc7b5063f27a2cd67d74ee0ca248578" title="The board is V1721.">CVT_V1721</a>:                                                 
<a name="l00556"></a>00556                         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a53253f7bfab6f1dd94f7b73a3e7b2ffb" title="The board is V1731.">CVT_V1731</a>:                                                 
<a name="l00557"></a>00557                                 <span class="comment">// Event found</span>
<a name="l00558"></a>00558                                 <span class="keywordflow">if</span>( !( p_header-&gt;m_fields.m_HEADER_1.m_fields.m_active_channel_msk&amp; (1&lt;&lt; ch_index)))
<a name="l00559"></a>00559                                 {
<a name="l00560"></a>00560                                         <span class="comment">// Channel not found</span>
<a name="l00561"></a>00561                                         <span class="keywordflow">return</span> FALSE;
<a name="l00562"></a>00562                                 }
<a name="l00563"></a>00563                                 <span class="comment">// Get the number of channels</span>
<a name="l00564"></a>00564                                 <span class="keywordflow">for</span>( ch_msk= 0x01, index= -1, i= 0, num_channels= 0; i&lt; CVT_V1724_MAX_CHANNEL; ch_msk&lt;&lt;= 1, i++)
<a name="l00565"></a>00565                                 {
<a name="l00566"></a>00566                                         <span class="keywordflow">if</span>( p_header-&gt;m_fields.m_HEADER_1.m_fields.m_active_channel_msk&amp; ch_msk)
<a name="l00567"></a>00567                                         {
<a name="l00568"></a>00568                                                 <span class="keywordflow">if</span>( ch_index== i)
<a name="l00569"></a>00569                                                 {
<a name="l00570"></a>00570                                                         <span class="comment">// Channel found: store the index</span>
<a name="l00571"></a>00571                                                         index= num_channels;
<a name="l00572"></a>00572                                                 }
<a name="l00573"></a>00573                                                 ++num_channels;
<a name="l00574"></a>00574                                         }
<a name="l00575"></a>00575                                 }
<a name="l00576"></a>00576                                 <span class="keywordflow">if</span>( index&lt; 0)
<a name="l00577"></a>00577                                 {
<a name="l00578"></a>00578                                         <span class="keywordflow">return</span> FALSE;
<a name="l00579"></a>00579                                 }
<a name="l00580"></a>00580                                 samples= ((( p_header-&gt;m_fields.m_HEADER_0.m_fields.m_event_size&lt;&lt; 2)- <span class="keyword">sizeof</span>( <a class="code" href="union_c_v_t___v1724___h_e_a_d_e_r.html" title="V1724 board event header.">CVT_V1724_HEADER</a>))/ num_channels);
<a name="l00581"></a>00581                                 <span class="comment">// Get data as 14/12 bit values: 2 samples/DWORD</span>
<a name="l00582"></a>00582                                 <span class="keywordflow">for</span>( i= 0 ; ( i&lt; samples)&amp;&amp; ( i&lt; req_buff_size); i++)
<a name="l00583"></a>00583                                 {
<a name="l00584"></a>00584                                         p_buff[ i]= ((<a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a>*)(( <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a>*)p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a120cd266699b8f80d3c1b7e3066cbead">m_cache_sample_buffer</a>+ offset+ <span class="keyword">sizeof</span>( <a class="code" href="union_c_v_t___v1724___h_e_a_d_e_r.html" title="V1724 board event header.">CVT_V1724_HEADER</a>)))[ index* samples+ i];
<a name="l00585"></a>00585                                 }
<a name="l00586"></a>00586                                 <span class="keywordflow">break</span>;
<a name="l00587"></a>00587                         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610afc553787456c85d4b462d3ad0d39a230" title="The board is V1740.">CVT_V1740</a>:                                                 
<a name="l00588"></a>00588                                 {
<a name="l00589"></a>00589                                         <span class="keywordtype">int</span> grp_index= ch_index&gt;&gt; 3;
<a name="l00590"></a>00590                                         <span class="comment">// Event found</span>
<a name="l00591"></a>00591                                         <span class="comment">// p_header-&gt;m_fields.m_HEADER_1.m_fields.m_active_channel_msk is the mask of groups enabled </span>
<a name="l00592"></a>00592                                         <span class="keywordflow">if</span>( !( p_header-&gt;m_fields.m_HEADER_1.m_fields.m_active_channel_msk&amp; (1&lt;&lt; grp_index)))
<a name="l00593"></a>00593                                         {
<a name="l00594"></a>00594                                                 <span class="comment">// Channel not found</span>
<a name="l00595"></a>00595                                                 <span class="keywordflow">return</span> FALSE;
<a name="l00596"></a>00596                                         }
<a name="l00597"></a>00597                                         <span class="comment">// Get the number of groups </span>
<a name="l00598"></a>00598                                         <span class="keywordflow">for</span>( ch_msk= 0x01, index= -1, i= 0, num_channels= 0; i&lt; CVT_V1724_MAX_CHANNEL; ch_msk&lt;&lt;= 1, i++)
<a name="l00599"></a>00599                                         {
<a name="l00600"></a>00600                                                 <span class="keywordflow">if</span>( p_header-&gt;m_fields.m_HEADER_1.m_fields.m_active_channel_msk&amp; ch_msk)
<a name="l00601"></a>00601                                                 {
<a name="l00602"></a>00602                                                         <span class="keywordflow">if</span>( grp_index== i)
<a name="l00603"></a>00603                                                         {
<a name="l00604"></a>00604                                                                 <span class="comment">// Channel found: store the index</span>
<a name="l00605"></a>00605                                                                 index= num_channels;
<a name="l00606"></a>00606                                                         }
<a name="l00607"></a>00607                                                         ++num_channels;
<a name="l00608"></a>00608                                                 }
<a name="l00609"></a>00609                                         }
<a name="l00610"></a>00610                                         <span class="keywordflow">if</span>( index&lt; 0)
<a name="l00611"></a>00611                                         {
<a name="l00612"></a>00612                                                 <span class="keywordflow">return</span> FALSE;
<a name="l00613"></a>00613                                         }
<a name="l00614"></a>00614                                         <span class="comment">// Get data as 12 bit values: 3 nibbles per sample packed as 3 joined channel&#39;s samples</span>
<a name="l00615"></a>00615                                         {
<a name="l00616"></a>00616                                                 <span class="keyword">const</span> <span class="keywordtype">int</span> DELTA_NIBBLE= 3;
<a name="l00617"></a>00617                                                 <span class="keyword">const</span> <span class="keywordtype">int</span> PACKED_SAMPLE= 3;
<a name="l00618"></a>00618                                                 <span class="keywordtype">int</span> nibble_offset= ( ch_index% 8)* PACKED_SAMPLE* DELTA_NIBBLE;
<a name="l00619"></a>00619                                                 <span class="keywordtype">int</span> byte_offset;
<a name="l00620"></a>00620                                                 <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> *ptr;
<a name="l00621"></a>00621                                                 <span class="keywordtype">int</span> group_offset= ((( p_header-&gt;m_fields.m_HEADER_0.m_fields.m_event_size&lt;&lt; 2)- <span class="keyword">sizeof</span>( <a class="code" href="union_c_v_t___v1724___h_e_a_d_e_r.html" title="V1724 board event header.">CVT_V1724_HEADER</a>))* index) / num_channels;
<a name="l00622"></a>00622 
<a name="l00623"></a>00623                                                 <span class="comment">// NumChannels is the number of 8 channels group</span>
<a name="l00624"></a>00624                                                 samples= (((( p_header-&gt;m_fields.m_HEADER_0.m_fields.m_event_size&lt;&lt; 2)- <span class="keyword">sizeof</span>( <a class="code" href="union_c_v_t___v1724___h_e_a_d_e_r.html" title="V1724 board event header.">CVT_V1724_HEADER</a>))&lt;&lt; 1) / ( DELTA_NIBBLE* ( num_channels&lt;&lt; 3)));
<a name="l00625"></a>00625 
<a name="l00626"></a>00626                                                 <span class="keywordflow">for</span>( i= 0 ; ( i+ 2&lt; samples)&amp;&amp; ( i+ 2&lt; req_buff_size); i+= PACKED_SAMPLE, nibble_offset+= (( DELTA_NIBBLE* PACKED_SAMPLE)&lt;&lt; 3))
<a name="l00627"></a>00627                                                 {
<a name="l00628"></a>00628                                                         offset= nibble_offset&gt;&gt; 1;
<a name="l00629"></a>00629                                                         byte_offset= nibble_offset- ( offset&lt;&lt; 1);
<a name="l00630"></a>00630                                                         ptr= ( <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a>*)p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a120cd266699b8f80d3c1b7e3066cbead">m_cache_sample_buffer</a>+ offset+ <span class="keyword">sizeof</span>( <a class="code" href="union_c_v_t___v1724___h_e_a_d_e_r.html" title="V1724 board event header.">CVT_V1724_HEADER</a>)+ group_offset;
<a name="l00631"></a>00631                                                         <span class="keywordflow">switch</span>( byte_offset) {
<a name="l00632"></a>00632                                                                 <span class="keywordflow">case</span> 0:
<a name="l00633"></a>00633                                                                         <span class="comment">// sample 0</span>
<a name="l00634"></a>00634                                                                         p_buff[ i]= *ptr;
<a name="l00635"></a>00635                                                                         p_buff[ i]|= ((*( ptr+ 1))&lt;&lt; 8)&amp; 0x0f00;
<a name="l00636"></a>00636                                                                         <span class="comment">// sample 1</span>
<a name="l00637"></a>00637                                                                         p_buff[ i+ 1]= ((*( ptr+ 1))&gt;&gt; 4)&amp; 0x000f;
<a name="l00638"></a>00638                                                                         p_buff[ i+ 1]|= (*( ptr+ 2))&lt;&lt; 4;
<a name="l00639"></a>00639                                                                         <span class="comment">// sample 2</span>
<a name="l00640"></a>00640                                                                         p_buff[ i+ 2]= *( ptr+ 3);
<a name="l00641"></a>00641                                                                         p_buff[ i+ 2]|= ((*( ptr+ 4))&lt;&lt; 8)&amp; 0x0f00;
<a name="l00642"></a>00642                                                                         <span class="keywordflow">break</span>;
<a name="l00643"></a>00643                                                                 <span class="keywordflow">case</span> 1:
<a name="l00644"></a>00644                                                                         <span class="comment">// sample 0</span>
<a name="l00645"></a>00645                                                                         p_buff[ i]= ((*ptr)&gt;&gt; 4)&amp; 0x000f;
<a name="l00646"></a>00646                                                                         p_buff[ i]|= (*( ptr+ 1))&lt;&lt; 4;
<a name="l00647"></a>00647                                                                         <span class="comment">// sample 1</span>
<a name="l00648"></a>00648                                                                         p_buff[ i+ 1]= *( ptr+ 2);
<a name="l00649"></a>00649                                                                         p_buff[ i+ 1]|= ((*( ptr+ 3))&lt;&lt; 8)&amp; 0x0f00;
<a name="l00650"></a>00650                                                                         <span class="comment">// sample 2</span>
<a name="l00651"></a>00651                                                                         p_buff[ i+ 2]= ((*( ptr+ 3))&gt;&gt; 4)&amp; 0x000f;
<a name="l00652"></a>00652                                                                         p_buff[ i+ 2]|= (*( ptr+ 4))&lt;&lt; 4;
<a name="l00653"></a>00653                                                                         <span class="keywordflow">break</span>;
<a name="l00654"></a>00654                                                         }
<a name="l00655"></a>00655 
<a name="l00656"></a>00656                                                 }
<a name="l00657"></a>00657                                         }
<a name="l00658"></a>00658                                 }
<a name="l00659"></a>00659                                 <span class="keywordflow">break</span>;
<a name="l00660"></a>00660                         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a3dede885f83d261437e0bc80f650b660" title="The board is V1751.">CVT_V1751</a>:                                                 
<a name="l00662"></a>00662                 <span class="comment">// Event found</span>
<a name="l00663"></a>00663                                 <span class="keywordflow">if</span>( !( p_header-&gt;m_fields.m_HEADER_1.m_fields.m_active_channel_msk&amp; (1&lt;&lt; ch_index)))
<a name="l00664"></a>00664                                 {
<a name="l00665"></a>00665                                         <span class="comment">// Channel not found</span>
<a name="l00666"></a>00666                                         <span class="keywordflow">return</span> FALSE;
<a name="l00667"></a>00667                                 }
<a name="l00668"></a>00668                                 <span class="comment">// Get the number of channels</span>
<a name="l00669"></a>00669                                 <span class="keywordflow">for</span>( ch_msk= 0x01, index= -1, i= 0, num_channels= 0; i&lt; CVT_V1724_MAX_CHANNEL; ch_msk&lt;&lt;= 1, i++)
<a name="l00670"></a>00670                                 {
<a name="l00671"></a>00671                                         <span class="keywordflow">if</span>( p_header-&gt;m_fields.m_HEADER_1.m_fields.m_active_channel_msk&amp; ch_msk)
<a name="l00672"></a>00672                                         {
<a name="l00673"></a>00673                                                 <span class="keywordflow">if</span>( ch_index== i)
<a name="l00674"></a>00674                                                 {
<a name="l00675"></a>00675                                                         <span class="comment">// Channel found: store the index</span>
<a name="l00676"></a>00676                                                         index= num_channels;
<a name="l00677"></a>00677                                                 }
<a name="l00678"></a>00678                                                 ++num_channels;
<a name="l00679"></a>00679                                         }
<a name="l00680"></a>00680                                 }
<a name="l00681"></a>00681                                 <span class="keywordflow">if</span>( index&lt; 0)
<a name="l00682"></a>00682                                 {
<a name="l00683"></a>00683                                         <span class="keywordflow">return</span> FALSE;
<a name="l00684"></a>00684                                 }
<a name="l00685"></a>00685                                 samples= ((( p_header-&gt;m_fields.m_HEADER_0.m_fields.m_event_size&lt;&lt; 2)- <span class="keyword">sizeof</span>( <a class="code" href="union_c_v_t___v1724___h_e_a_d_e_r.html" title="V1724 board event header.">CVT_V1724_HEADER</a>))/ num_channels)&gt;&gt; 2;
<a name="l00686"></a>00686                                 <span class="comment">// in realt in questo caso samples  il numero di word: samples= 3*word</span>
<a name="l00687"></a>00687                                 { 
<a name="l00688"></a>00688                                 <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> *ptr,app;
<a name="l00689"></a>00689                                 <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ns;
<a name="l00690"></a>00690                 <span class="keywordflow">for</span>( i= 0 ; ( i&lt; samples)&amp;&amp; ( i&lt; req_buff_size); i++)
<a name="l00691"></a>00691                                 {
<a name="l00692"></a>00692                                         ptr = ( <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a>*)p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a120cd266699b8f80d3c1b7e3066cbead">m_cache_sample_buffer</a>+ (( offset+ <span class="keyword">sizeof</span>( <a class="code" href="union_c_v_t___v1724___h_e_a_d_e_r.html" title="V1724 board event header.">CVT_V1724_HEADER</a>))&gt;&gt;2)+ (index*samples+ i);
<a name="l00693"></a>00693                                         <span class="keywordflow">if</span>( (<span class="keywordtype">char</span>*)ptr&gt;= (<span class="keywordtype">char</span>*)p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a120cd266699b8f80d3c1b7e3066cbead">m_cache_sample_buffer</a>+ p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a89f1e4b11f7d5d1b42b977db7405ee39">m_cache_sample_buffer_size</a>) {
<a name="l00694"></a>00694                                                 <span class="comment">// Bad samples&#39; number ?</span>
<a name="l00695"></a>00695                                                 <span class="keywordflow">return</span> FALSE;
<a name="l00696"></a>00696                                         }
<a name="l00697"></a>00697                                     app= *ptr;
<a name="l00698"></a>00698                                         p_buff[ 3*i]= *ptr &amp; 0x03FF;
<a name="l00699"></a>00699                                         p_buff[ 3*i+1]= (*ptr&gt;&gt; 10) &amp; 0x3ff;
<a name="l00700"></a>00700                                         p_buff[ 3*i+2]= (*ptr&gt;&gt; 20) &amp; 0x03FF;
<a name="l00701"></a>00701                                         ns=(*ptr&gt;&gt;30) &amp; 0x03;
<a name="l00702"></a>00702                                         <span class="keywordflow">if</span> (ns!= 3)
<a name="l00703"></a>00703                                                 ns=ns;
<a name="l00704"></a>00704                                 }
<a name="l00705"></a>00705                                 i= (samples-1)*3+ns;
<a name="l00706"></a>00706                                 }
<a name="l00707"></a>00707                                 <span class="keywordflow">break</span>;
<a name="l00708"></a>00708                         <span class="keywordflow">default</span>:
<a name="l00709"></a>00709                                 TRACE1( <span class="stringliteral">&quot;cvt_V1724_get_buffer_cache: bad board type: %d\n&quot;</span>, p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>);
<a name="l00710"></a>00710                                 <span class="keywordflow">return</span> FALSE;
<a name="l00711"></a>00711                         }
<a name="l00712"></a>00712 
<a name="l00713"></a>00713                         *p_buff_size= i;
<a name="l00714"></a>00714                         <span class="keywordflow">return</span> TRUE;
<a name="l00715"></a>00715                 }
<a name="l00716"></a>00716                 offset+= p_header-&gt;m_fields.m_HEADER_0.m_fields.m_event_size&lt;&lt; 2;
<a name="l00717"></a>00717         }
<a name="l00718"></a>00718         
<a name="l00719"></a>00719         <span class="keywordflow">while</span>(( offset&lt; p_data-&gt;m_cache_sample_buffer_read_bytes)&amp;&amp; (( --current_event)&gt;= 0 ));
<a name="l00720"></a>00720 
<a name="l00721"></a>00721         <span class="keywordflow">return</span> FALSE;
<a name="l00722"></a>00722 }
<a name="l00723"></a>00723 
<a name="l00725"></a>00725 <span class="comment">//</span>
<a name="l00727"></a>00727 <span class="comment"></span>
<a name="l00728"></a><a class="code" href="cvt___v1724_8h.html#a978c04f70ba5d7d6c66e62a6f57687ed">00728</a> <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a9c33c1c932ce595752a9d0dcddd0ac81" title="Setups the triggering parameters.">cvt_V1724_set_trigger_mode</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> falling_edge_enable, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> ext_trigger_enable, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> sw_trigger_enable, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ch_trigger_enable_msk, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> trigger_overlap_enable, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> post_trigger)
<a name="l00729"></a>00729 {
<a name="l00730"></a>00730         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> CH_TRIGGER_MSK[ <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>]=
<a name="l00731"></a>00731         {
<a name="l00732"></a>00732                 <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3a66bf49ce469e86e2d65b87e2c35c2e1f">CVT_V1724_TRGEN_CH0_MSK</a>,                
<a name="l00733"></a>00733                 <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3a0d6099406866fd20fb3f659e780c7b68">CVT_V1724_TRGEN_CH1_MSK</a>,                
<a name="l00734"></a>00734                 <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3a869e02aab0c623e18f0fe157370c9e43">CVT_V1724_TRGEN_CH2_MSK</a>,                
<a name="l00735"></a>00735                 <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3ad10d68828b3c59049735ba07561354df">CVT_V1724_TRGEN_CH3_MSK</a>,                
<a name="l00736"></a>00736                 <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3a5998b6fc2a5070995c68afe522d77984">CVT_V1724_TRGEN_CH4_MSK</a>,                
<a name="l00737"></a>00737                 <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3a3fde7396cecde0ef5153015223a4809b">CVT_V1724_TRGEN_CH5_MSK</a>,                
<a name="l00738"></a>00738                 <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3ae461dcdb1bf45579c8a9be662455f7eb">CVT_V1724_TRGEN_CH6_MSK</a>,                
<a name="l00739"></a>00739                 <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3a8fd47ee4ab7df6ec9ed57fdd877913af">CVT_V1724_TRGEN_CH7_MSK</a>,                
<a name="l00740"></a>00740         };
<a name="l00741"></a>00741 
<a name="l00742"></a>00742         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> set_msk32= 0;
<a name="l00743"></a>00743         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> clear_msk32= 0;
<a name="l00744"></a>00744 
<a name="l00745"></a>00745         <span class="comment">// HACK </span>
<a name="l00746"></a>00746         <span class="comment">// This operation should be avoided if acquisition is running:</span>
<a name="l00747"></a>00747         <span class="comment">// We could provide a check here (depending on firmware capabilities)</span>
<a name="l00748"></a>00748 
<a name="l00749"></a>00749         <span class="comment">//</span>
<a name="l00750"></a>00750         <span class="comment">// falling/rising edge enable ( Over/Under threshold)</span>
<a name="l00751"></a>00751         set_msk32|= ( !falling_edge_enable)? 0: <a class="code" href="cvt___v1724_8h.html#a4bed56eb1100c050246b0f04ea56cacca45ce5489fb3689c089db0529739ee9ab">CVT_V1724_BROAD_CHCTRL_TRG_OUT_THR_MSK</a>;
<a name="l00752"></a>00752         clear_msk32|= ( !falling_edge_enable)? <a class="code" href="cvt___v1724_8h.html#a4bed56eb1100c050246b0f04ea56cacca45ce5489fb3689c089db0529739ee9ab">CVT_V1724_BROAD_CHCTRL_TRG_OUT_THR_MSK</a>: 0;
<a name="l00753"></a>00753 
<a name="l00754"></a>00754         <span class="comment">// </span>
<a name="l00755"></a>00755         <span class="comment">// Trigger Overlap</span>
<a name="l00756"></a>00756         set_msk32|= ( trigger_overlap_enable)? <a class="code" href="cvt___v1724_8h.html#a4bed56eb1100c050246b0f04ea56cacca2fd843eeafc9c4552bf43749607dc84e">CVT_V1724_BROAD_CHCTRL_TRG_OVERLAP_MSK</a>: 0;
<a name="l00757"></a>00757         clear_msk32|= ( trigger_overlap_enable)? 0: <a class="code" href="cvt___v1724_8h.html#a4bed56eb1100c050246b0f04ea56cacca2fd843eeafc9c4552bf43749607dc84e">CVT_V1724_BROAD_CHCTRL_TRG_OVERLAP_MSK</a>;
<a name="l00758"></a>00758         
<a name="l00759"></a>00759         <span class="comment">//</span>
<a name="l00760"></a>00760         <span class="comment">// setup each channel</span>
<a name="l00761"></a>00761         <span class="keywordflow">if</span>( set_msk32)
<a name="l00762"></a>00762         {
<a name="l00763"></a>00763                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a4d111abbc6d427f98b68033f9f096207" title="Set control channel broadcast register index.">CVT_V1724_BROAD_CH_SET_CTRL_INDEX</a>, &amp;set_msk32))
<a name="l00764"></a>00764                 {
<a name="l00765"></a>00765                         TRACE( <span class="stringliteral">&quot;V1724 BROADCAST CH CTRL write failed !\n&quot;</span>);
<a name="l00766"></a>00766                         <span class="keywordflow">return</span> FALSE;
<a name="l00767"></a>00767                 }
<a name="l00768"></a>00768         }
<a name="l00769"></a>00769         <span class="keywordflow">if</span>( clear_msk32)
<a name="l00770"></a>00770         {
<a name="l00771"></a>00771                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a42f06a96619ff8534517c8356527725c" title="Clear control channel broadcast register index.">CVT_V1724_BROAD_CH_CLEAR_CTRL_INDEX</a>, &amp;clear_msk32))
<a name="l00772"></a>00772                 {
<a name="l00773"></a>00773                         TRACE( <span class="stringliteral">&quot;V1724 BROADCAST CH CTRL write failed !\n&quot;</span>);
<a name="l00774"></a>00774                         <span class="keywordflow">return</span> FALSE;
<a name="l00775"></a>00775                 }
<a name="l00776"></a>00776         }
<a name="l00777"></a>00777 
<a name="l00778"></a>00778         set_msk32= 0;
<a name="l00779"></a>00779         clear_msk32= 0;
<a name="l00780"></a>00780 
<a name="l00781"></a>00781         <span class="comment">//</span>
<a name="l00782"></a>00782         <span class="comment">// External trigger</span>
<a name="l00783"></a>00783         set_msk32|= ( ext_trigger_enable)? <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3a777d55ade990d1ed6024f4d63e187c49">CVT_V1724_TRGEN_EXT_MSK</a>: 0;
<a name="l00784"></a>00784         clear_msk32|= ( ext_trigger_enable)? 0: <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3a777d55ade990d1ed6024f4d63e187c49">CVT_V1724_TRGEN_EXT_MSK</a>;
<a name="l00785"></a>00785         <span class="comment">//</span>
<a name="l00786"></a>00786         <span class="comment">// Software trigger</span>
<a name="l00787"></a>00787         set_msk32|= ( sw_trigger_enable)? <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3a8d2f5fe73b0dc67b7ae060e2e0b7f636">CVT_V1724_TRGEN_SW_MSK</a>: 0;
<a name="l00788"></a>00788         clear_msk32|= ( sw_trigger_enable)? 0: <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3a8d2f5fe73b0dc67b7ae060e2e0b7f636">CVT_V1724_TRGEN_SW_MSK</a>;
<a name="l00789"></a>00789 
<a name="l00790"></a>00790         <span class="comment">//</span>
<a name="l00791"></a>00791         <span class="comment">// Channels&#39; trigger</span>
<a name="l00792"></a>00792         {
<a name="l00793"></a>00793                 <span class="keywordtype">int</span> i;
<a name="l00794"></a>00794                 <span class="keywordflow">for</span>( i= 0; i&lt; CVT_V1724_MAX_CHANNEL ; i++, ch_trigger_enable_msk&gt;&gt;= 1)
<a name="l00795"></a>00795                 {
<a name="l00796"></a>00796                         <span class="keywordflow">if</span>( ch_trigger_enable_msk&amp; 0x01)
<a name="l00797"></a>00797                         {
<a name="l00798"></a>00798                                 set_msk32|= CH_TRIGGER_MSK[ i];
<a name="l00799"></a>00799                         }
<a name="l00800"></a>00800                         <span class="keywordflow">else</span>
<a name="l00801"></a>00801                         {
<a name="l00802"></a>00802                                 clear_msk32|= CH_TRIGGER_MSK[ i];
<a name="l00803"></a>00803                         }
<a name="l00804"></a>00804                 }
<a name="l00805"></a>00805         }
<a name="l00806"></a>00806         <span class="comment">//</span>
<a name="l00807"></a>00807         <span class="comment">// bitmask set</span>
<a name="l00808"></a>00808         <span class="keywordflow">if</span>( set_msk32)
<a name="l00809"></a>00809         {
<a name="l00810"></a>00810                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a94f81046e1e14a9abb94b8a7e064ca12" title="Sets bitmask onto VME board register.">cvt_set_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aec4aa59ff7c015372bca848c8b5ebb32" title="Trigger source enable register index.">CVT_V1724_TRIGGER_SRC_ENABLE_INDEX</a>, &amp;set_msk32))
<a name="l00811"></a>00811                 {
<a name="l00812"></a>00812                         TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_TRIGGER_SRC_ENABLE write failed !\n&quot;</span>);
<a name="l00813"></a>00813                         <span class="keywordflow">return</span> FALSE;
<a name="l00814"></a>00814                 }
<a name="l00815"></a>00815         }
<a name="l00816"></a>00816         <span class="comment">//</span>
<a name="l00817"></a>00817         <span class="comment">// bitmask clear</span>
<a name="l00818"></a>00818         <span class="keywordflow">if</span>( clear_msk32)
<a name="l00819"></a>00819         {
<a name="l00820"></a>00820                 <span class="comment">// clear the enable bit</span>
<a name="l00821"></a>00821                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a2a3b2972e32f546016b8c4a1fb3b8b0e" title="Clears bitmask onto VME board register.">cvt_clear_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aec4aa59ff7c015372bca848c8b5ebb32" title="Trigger source enable register index.">CVT_V1724_TRIGGER_SRC_ENABLE_INDEX</a>, &amp;clear_msk32))
<a name="l00822"></a>00822                 {
<a name="l00823"></a>00823                         TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_TRIGGER_SRC_ENABLE write failed !\n&quot;</span>);
<a name="l00824"></a>00824                         <span class="keywordflow">return</span> FALSE;
<a name="l00825"></a>00825                 }
<a name="l00826"></a>00826         }
<a name="l00827"></a>00827 
<a name="l00828"></a>00828         <span class="comment">//</span>
<a name="l00829"></a>00829         <span class="comment">// Post Trigger</span>
<a name="l00830"></a>00830         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aeb8728d979ab52e70c44491b343dee8f" title="Post trigger register index.">CVT_V1724_POST_TRIG_INDEX</a>, &amp;post_trigger))
<a name="l00831"></a>00831         {
<a name="l00832"></a>00832                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_POST_TRIG write failed !\n&quot;</span>);
<a name="l00833"></a>00833                 <span class="keywordflow">return</span> FALSE;
<a name="l00834"></a>00834         }
<a name="l00835"></a>00835         
<a name="l00836"></a>00836         <span class="keywordflow">return</span> TRUE;
<a name="l00837"></a>00837 }
<a name="l00838"></a>00838 
<a name="l00840"></a>00840 <span class="comment">//</span>
<a name="l00842"></a><a class="code" href="cvt___v1724_8h.html#a8c198c808ef3f1362ad9387cb5f50f58">00842</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#ad92e684399a344b4c35b20ca60cfd389" title="Gets the trigger out settings.">cvt_V1724_get_trigger_mode</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_falling_edge_enable, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_ext_trigger_enable, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_sw_trigger_enable, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> *p_ch_trigger_enable_msk, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_trigger_overlap_enable, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> *p_post_trigger)
<a name="l00843"></a>00843 {
<a name="l00844"></a>00844         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> CH_TRIGGER_MSK[ <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>]=
<a name="l00845"></a>00845         {
<a name="l00846"></a>00846                 <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3a66bf49ce469e86e2d65b87e2c35c2e1f">CVT_V1724_TRGEN_CH0_MSK</a>,                
<a name="l00847"></a>00847                 <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3a0d6099406866fd20fb3f659e780c7b68">CVT_V1724_TRGEN_CH1_MSK</a>,                
<a name="l00848"></a>00848                 <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3a869e02aab0c623e18f0fe157370c9e43">CVT_V1724_TRGEN_CH2_MSK</a>,                
<a name="l00849"></a>00849                 <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3ad10d68828b3c59049735ba07561354df">CVT_V1724_TRGEN_CH3_MSK</a>,                
<a name="l00850"></a>00850                 <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3a5998b6fc2a5070995c68afe522d77984">CVT_V1724_TRGEN_CH4_MSK</a>,                
<a name="l00851"></a>00851                 <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3a3fde7396cecde0ef5153015223a4809b">CVT_V1724_TRGEN_CH5_MSK</a>,                
<a name="l00852"></a>00852                 <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3ae461dcdb1bf45579c8a9be662455f7eb">CVT_V1724_TRGEN_CH6_MSK</a>,                
<a name="l00853"></a>00853                 <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3a8fd47ee4ab7df6ec9ed57fdd877913af">CVT_V1724_TRGEN_CH7_MSK</a>,                
<a name="l00854"></a>00854         };
<a name="l00855"></a>00855 
<a name="l00856"></a>00856         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value32= 0;
<a name="l00857"></a>00857 
<a name="l00858"></a>00858         <span class="comment">//</span>
<a name="l00859"></a>00859         <span class="comment">// get CVT_V1724_BROAD_CH_CTRL register status</span>
<a name="l00860"></a>00860         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87adb71f9b26902bd3a49c852dffe169908" title="Control channel broadcast register index.">CVT_V1724_BROAD_CH_CTRL_INDEX</a>, &amp;reg_value32))
<a name="l00861"></a>00861         {
<a name="l00862"></a>00862                 TRACE( <span class="stringliteral">&quot;V1724 BROADCAST CH CTRL read failed !\n&quot;</span>);
<a name="l00863"></a>00863                 <span class="keywordflow">return</span> FALSE;
<a name="l00864"></a>00864         }
<a name="l00865"></a>00865         <span class="comment">//</span>
<a name="l00866"></a>00866         <span class="comment">// falling/rising edge enable ( Over/Under threshold)</span>
<a name="l00867"></a>00867         *p_falling_edge_enable= ( reg_value32&amp; <a class="code" href="cvt___v1724_8h.html#a4bed56eb1100c050246b0f04ea56cacca45ce5489fb3689c089db0529739ee9ab">CVT_V1724_BROAD_CHCTRL_TRG_OUT_THR_MSK</a>) ? TRUE: FALSE;
<a name="l00868"></a>00868         <span class="comment">// </span>
<a name="l00869"></a>00869         <span class="comment">// Trigger Overlap</span>
<a name="l00870"></a>00870         *p_trigger_overlap_enable= ( reg_value32&amp; <a class="code" href="cvt___v1724_8h.html#a4bed56eb1100c050246b0f04ea56cacca2fd843eeafc9c4552bf43749607dc84e">CVT_V1724_BROAD_CHCTRL_TRG_OVERLAP_MSK</a>) ? TRUE: FALSE;
<a name="l00871"></a>00871         
<a name="l00872"></a>00872         <span class="comment">//</span>
<a name="l00873"></a>00873         <span class="comment">// get CVT_V1724_TRIGGER_SRC_ENABLE register status</span>
<a name="l00874"></a>00874         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aec4aa59ff7c015372bca848c8b5ebb32" title="Trigger source enable register index.">CVT_V1724_TRIGGER_SRC_ENABLE_INDEX</a>, &amp;reg_value32))
<a name="l00875"></a>00875         {
<a name="l00876"></a>00876                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_TRIGGER_SRC_ENABLE read failed !\n&quot;</span>);
<a name="l00877"></a>00877                 <span class="keywordflow">return</span> FALSE;
<a name="l00878"></a>00878         }
<a name="l00879"></a>00879         <span class="comment">//</span>
<a name="l00880"></a>00880         <span class="comment">// External trigger</span>
<a name="l00881"></a>00881         *p_ext_trigger_enable= ( reg_value32&amp; <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3a777d55ade990d1ed6024f4d63e187c49">CVT_V1724_TRGEN_EXT_MSK</a>) ? TRUE: FALSE;
<a name="l00882"></a>00882         <span class="comment">//</span>
<a name="l00883"></a>00883         <span class="comment">// Software trigger</span>
<a name="l00884"></a>00884         *p_sw_trigger_enable= ( reg_value32&amp; <a class="code" href="cvt___v1724_8h.html#a3d20342a3b0a7a443bc8863244665ee3a8d2f5fe73b0dc67b7ae060e2e0b7f636">CVT_V1724_TRGEN_SW_MSK</a>) ? TRUE: FALSE;
<a name="l00885"></a>00885         <span class="comment">//</span>
<a name="l00886"></a>00886         <span class="comment">// Channels&#39; trigger</span>
<a name="l00887"></a>00887         {
<a name="l00888"></a>00888                 <span class="keywordtype">int</span> i;
<a name="l00889"></a>00889                 <span class="keywordtype">int</span> msk= 0x01;
<a name="l00890"></a>00890                 *p_ch_trigger_enable_msk= 0;
<a name="l00891"></a>00891                 <span class="keywordflow">for</span>( i= 0; i&lt; <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a> ; i++, msk&lt;&lt;= 1)
<a name="l00892"></a>00892                 {
<a name="l00893"></a>00893                         *p_ch_trigger_enable_msk|= ( reg_value32&amp; CH_TRIGGER_MSK[ i])? msk: 0;
<a name="l00894"></a>00894                 }
<a name="l00895"></a>00895         }
<a name="l00896"></a>00896 
<a name="l00897"></a>00897         <span class="comment">//</span>
<a name="l00898"></a>00898         <span class="comment">// Get Post Trigger</span>
<a name="l00899"></a>00899         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aeb8728d979ab52e70c44491b343dee8f" title="Post trigger register index.">CVT_V1724_POST_TRIG_INDEX</a>, p_post_trigger))
<a name="l00900"></a>00900         {
<a name="l00901"></a>00901                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_POST_TRIG read failed !\n&quot;</span>);
<a name="l00902"></a>00902                 <span class="keywordflow">return</span> FALSE;
<a name="l00903"></a>00903         }
<a name="l00904"></a>00904         
<a name="l00905"></a>00905         <span class="keywordflow">return</span> TRUE;
<a name="l00906"></a>00906 }
<a name="l00907"></a>00907 
<a name="l00909"></a>00909 <span class="comment">//</span>
<a name="l00911"></a><a class="code" href="cvt___v1724_8h.html#adc11fb514b65a1c01fd0497b9d3ddad3">00911</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a8b77c6274c94a42590c2479d3cac4aa9" title="Starts the acquisition for the spcified channel mask.">cvt_V1724_start_acquisition</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ch_msk)
<a name="l00912"></a>00912 {
<a name="l00913"></a>00913         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> set_msk= 0;
<a name="l00914"></a>00914         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value32= 0;
<a name="l00915"></a>00915 
<a name="l00916"></a>00916         <span class="comment">// HACK </span>
<a name="l00917"></a>00917         <span class="comment">// Channel mask setting should be avoided if acquisition is running:</span>
<a name="l00918"></a>00918         <span class="comment">// We could provide a check here (depending on firmware capabilities)</span>
<a name="l00919"></a>00919 
<a name="l00920"></a>00920         <span class="comment">//</span>
<a name="l00921"></a>00921         <span class="comment">// Enabled Channel mask</span>
<a name="l00922"></a>00922         <span class="keywordflow">switch</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>)
<a name="l00923"></a>00923         {
<a name="l00924"></a>00924         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a56a2e93e73cffaeaf50783acd863aad2" title="The board is V1724.">CVT_V1724</a>:                                                 
<a name="l00925"></a>00925         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610ae7fc5877e3aca04a8b498b8035563491" title="The board is V1720.">CVT_V1720</a>:                                                 
<a name="l00926"></a>00926         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a1cc7b5063f27a2cd67d74ee0ca248578" title="The board is V1721.">CVT_V1721</a>:                                                 
<a name="l00927"></a>00927         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610afc553787456c85d4b462d3ad0d39a230" title="The board is V1740.">CVT_V1740</a>:                                                 
<a name="l00928"></a>00928                 <span class="keywordflow">break</span>;
<a name="l00929"></a>00929         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a53253f7bfab6f1dd94f7b73a3e7b2ffb" title="The board is V1731.">CVT_V1731</a>:                                                 
<a name="l00930"></a>00930                 <span class="comment">// For V1731 in des mode channels are coupled and enabled with a single bit (only even channel)</span>
<a name="l00931"></a>00931                 <span class="keywordflow">if</span>(( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#aa8bd4239675bd77e984c95ca8030d72f">m_is_des_mode</a>)&amp;&amp; ( ch_msk&amp; 0xaa))
<a name="l00932"></a>00932                 {
<a name="l00933"></a>00933                         TRACE( <span class="stringliteral">&quot;cvt_V1724_start_acquisition: Cannot enable odd channels in des mode \n&quot;</span>);
<a name="l00934"></a>00934                         <span class="keywordflow">return</span> FALSE;
<a name="l00935"></a>00935                 }
<a name="l00936"></a>00936                 <span class="keywordflow">break</span>;
<a name="l00937"></a>00937         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a3dede885f83d261437e0bc80f650b660" title="The board is V1751.">CVT_V1751</a>:                                                 
<a name="l00938"></a>00938                 <span class="comment">// For V1751 in des mode channels are coupled and enabled with a single bit (only odd channel)</span>
<a name="l00939"></a>00939                 <span class="keywordflow">if</span>(( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#aa8bd4239675bd77e984c95ca8030d72f">m_is_des_mode</a>)&amp;&amp; ( ch_msk&amp; 0x55))
<a name="l00940"></a>00940                 {
<a name="l00941"></a>00941                         TRACE( <span class="stringliteral">&quot;cvt_V1724_start_acquisition: Cannot enable even channels in des mode \n&quot;</span>);
<a name="l00942"></a>00942                         <span class="keywordflow">return</span> FALSE;
<a name="l00943"></a>00943                 }
<a name="l00944"></a>00944                 <span class="keywordflow">break</span>;
<a name="l00945"></a>00945         <span class="keywordflow">default</span>:
<a name="l00946"></a>00946                 TRACE1( <span class="stringliteral">&quot;cvt_V1724_start_acquisition: bad board type: %d\n&quot;</span>, p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>);
<a name="l00947"></a>00947                 <span class="keywordflow">return</span> FALSE;
<a name="l00948"></a>00948         }
<a name="l00949"></a>00949         reg_value32= ch_msk;
<a name="l00950"></a>00950 
<a name="l00951"></a>00951         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a21da61e615eb9b277ac575fcf949d477" title="Channel enable mask register index.">CVT_V1724_CH_ENABLE_INDEX</a>, &amp;reg_value32))
<a name="l00952"></a>00952         {
<a name="l00953"></a>00953                 TRACE( <span class="stringliteral">&quot;V1724 CHANNEL ENABLE write failed !\n&quot;</span>);
<a name="l00954"></a>00954                 <span class="keywordflow">return</span> FALSE;
<a name="l00955"></a>00955         }
<a name="l00956"></a>00956 
<a name="l00957"></a>00957         <span class="comment">// Start acquisition</span>
<a name="l00958"></a>00958         set_msk|= <a class="code" href="cvt___v1724_8h.html#a80d4820138b4d8c46ee1513539b4a8b2aa1456c6edc6269375f7bd03491d1a03b">CVT_V1724_ACQCTRL_START_MSK</a>;
<a name="l00959"></a>00959 
<a name="l00960"></a>00960         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a94f81046e1e14a9abb94b8a7e064ca12" title="Sets bitmask onto VME board register.">cvt_set_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a09f6c84a43a50b7246f390fbf17529ff" title="Acquisiton Control register index.">CVT_V1724_ACQ_CONTROL_INDEX</a>, &amp;set_msk))
<a name="l00961"></a>00961         {
<a name="l00962"></a>00962                 TRACE( <span class="stringliteral">&quot;V1724 ACQUISITION CONTROL write failed !\n&quot;</span>);
<a name="l00963"></a>00963                 <span class="keywordflow">return</span> FALSE;
<a name="l00964"></a>00964         }
<a name="l00965"></a>00965         <span class="keywordflow">return</span> TRUE;
<a name="l00966"></a>00966 }
<a name="l00968"></a>00968 <span class="comment">//</span>
<a name="l00970"></a><a class="code" href="cvt___v1724_8h.html#a5bef0c422bfd28ea5478753d8a70757b">00970</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a0005970037d5578875882d49957612ab" title="Stops the acquisition.">cvt_V1724_stop_acquisition</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data)
<a name="l00971"></a>00971 {
<a name="l00972"></a>00972         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> clear_msk= 0;
<a name="l00973"></a>00973 
<a name="l00974"></a>00974         <span class="comment">// Stop acquisition</span>
<a name="l00975"></a>00975         clear_msk|= <a class="code" href="cvt___v1724_8h.html#a80d4820138b4d8c46ee1513539b4a8b2aa1456c6edc6269375f7bd03491d1a03b">CVT_V1724_ACQCTRL_START_MSK</a>;
<a name="l00976"></a>00976 
<a name="l00977"></a>00977         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a2a3b2972e32f546016b8c4a1fb3b8b0e" title="Clears bitmask onto VME board register.">cvt_clear_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a09f6c84a43a50b7246f390fbf17529ff" title="Acquisiton Control register index.">CVT_V1724_ACQ_CONTROL_INDEX</a>, &amp;clear_msk))
<a name="l00978"></a>00978         {
<a name="l00979"></a>00979                 TRACE( <span class="stringliteral">&quot;V1724 ACQUISITION CONTROL write failed !\n&quot;</span>);
<a name="l00980"></a>00980                 <span class="keywordflow">return</span> FALSE;
<a name="l00981"></a>00981         }               
<a name="l00982"></a>00982         <span class="keywordflow">return</span> TRUE;
<a name="l00983"></a>00983 }
<a name="l00985"></a>00985 <span class="comment">//</span>
<a name="l00987"></a><a class="code" href="cvt___v1724_8h.html#ad2a6915e0ca288d81a15d0879180fc19">00987</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a12a3a5ee51d0bc9e5a355364bac9599b" title="Setups the acquisition mode parameters.">cvt_V1724_set_acquisition_mode</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> sample_enable, <a class="code" href="cvt___v1724_8h.html#a8bfce99d304af1f56ccd640cf8dea682" title="The number for blocks.">CVT_V1724_NUM_BLOCKS</a> block_size, <a class="code" href="cvt___v1724_8h.html#ad0d6189acd971bb5193112d6a3c0d287" title="CVT_V1724_ACQ_CONTROL_MSK acquisition modes.">CVT_V1724_ACQ_CONTROL_ACQ_MODES</a> acquisition_mode, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> count_all_trigger, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> downsample_factor)
<a name="l00988"></a>00988 {
<a name="l00989"></a>00989         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> set_msk= 0;
<a name="l00990"></a>00990         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> clear_msk= 0;
<a name="l00991"></a>00991         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value32;
<a name="l00992"></a>00992 
<a name="l00993"></a>00993         <span class="comment">//</span>
<a name="l00994"></a>00994         <span class="comment">// parameter checking</span>
<a name="l00995"></a>00995         <span class="keywordflow">switch</span>( block_size)
<a name="l00996"></a>00996         {
<a name="l00997"></a>00997         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a8bfce99d304af1f56ccd640cf8dea682ab1ed7de1ceecbd613e4c2fe4e64e11f1">CVT_V1724_NBLK_1024</a>:                       
<a name="l00998"></a>00998         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a8bfce99d304af1f56ccd640cf8dea682a9ddd8205af8d93d0a6279a55fc622a45">CVT_V1724_NBLK_512</a>:                        
<a name="l00999"></a>00999         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a8bfce99d304af1f56ccd640cf8dea682a771af667a008a290666a74d0463a06c7">CVT_V1724_NBLK_256</a>:                        
<a name="l01000"></a>01000         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a8bfce99d304af1f56ccd640cf8dea682a8b81b9804bc7d3bb6fb35c14db902b3c">CVT_V1724_NBLK_128</a>:                        
<a name="l01001"></a>01001         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a8bfce99d304af1f56ccd640cf8dea682a233105a65370314be1003cfd119ddb0c">CVT_V1724_NBLK_64</a>:                         
<a name="l01002"></a>01002         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a8bfce99d304af1f56ccd640cf8dea682ab50f0c7a0b20ee1d8920e3833ef7e14b">CVT_V1724_NBLK_32</a>:                         
<a name="l01003"></a>01003         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a8bfce99d304af1f56ccd640cf8dea682a389b0682781c1b00795ef45bd394251f">CVT_V1724_NBLK_16</a>:                         
<a name="l01004"></a>01004         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a8bfce99d304af1f56ccd640cf8dea682acc9bcb5d41c01742d466f311227e0dc3">CVT_V1724_NBLK_8</a>:                          
<a name="l01005"></a>01005         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a8bfce99d304af1f56ccd640cf8dea682a176e7cd14dacc9f67d5c4a9c75aaf8d3">CVT_V1724_NBLK_4</a>:                          
<a name="l01006"></a>01006         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a8bfce99d304af1f56ccd640cf8dea682a5e0466253af446f9dae5cd618a9ecc41">CVT_V1724_NBLK_2</a>:                          
<a name="l01007"></a>01007         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a8bfce99d304af1f56ccd640cf8dea682a221f6f689ab2da1307fd9fc4050542c6">CVT_V1724_NBLK_1</a>:                          
<a name="l01008"></a>01008                 <span class="keywordflow">break</span>;
<a name="l01009"></a>01009         <span class="keywordflow">default</span>:
<a name="l01010"></a>01010                 TRACE1( <span class="stringliteral">&quot;V1724 Bad block size &#39;%d&#39;!\n&quot;</span>, block_size);
<a name="l01011"></a>01011                 <span class="keywordflow">return</span> FALSE;
<a name="l01012"></a>01012         }
<a name="l01013"></a>01013         <span class="comment">//</span>
<a name="l01014"></a>01014         <span class="comment">// Sample enable</span>
<a name="l01015"></a>01015         set_msk|= ( sample_enable)? <a class="code" href="cvt___v1724_8h.html#a4bed56eb1100c050246b0f04ea56cacca21ce2df17edf318951d9ee0a0c181800">CVT_V1724_BROAD_CHCTRL_GATE_MODE_MSK</a>: 0;
<a name="l01016"></a>01016         clear_msk|= ( sample_enable)? 0: <a class="code" href="cvt___v1724_8h.html#a4bed56eb1100c050246b0f04ea56cacca21ce2df17edf318951d9ee0a0c181800">CVT_V1724_BROAD_CHCTRL_GATE_MODE_MSK</a>;
<a name="l01017"></a>01017         
<a name="l01018"></a>01018         <span class="comment">//</span>
<a name="l01019"></a>01019         <span class="comment">// setup each channel</span>
<a name="l01020"></a>01020         <span class="keywordflow">if</span>( set_msk)
<a name="l01021"></a>01021         {
<a name="l01022"></a>01022                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a4d111abbc6d427f98b68033f9f096207" title="Set control channel broadcast register index.">CVT_V1724_BROAD_CH_SET_CTRL_INDEX</a>, &amp;set_msk))
<a name="l01023"></a>01023                 {
<a name="l01024"></a>01024                         TRACE( <span class="stringliteral">&quot;V1724 CH SET CONTROL write failed !\n&quot;</span>);
<a name="l01025"></a>01025                         <span class="keywordflow">return</span> FALSE;
<a name="l01026"></a>01026                 }
<a name="l01027"></a>01027         }
<a name="l01028"></a>01028         <span class="keywordflow">if</span>( clear_msk)
<a name="l01029"></a>01029         {
<a name="l01030"></a>01030                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a42f06a96619ff8534517c8356527725c" title="Clear control channel broadcast register index.">CVT_V1724_BROAD_CH_CLEAR_CTRL_INDEX</a>, &amp;clear_msk))
<a name="l01031"></a>01031                 {
<a name="l01032"></a>01032                         TRACE( <span class="stringliteral">&quot;V1724 CH CLEAR CONTROL write failed !\n&quot;</span>);
<a name="l01033"></a>01033                         <span class="keywordflow">return</span> FALSE;
<a name="l01034"></a>01034                 }               
<a name="l01035"></a>01035         }
<a name="l01036"></a>01036         <span class="comment">//</span>
<a name="l01037"></a>01037         <span class="comment">// Block size   </span>
<a name="l01038"></a>01038         reg_value32= block_size;
<a name="l01039"></a>01039         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ab479bec093dd94c64e21d83aef041456" title="Number of blocks broadcast register index.">CVT_V1724_BROAD_NUM_BLOCK_INDEX</a>, &amp;reg_value32))
<a name="l01040"></a>01040         {
<a name="l01041"></a>01041                 TRACE( <span class="stringliteral">&quot;V1724 CH BLOCK SIZE write failed !\n&quot;</span>);
<a name="l01042"></a>01042                 <span class="keywordflow">return</span> FALSE;
<a name="l01043"></a>01043         }
<a name="l01044"></a>01044 
<a name="l01045"></a>01045         reg_value32= 0;
<a name="l01046"></a>01046         set_msk= 0;
<a name="l01047"></a>01047         clear_msk= 0;
<a name="l01048"></a>01048         <span class="comment">// Acquisition mode</span>
<a name="l01049"></a>01049         <a class="code" href="cvt___v1724_8h.html#a75bd6ef4e4adc62204e8239c94248825" title="Sets the acquisition mode value into UINT32 value.">CVT_V1724_SET_ACQCTRL_ACQ_MODE</a>( reg_value32, acquisition_mode);
<a name="l01050"></a>01050         set_msk|= ( reg_value32&amp; <a class="code" href="cvt___v1724_8h.html#a80d4820138b4d8c46ee1513539b4a8b2a86542e78e9f51e082bfcb0931ccfe37c">CVT_V1724_ACQCTRL_ACQ_MODE_MSK</a>);
<a name="l01051"></a>01051         clear_msk|= (( ~reg_value32)&amp; <a class="code" href="cvt___v1724_8h.html#a80d4820138b4d8c46ee1513539b4a8b2a86542e78e9f51e082bfcb0931ccfe37c">CVT_V1724_ACQCTRL_ACQ_MODE_MSK</a>);
<a name="l01052"></a>01052 
<a name="l01053"></a>01053         <span class="comment">// Event counter</span>
<a name="l01054"></a>01054         set_msk|= ( count_all_trigger)? <a class="code" href="cvt___v1724_8h.html#a80d4820138b4d8c46ee1513539b4a8b2af09e28624e832d28ccf7a7fbf004ede1">CVT_V1724_ACQCTRL_EVENT_COUNTER_ALL_MSK</a>: 0;
<a name="l01055"></a>01055         clear_msk|= ( count_all_trigger)? 0: <a class="code" href="cvt___v1724_8h.html#a80d4820138b4d8c46ee1513539b4a8b2af09e28624e832d28ccf7a7fbf004ede1">CVT_V1724_ACQCTRL_EVENT_COUNTER_ALL_MSK</a>;
<a name="l01056"></a>01056 
<a name="l01057"></a>01057         <span class="comment">// Down sample</span>
<a name="l01058"></a>01058         set_msk|= ( downsample_factor)? <a class="code" href="cvt___v1724_8h.html#a80d4820138b4d8c46ee1513539b4a8b2adc28d93d9b54b960a3f85a46a81ab326">CVT_V1724_ACQCTRL_DOWNSAMPLE_MSK</a>: 0;
<a name="l01059"></a>01059         clear_msk|= ( downsample_factor)? 0: <a class="code" href="cvt___v1724_8h.html#a80d4820138b4d8c46ee1513539b4a8b2adc28d93d9b54b960a3f85a46a81ab326">CVT_V1724_ACQCTRL_DOWNSAMPLE_MSK</a>;
<a name="l01060"></a>01060 
<a name="l01061"></a>01061         <span class="keywordflow">if</span>( set_msk)
<a name="l01062"></a>01062         {
<a name="l01063"></a>01063                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a94f81046e1e14a9abb94b8a7e064ca12" title="Sets bitmask onto VME board register.">cvt_set_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a09f6c84a43a50b7246f390fbf17529ff" title="Acquisiton Control register index.">CVT_V1724_ACQ_CONTROL_INDEX</a>, &amp;set_msk))
<a name="l01064"></a>01064                 {
<a name="l01065"></a>01065                         TRACE( <span class="stringliteral">&quot;V1724 ACQUISITION CONTROL write failed !\n&quot;</span>);
<a name="l01066"></a>01066                         <span class="keywordflow">return</span> FALSE;
<a name="l01067"></a>01067                 }
<a name="l01068"></a>01068         }
<a name="l01069"></a>01069         <span class="keywordflow">if</span>( clear_msk)
<a name="l01070"></a>01070         {
<a name="l01071"></a>01071                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a2a3b2972e32f546016b8c4a1fb3b8b0e" title="Clears bitmask onto VME board register.">cvt_clear_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a09f6c84a43a50b7246f390fbf17529ff" title="Acquisiton Control register index.">CVT_V1724_ACQ_CONTROL_INDEX</a>, &amp;clear_msk))
<a name="l01072"></a>01072                 {
<a name="l01073"></a>01073                         TRACE( <span class="stringliteral">&quot;V1724 ACQUISITION CONTROL write failed !\n&quot;</span>);
<a name="l01074"></a>01074                         <span class="keywordflow">return</span> FALSE;
<a name="l01075"></a>01075                 }               
<a name="l01076"></a>01076         }
<a name="l01077"></a>01077 
<a name="l01078"></a>01078         <span class="keywordflow">if</span>( downsample_factor)
<a name="l01079"></a>01079         {
<a name="l01080"></a>01080                 reg_value32= downsample_factor;
<a name="l01081"></a>01081                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a94c6af07a7bd0041003defebdcdc2b2b" title="DownSample factor register index.">CVT_V1724_DOWNSAMPLE_FACT_INDEX</a>, &amp;reg_value32))
<a name="l01082"></a>01082                 {
<a name="l01083"></a>01083                         TRACE( <span class="stringliteral">&quot;V1724 DOWNSAMPLE FACTOR write failed !\n&quot;</span>);
<a name="l01084"></a>01084                         <span class="keywordflow">return</span> FALSE;
<a name="l01085"></a>01085                 }               
<a name="l01086"></a>01086         }
<a name="l01087"></a>01087         <span class="keywordflow">return</span> TRUE;
<a name="l01088"></a>01088 }
<a name="l01089"></a>01089 
<a name="l01091"></a>01091 <span class="comment">//</span>
<a name="l01093"></a><a class="code" href="cvt___v1724_8h.html#a4a74b6e56e9a8178cb06ee6b6d3df26c">01093</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#aa9098259a17659a70ff00072eeeac191" title="Gets the acquisition mode parameters.">cvt_V1724_get_acquisition_mode</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_sample_enable, <a class="code" href="cvt___v1724_8h.html#a8bfce99d304af1f56ccd640cf8dea682" title="The number for blocks.">CVT_V1724_NUM_BLOCKS</a> *p_block_size)
<a name="l01094"></a>01094 {
<a name="l01095"></a>01095         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value32= 0;
<a name="l01096"></a>01096 
<a name="l01097"></a>01097         <span class="comment">//</span>
<a name="l01098"></a>01098         <span class="comment">// Get CVT_V1724_BROAD_CH_CTRL register value</span>
<a name="l01099"></a>01099         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87adb71f9b26902bd3a49c852dffe169908" title="Control channel broadcast register index.">CVT_V1724_BROAD_CH_CTRL_INDEX</a>, &amp;reg_value32))
<a name="l01100"></a>01100         {
<a name="l01101"></a>01101                 TRACE( <span class="stringliteral">&quot;CVT_V1724_BROAD_CH_CTRL read failed !\n&quot;</span>);
<a name="l01102"></a>01102                 <span class="keywordflow">return</span> FALSE;
<a name="l01103"></a>01103         }
<a name="l01104"></a>01104         <span class="comment">//</span>
<a name="l01105"></a>01105         <span class="comment">// Sample enable</span>
<a name="l01106"></a>01106         *p_sample_enable= ( reg_value32&amp; <a class="code" href="cvt___v1724_8h.html#a4bed56eb1100c050246b0f04ea56cacca21ce2df17edf318951d9ee0a0c181800">CVT_V1724_BROAD_CHCTRL_GATE_MODE_MSK</a>)? TRUE: FALSE;
<a name="l01107"></a>01107         
<a name="l01108"></a>01108         <span class="comment">//</span>
<a name="l01109"></a>01109         <span class="comment">// Get Block size       </span>
<a name="l01110"></a>01110         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ab479bec093dd94c64e21d83aef041456" title="Number of blocks broadcast register index.">CVT_V1724_BROAD_NUM_BLOCK_INDEX</a>, &amp;reg_value32))
<a name="l01111"></a>01111         {
<a name="l01112"></a>01112                 TRACE( <span class="stringliteral">&quot;CVT_V1724_BROAD_NUM_BLOCK read failed !\n&quot;</span>);
<a name="l01113"></a>01113                 <span class="keywordflow">return</span> FALSE;
<a name="l01114"></a>01114         }
<a name="l01115"></a>01115         *p_block_size= reg_value32;
<a name="l01116"></a>01116         <span class="keywordflow">return</span> TRUE;
<a name="l01117"></a>01117 }
<a name="l01118"></a>01118 
<a name="l01120"></a>01120 <span class="comment">//</span>
<a name="l01122"></a><a class="code" href="cvt___v1724_8h.html#a540521de92ca68d2fd2a8f65bf46ef3d">01122</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a4cdb2c2ce6cca6e7b05a787f2085bfed" title="Gets the acquisition status parameters.">cvt_V1724_get_acquisition_status</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_is_MEB_not_empty, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_is_MEB_full, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_is_running, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_some_event_ready, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_event_full, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_s_in)
<a name="l01123"></a>01123 {
<a name="l01124"></a>01124         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value32= 0;
<a name="l01125"></a>01125 
<a name="l01126"></a>01126         <span class="comment">//</span>
<a name="l01127"></a>01127         <span class="comment">// Get CVT_V1724_ACQ_STATUS register value</span>
<a name="l01128"></a>01128         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a0b29be75ddb5facbec874428ca6f8a69" title="Acquisiton Status register index.">CVT_V1724_ACQ_STATUS_INDEX</a>, &amp;reg_value32))
<a name="l01129"></a>01129         {
<a name="l01130"></a>01130                 TRACE( <span class="stringliteral">&quot;V1724 ACQUISITION STATUS read failed !\n&quot;</span>);
<a name="l01131"></a>01131                 <span class="keywordflow">return</span> FALSE;
<a name="l01132"></a>01132         }
<a name="l01133"></a>01133 
<a name="l01134"></a>01134         <span class="comment">//</span>
<a name="l01135"></a>01135         <span class="comment">// MEB not empty bit</span>
<a name="l01136"></a>01136         *p_is_MEB_not_empty= ( reg_value32&amp; <a class="code" href="cvt___v1724_8h.html#a7cae60a99a70e51eacd8ee2beccbfc9aa4fcc668717a66cc581ee05c5499320f8">CVT_V1724_ACQSTS_MEB_NOT_EMPTY_MSK</a>)? TRUE: FALSE;
<a name="l01137"></a>01137 
<a name="l01138"></a>01138         <span class="comment">//</span>
<a name="l01139"></a>01139         <span class="comment">// MEB full bit</span>
<a name="l01140"></a>01140         *p_is_MEB_full= ( reg_value32&amp; <a class="code" href="cvt___v1724_8h.html#a7cae60a99a70e51eacd8ee2beccbfc9aaf36e2ea9568cadcfe9b20997a5318ee1">CVT_V1724_ACQSTS_MEB_FULL_MSK</a>)? TRUE: FALSE;
<a name="l01141"></a>01141 
<a name="l01142"></a>01142         <span class="comment">//</span>
<a name="l01143"></a>01143         <span class="comment">// Run status bit</span>
<a name="l01144"></a>01144         *p_is_running= ( reg_value32&amp; <a class="code" href="cvt___v1724_8h.html#a7cae60a99a70e51eacd8ee2beccbfc9aaa5ece91d8a6ab3bca680b62a173cb1f4">CVT_V1724_ACQSTS_RUN_MSK</a>)? TRUE: FALSE;
<a name="l01145"></a>01145 
<a name="l01146"></a>01146         <span class="comment">//</span>
<a name="l01147"></a>01147         <span class="comment">// Event ready bit</span>
<a name="l01148"></a>01148         *p_some_event_ready= ( reg_value32&amp; <a class="code" href="cvt___v1724_8h.html#a7cae60a99a70e51eacd8ee2beccbfc9aad26d4f9be7a7dcb35dd83dcdb0b40009">CVT_V1724_ACQSTS_EVENT_RDY_MSK</a>)? TRUE: FALSE;
<a name="l01149"></a>01149 
<a name="l01150"></a>01150         <span class="comment">//</span>
<a name="l01151"></a>01151         <span class="comment">// Event full bit</span>
<a name="l01152"></a>01152         *p_event_full= ( reg_value32&amp; <a class="code" href="cvt___v1724_8h.html#a7cae60a99a70e51eacd8ee2beccbfc9aa46adf10958a2c04df2573dd3e576dc57">CVT_V1724_ACQSTS_EVENT_FULL_MSK</a>)? TRUE: FALSE;
<a name="l01153"></a>01153 
<a name="l01154"></a>01154         <span class="comment">//</span>
<a name="l01155"></a>01155         <span class="comment">// S-IN status bit</span>
<a name="l01156"></a>01156         *p_s_in= ( reg_value32&amp; <a class="code" href="cvt___v1724_8h.html#a7cae60a99a70e51eacd8ee2beccbfc9aa77ea618869a5afef93f4142b8dd1376b">CVT_V1724_ACQSTS_S_IN_MSK</a>)? TRUE: FALSE;
<a name="l01157"></a>01157                         
<a name="l01158"></a>01158         <span class="keywordflow">return</span> TRUE;
<a name="l01159"></a>01159 }
<a name="l01160"></a>01160 
<a name="l01162"></a>01162 <span class="comment">//</span>
<a name="l01164"></a><a class="code" href="cvt___v1724_8h.html#a7d087fdc54499517b0adc095fe615c7b">01164</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a3a0b7e4efbafa259c60a4c7221d588a3" title="Returns the maximum number of samples per events for each channel.">cvt_V1724_get_buffer_samples</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> *p_num_k_samples, <a class="code" href="cvt___v1724_8h.html#a8bfce99d304af1f56ccd640cf8dea682" title="The number for blocks.">CVT_V1724_NUM_BLOCKS</a> *p_num_block_read)
<a name="l01165"></a>01165 {
<a name="l01166"></a>01166         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value32;
<a name="l01167"></a>01167         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> num_kwords;
<a name="l01168"></a>01168         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> num_blocks;
<a name="l01169"></a>01169 
<a name="l01170"></a>01170         <span class="comment">// Get the number of words per channel</span>
<a name="l01171"></a>01171         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a9f40819574d3e78df2da640284bdeefb" title="Board&amp;#39;s information register index.">CVT_V1724_BOARD_INFO_INDEX</a>, &amp;reg_value32))
<a name="l01172"></a>01172         {
<a name="l01173"></a>01173                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_BOARD_INFO read failed !\n&quot;</span>);
<a name="l01174"></a>01174                 <span class="keywordflow">return</span> FALSE;
<a name="l01175"></a>01175         }
<a name="l01176"></a>01176 
<a name="l01177"></a>01177 
<a name="l01178"></a>01178         <span class="comment">// Convert to num samples</span>
<a name="l01179"></a>01179         <span class="keywordflow">switch</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>)
<a name="l01180"></a>01180         {
<a name="l01181"></a>01181         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a56a2e93e73cffaeaf50783acd863aad2" title="The board is V1724.">CVT_V1724</a>:                                                 
<a name="l01182"></a>01182         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610ae7fc5877e3aca04a8b498b8035563491" title="The board is V1720.">CVT_V1720</a>:                                                 
<a name="l01183"></a>01183                 num_kwords= <a class="code" href="cvt___v1724_8h.html#a67b347b358fb483d2dae5b888f707418" title="Extract the channel block size (as number of KWORD 32) from UINT32 value.">CVT_V1724_GET_BRDINF_BLOCK_SIZE_KW</a>( reg_value32)&lt;&lt; 1;
<a name="l01184"></a>01184                 <span class="keywordflow">break</span>;
<a name="l01185"></a>01185         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610afc553787456c85d4b462d3ad0d39a230" title="The board is V1740.">CVT_V1740</a>:                                                 
<a name="l01186"></a>01186                 <span class="comment">// For V1740 BOARD_INFO contains the number of words 36 bits words per group</span>
<a name="l01187"></a>01187                 <span class="comment">// so to get the number of samples we have to calculate the number of nibbles </span>
<a name="l01188"></a>01188                 <span class="comment">// and to divide for the number of nibble per sample (3)</span>
<a name="l01189"></a>01189                 num_kwords= ( <a class="code" href="cvt___v1724_8h.html#a67b347b358fb483d2dae5b888f707418" title="Extract the channel block size (as number of KWORD 32) from UINT32 value.">CVT_V1724_GET_BRDINF_BLOCK_SIZE_KW</a>( reg_value32)* 36 <span class="comment">/* bits per word*/</span>)/4 <span class="comment">/* bits per nibble */</span> / 3 <span class="comment">/* bits per sample */</span>;
<a name="l01190"></a>01190                 <span class="keywordflow">break</span>;
<a name="l01191"></a>01191         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a1cc7b5063f27a2cd67d74ee0ca248578" title="The board is V1721.">CVT_V1721</a>:                                                 
<a name="l01192"></a>01192                 num_kwords= <a class="code" href="cvt___v1724_8h.html#a67b347b358fb483d2dae5b888f707418" title="Extract the channel block size (as number of KWORD 32) from UINT32 value.">CVT_V1724_GET_BRDINF_BLOCK_SIZE_KW</a>( reg_value32)&lt;&lt; 2;
<a name="l01193"></a>01193                 <span class="keywordflow">break</span>;
<a name="l01194"></a>01194         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a53253f7bfab6f1dd94f7b73a3e7b2ffb" title="The board is V1731.">CVT_V1731</a>:                                                 
<a name="l01195"></a>01195                 num_kwords= <a class="code" href="cvt___v1724_8h.html#a67b347b358fb483d2dae5b888f707418" title="Extract the channel block size (as number of KWORD 32) from UINT32 value.">CVT_V1724_GET_BRDINF_BLOCK_SIZE_KW</a>( reg_value32)&lt;&lt; 2;
<a name="l01196"></a>01196                 <span class="keywordflow">if</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#aa8bd4239675bd77e984c95ca8030d72f">m_is_des_mode</a>)
<a name="l01197"></a>01197                         num_kwords&lt;&lt;= 1;
<a name="l01198"></a>01198                 <span class="keywordflow">break</span>;
<a name="l01199"></a>01199         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a3dede885f83d261437e0bc80f650b660" title="The board is V1751.">CVT_V1751</a>:                                                 
<a name="l01200"></a>01200                 num_kwords= (<a class="code" href="cvt___v1724_8h.html#a67b347b358fb483d2dae5b888f707418" title="Extract the channel block size (as number of KWORD 32) from UINT32 value.">CVT_V1724_GET_BRDINF_BLOCK_SIZE_KW</a>( reg_value32)&gt;&gt;1)*7;
<a name="l01201"></a>01201                 <span class="keywordflow">if</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#aa8bd4239675bd77e984c95ca8030d72f">m_is_des_mode</a>)
<a name="l01202"></a>01202                         num_kwords&lt;&lt;= 1;
<a name="l01203"></a>01203                 <span class="keywordflow">break</span>;
<a name="l01204"></a>01204         <span class="keywordflow">default</span>:
<a name="l01205"></a>01205         <span class="comment">// HACK LCOL 20/07/2009: commentata la linea seguente =&gt; non  definito type!!</span>
<a name="l01206"></a>01206                 <span class="comment">//TRACE1( &quot;cvt_V1724_get_buffer_samples: bad board type: %d\n&quot;, type);</span>
<a name="l01207"></a>01207                 <span class="keywordflow">return</span> FALSE;
<a name="l01208"></a>01208         }
<a name="l01209"></a>01209 
<a name="l01210"></a>01210         <span class="comment">// Get actual block size</span>
<a name="l01211"></a>01211         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ab479bec093dd94c64e21d83aef041456" title="Number of blocks broadcast register index.">CVT_V1724_BROAD_NUM_BLOCK_INDEX</a>, &amp;reg_value32))
<a name="l01212"></a>01212         {
<a name="l01213"></a>01213                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_BROAD_NUM_BLOCK read failed !\n&quot;</span>);
<a name="l01214"></a>01214                 <span class="keywordflow">return</span> FALSE;
<a name="l01215"></a>01215         }
<a name="l01216"></a>01216         *p_num_block_read= reg_value32;
<a name="l01217"></a>01217 
<a name="l01218"></a>01218         num_blocks= 1&lt;&lt; ( reg_value32);
<a name="l01219"></a>01219 
<a name="l01220"></a>01220         *p_num_k_samples= ( <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a>)( <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a>)( num_kwords/ num_blocks);
<a name="l01221"></a>01221 
<a name="l01222"></a>01222         <span class="keywordflow">return</span> TRUE;
<a name="l01223"></a>01223 }
<a name="l01224"></a>01224 
<a name="l01225"></a>01225 
<a name="l01227"></a>01227 <span class="comment">//</span>
<a name="l01229"></a><a class="code" href="cvt___v1724_8h.html#a1c471dfa786d83b865fc2affa893a6e2">01229</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a7ba3b7d78fe4cec660faa0bdd4a00462" title="Sets the maximum number of samples per events for each channel.">cvt_V1724_set_buffer_samples</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> num_k_samples, <a class="code" href="cvt___v1724_8h.html#a8bfce99d304af1f56ccd640cf8dea682" title="The number for blocks.">CVT_V1724_NUM_BLOCKS</a> *p_num_block_written)
<a name="l01230"></a>01230 {
<a name="l01231"></a>01231         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value32;
<a name="l01232"></a>01232         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> num_kwords;
<a name="l01233"></a>01233         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> num_blocks;
<a name="l01234"></a>01234 
<a name="l01235"></a>01235         <span class="keywordflow">if</span>( num_k_samples== 0)
<a name="l01236"></a>01236         {
<a name="l01237"></a>01237                 TRACE( <span class="stringliteral">&quot;V1724 bad num_k_samples !\n&quot;</span>);
<a name="l01238"></a>01238                 <span class="keywordflow">return</span> FALSE;
<a name="l01239"></a>01239         }
<a name="l01240"></a>01240 
<a name="l01241"></a>01241         <span class="comment">// Get the number of words per channel</span>
<a name="l01242"></a>01242         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a9f40819574d3e78df2da640284bdeefb" title="Board&amp;#39;s information register index.">CVT_V1724_BOARD_INFO_INDEX</a>, &amp;reg_value32))
<a name="l01243"></a>01243         {
<a name="l01244"></a>01244                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_BOARD_INFO read failed !\n&quot;</span>);
<a name="l01245"></a>01245                 <span class="keywordflow">return</span> FALSE;
<a name="l01246"></a>01246         }
<a name="l01247"></a>01247         <span class="comment">// Convert to num samples</span>
<a name="l01248"></a>01248         <span class="keywordflow">switch</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>)
<a name="l01249"></a>01249         {
<a name="l01250"></a>01250         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a56a2e93e73cffaeaf50783acd863aad2" title="The board is V1724.">CVT_V1724</a>:                                                 
<a name="l01251"></a>01251         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610ae7fc5877e3aca04a8b498b8035563491" title="The board is V1720.">CVT_V1720</a>:                                                 
<a name="l01252"></a>01252                 num_kwords= <a class="code" href="cvt___v1724_8h.html#a67b347b358fb483d2dae5b888f707418" title="Extract the channel block size (as number of KWORD 32) from UINT32 value.">CVT_V1724_GET_BRDINF_BLOCK_SIZE_KW</a>( reg_value32)&lt;&lt; 1;
<a name="l01253"></a>01253                 <span class="keywordflow">break</span>;
<a name="l01254"></a>01254         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610afc553787456c85d4b462d3ad0d39a230" title="The board is V1740.">CVT_V1740</a>:                                                 
<a name="l01255"></a>01255                 <span class="comment">// For V1740 BOARD_INFO contains the number of words 36 bits words per group</span>
<a name="l01256"></a>01256                 <span class="comment">// so to get the number of samples we have to calculate the number of nibbles </span>
<a name="l01257"></a>01257                 <span class="comment">// and to divide for the number of nibble per sample (3)</span>
<a name="l01258"></a>01258                 num_kwords= ( <a class="code" href="cvt___v1724_8h.html#a67b347b358fb483d2dae5b888f707418" title="Extract the channel block size (as number of KWORD 32) from UINT32 value.">CVT_V1724_GET_BRDINF_BLOCK_SIZE_KW</a>( reg_value32)* 36 <span class="comment">/* bits per word*/</span>)/4 <span class="comment">/* bits per nibble */</span> / 3 <span class="comment">/* bits per sample */</span>;
<a name="l01259"></a>01259                 <span class="keywordflow">break</span>;
<a name="l01260"></a>01260         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a1cc7b5063f27a2cd67d74ee0ca248578" title="The board is V1721.">CVT_V1721</a>:                                                 
<a name="l01261"></a>01261                 num_kwords= <a class="code" href="cvt___v1724_8h.html#a67b347b358fb483d2dae5b888f707418" title="Extract the channel block size (as number of KWORD 32) from UINT32 value.">CVT_V1724_GET_BRDINF_BLOCK_SIZE_KW</a>( reg_value32)&lt;&lt; 2;
<a name="l01262"></a>01262                 <span class="keywordflow">break</span>;
<a name="l01263"></a>01263         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a53253f7bfab6f1dd94f7b73a3e7b2ffb" title="The board is V1731.">CVT_V1731</a>:                                                 
<a name="l01264"></a>01264                 num_kwords= <a class="code" href="cvt___v1724_8h.html#a67b347b358fb483d2dae5b888f707418" title="Extract the channel block size (as number of KWORD 32) from UINT32 value.">CVT_V1724_GET_BRDINF_BLOCK_SIZE_KW</a>( reg_value32)&lt;&lt; 2;
<a name="l01265"></a>01265                 <span class="keywordflow">if</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#aa8bd4239675bd77e984c95ca8030d72f">m_is_des_mode</a>)
<a name="l01266"></a>01266                         num_kwords&lt;&lt;= 1;
<a name="l01267"></a>01267                 <span class="keywordflow">break</span>;
<a name="l01268"></a>01268         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a3dede885f83d261437e0bc80f650b660" title="The board is V1751.">CVT_V1751</a>:                                                 
<a name="l01269"></a>01269                 num_kwords= <a class="code" href="cvt___v1724_8h.html#a67b347b358fb483d2dae5b888f707418" title="Extract the channel block size (as number of KWORD 32) from UINT32 value.">CVT_V1724_GET_BRDINF_BLOCK_SIZE_KW</a>( reg_value32)*3;
<a name="l01270"></a>01270                 <span class="keywordflow">if</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#aa8bd4239675bd77e984c95ca8030d72f">m_is_des_mode</a>)
<a name="l01271"></a>01271                         num_kwords&lt;&lt;= 1;
<a name="l01272"></a>01272                 <span class="keywordflow">break</span>;
<a name="l01273"></a>01273         <span class="keywordflow">default</span>:
<a name="l01274"></a>01274         <span class="comment">// HACK LCOL 20/07/2009: commentata la linea seguente =&gt; non  definito type!!</span>
<a name="l01275"></a>01275                 <span class="comment">//TRACE1( &quot;cvt_V1724_get_buffer_samples: bad board type: %d\n&quot;, type);</span>
<a name="l01276"></a>01276                 <span class="keywordflow">return</span> FALSE;
<a name="l01277"></a>01277         }
<a name="l01278"></a>01278 
<a name="l01279"></a>01279         <span class="comment">// Get the number of blocks requested</span>
<a name="l01280"></a>01280         reg_value32= (( <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a>)( num_kwords/ ( <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a>)num_k_samples));
<a name="l01281"></a>01281         num_blocks= 0;
<a name="l01282"></a>01282         <span class="keywordflow">while</span>( reg_value32&gt; (<a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a>)( 1&lt;&lt; num_blocks))
<a name="l01283"></a>01283         {
<a name="l01284"></a>01284                 ++num_blocks;
<a name="l01285"></a>01285         }
<a name="l01286"></a>01286 
<a name="l01287"></a>01287         <span class="keywordflow">if</span>( num_blocks&gt; <a class="code" href="cvt___v1724_8h.html#a8bfce99d304af1f56ccd640cf8dea682ab1ed7de1ceecbd613e4c2fe4e64e11f1">CVT_V1724_NBLK_1024</a>)
<a name="l01288"></a>01288         {
<a name="l01289"></a>01289                 TRACE( <span class="stringliteral">&quot;V1724 bad num_k_samples: too many blocks requested !\n&quot;</span>);
<a name="l01290"></a>01290                 <span class="keywordflow">return</span> FALSE;
<a name="l01291"></a>01291         }
<a name="l01292"></a>01292 
<a name="l01293"></a>01293         <span class="comment">// Set Block num        </span>
<a name="l01294"></a>01294         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ab479bec093dd94c64e21d83aef041456" title="Number of blocks broadcast register index.">CVT_V1724_BROAD_NUM_BLOCK_INDEX</a>, &amp;num_blocks))
<a name="l01295"></a>01295         {
<a name="l01296"></a>01296                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_BROAD_NUM_BLOCK write failed !\n&quot;</span>);
<a name="l01297"></a>01297                 <span class="keywordflow">return</span> FALSE;
<a name="l01298"></a>01298         }
<a name="l01299"></a>01299         *p_num_block_written= num_blocks;
<a name="l01300"></a>01300 
<a name="l01301"></a>01301         <span class="keywordflow">return</span> TRUE;
<a name="l01302"></a>01302 }
<a name="l01303"></a>01303 
<a name="l01305"></a>01305 <span class="comment">//</span>
<a name="l01307"></a><a class="code" href="cvt___v1724_8h.html#aeb3360c998181e1ac5324cdbe53b149a">01307</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a98c4aacb77ef33904838f7c41a96b921" title="Setups the front panel triggering output parameters.">cvt_V1724_set_fp_trigger_out</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> ext_trigger_enable, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> sw_trigger_enable, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ch_trigger_enable_msk)
<a name="l01308"></a>01308 {
<a name="l01309"></a>01309         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> CH_TRIGGER_MSK[ <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>]=
<a name="l01310"></a>01310         {
<a name="l01311"></a>01311                 <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10a20050df77abb7b9810176550c1c9dfb5">CVT_V1724_FPTRGEN_CH0_MSK</a>,              
<a name="l01312"></a>01312                 <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10aced5d277b70e3259e05f1978513c2297">CVT_V1724_FPTRGEN_CH1_MSK</a>,              
<a name="l01313"></a>01313                 <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10a70758f7b57fc74dd4ceb9cbcc9295020">CVT_V1724_FPTRGEN_CH2_MSK</a>,              
<a name="l01314"></a>01314                 <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10ac3daba1c880a3477a3b9a94903ddefa1">CVT_V1724_FPTRGEN_CH3_MSK</a>,              
<a name="l01315"></a>01315                 <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10acaf15975c4c737eb3b7e3c067366e7bc">CVT_V1724_FPTRGEN_CH4_MSK</a>,              
<a name="l01316"></a>01316                 <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10a649e8db97c880188180494723ec98c7f">CVT_V1724_FPTRGEN_CH5_MSK</a>,              
<a name="l01317"></a>01317                 <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10aa6fb07a57649a8e1b08b46c021d58389">CVT_V1724_FPTRGEN_CH6_MSK</a>,              
<a name="l01318"></a>01318                 <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10a4e5d2d164a3fea1afa0b10c3698e4edf">CVT_V1724_FPTRGEN_CH7_MSK</a>,              
<a name="l01319"></a>01319         };
<a name="l01320"></a>01320 
<a name="l01321"></a>01321         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> set_msk32= 0;
<a name="l01322"></a>01322         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> clear_msk32= 0;
<a name="l01323"></a>01323 
<a name="l01324"></a>01324         <span class="comment">//</span>
<a name="l01325"></a>01325         <span class="comment">// External trigger</span>
<a name="l01326"></a>01326         set_msk32|= ( ext_trigger_enable)? <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10a31fcdca803c54a3790056ce8b7f78f5d">CVT_V1724_FPTRGEN_EXT_MSK</a>: 0;
<a name="l01327"></a>01327         clear_msk32|= ( ext_trigger_enable)? 0: <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10a31fcdca803c54a3790056ce8b7f78f5d">CVT_V1724_FPTRGEN_EXT_MSK</a>;
<a name="l01328"></a>01328         <span class="comment">//</span>
<a name="l01329"></a>01329         <span class="comment">// Software trigger</span>
<a name="l01330"></a>01330         set_msk32|= ( sw_trigger_enable)? <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10a17a563c2ed0bead4bddfc2592bc6e642">CVT_V1724_FPTRGEN_SW_MSK</a>: 0;
<a name="l01331"></a>01331         clear_msk32|= ( sw_trigger_enable)? 0: <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10a17a563c2ed0bead4bddfc2592bc6e642">CVT_V1724_FPTRGEN_SW_MSK</a>;
<a name="l01332"></a>01332 
<a name="l01333"></a>01333         <span class="comment">//</span>
<a name="l01334"></a>01334         <span class="comment">// Channels&#39; trigger</span>
<a name="l01335"></a>01335         {
<a name="l01336"></a>01336                 <span class="keywordtype">int</span> i;
<a name="l01337"></a>01337                 <span class="keywordflow">for</span>( i= 0; i&lt; CVT_V1724_MAX_CHANNEL ; i++, ch_trigger_enable_msk&gt;&gt;= 1)
<a name="l01338"></a>01338                 {
<a name="l01339"></a>01339                         <span class="keywordflow">if</span>( ch_trigger_enable_msk&amp; 0x01)
<a name="l01340"></a>01340                         {
<a name="l01341"></a>01341                                 set_msk32|= CH_TRIGGER_MSK[ i];
<a name="l01342"></a>01342                         }
<a name="l01343"></a>01343                         <span class="keywordflow">else</span>
<a name="l01344"></a>01344                         {
<a name="l01345"></a>01345                                 clear_msk32|= CH_TRIGGER_MSK[ i];
<a name="l01346"></a>01346                         }
<a name="l01347"></a>01347                 }
<a name="l01348"></a>01348         }
<a name="l01349"></a>01349         <span class="comment">//</span>
<a name="l01350"></a>01350         <span class="comment">// bitmask set</span>
<a name="l01351"></a>01351         <span class="keywordflow">if</span>( set_msk32)
<a name="l01352"></a>01352         {
<a name="l01353"></a>01353                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a94f81046e1e14a9abb94b8a7e064ca12" title="Sets bitmask onto VME board register.">cvt_set_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87abe8c8bf54a8548b88f84b9820ffede36" title="Front panel trigger out enable mask register index.">CVT_V1724_FP_TRIGGER_OUT_ENABLE_INDEX</a>, &amp;set_msk32))
<a name="l01354"></a>01354                 {
<a name="l01355"></a>01355                         TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_TRIGGER_SRC_ENABLE write failed !\n&quot;</span>);
<a name="l01356"></a>01356                         <span class="keywordflow">return</span> FALSE;
<a name="l01357"></a>01357                 }
<a name="l01358"></a>01358         }
<a name="l01359"></a>01359         <span class="comment">//</span>
<a name="l01360"></a>01360         <span class="comment">// bitmask clear</span>
<a name="l01361"></a>01361         <span class="keywordflow">if</span>( clear_msk32)
<a name="l01362"></a>01362         {
<a name="l01363"></a>01363                 <span class="comment">// clear the enable bit</span>
<a name="l01364"></a>01364                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a2a3b2972e32f546016b8c4a1fb3b8b0e" title="Clears bitmask onto VME board register.">cvt_clear_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87abe8c8bf54a8548b88f84b9820ffede36" title="Front panel trigger out enable mask register index.">CVT_V1724_FP_TRIGGER_OUT_ENABLE_INDEX</a>, &amp;clear_msk32))
<a name="l01365"></a>01365                 {
<a name="l01366"></a>01366                         TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_TRIGGER_SRC_ENABLE write failed !\n&quot;</span>);
<a name="l01367"></a>01367                         <span class="keywordflow">return</span> FALSE;
<a name="l01368"></a>01368                 }
<a name="l01369"></a>01369         }
<a name="l01370"></a>01370 
<a name="l01371"></a>01371         <span class="keywordflow">return</span> TRUE;
<a name="l01372"></a>01372 }
<a name="l01374"></a>01374 <span class="comment">//</span>
<a name="l01376"></a><a class="code" href="cvt___v1724_8h.html#aa629e3820e792e20cfb88efccee55202">01376</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a42ac50a469a653b80780182389601c3b" title="Gets the front panel trigger output settings.">cvt_V1724_get_fp_trigger_out</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_ext_trigger_enable, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_sw_trigger_enable, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> *p_ch_trigger_enable_msk)
<a name="l01377"></a>01377 {
<a name="l01378"></a>01378         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> CH_TRIGGER_MSK[ <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>]=
<a name="l01379"></a>01379         {
<a name="l01380"></a>01380                 <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10a20050df77abb7b9810176550c1c9dfb5">CVT_V1724_FPTRGEN_CH0_MSK</a>,              
<a name="l01381"></a>01381                 <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10aced5d277b70e3259e05f1978513c2297">CVT_V1724_FPTRGEN_CH1_MSK</a>,              
<a name="l01382"></a>01382                 <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10a70758f7b57fc74dd4ceb9cbcc9295020">CVT_V1724_FPTRGEN_CH2_MSK</a>,              
<a name="l01383"></a>01383                 <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10ac3daba1c880a3477a3b9a94903ddefa1">CVT_V1724_FPTRGEN_CH3_MSK</a>,              
<a name="l01384"></a>01384                 <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10acaf15975c4c737eb3b7e3c067366e7bc">CVT_V1724_FPTRGEN_CH4_MSK</a>,              
<a name="l01385"></a>01385                 <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10a649e8db97c880188180494723ec98c7f">CVT_V1724_FPTRGEN_CH5_MSK</a>,              
<a name="l01386"></a>01386                 <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10aa6fb07a57649a8e1b08b46c021d58389">CVT_V1724_FPTRGEN_CH6_MSK</a>,              
<a name="l01387"></a>01387                 <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10a4e5d2d164a3fea1afa0b10c3698e4edf">CVT_V1724_FPTRGEN_CH7_MSK</a>,              
<a name="l01388"></a>01388         };
<a name="l01389"></a>01389 
<a name="l01390"></a>01390         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value32= 0;
<a name="l01391"></a>01391         
<a name="l01392"></a>01392         <span class="comment">//</span>
<a name="l01393"></a>01393         <span class="comment">// get CVT_V1724_TRIGGER_SRC_ENABLE register status</span>
<a name="l01394"></a>01394         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87abe8c8bf54a8548b88f84b9820ffede36" title="Front panel trigger out enable mask register index.">CVT_V1724_FP_TRIGGER_OUT_ENABLE_INDEX</a>, &amp;reg_value32))
<a name="l01395"></a>01395         {
<a name="l01396"></a>01396                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FP_TRIGGER_OUT_ENABLE read failed !\n&quot;</span>);
<a name="l01397"></a>01397                 <span class="keywordflow">return</span> FALSE;
<a name="l01398"></a>01398         }
<a name="l01399"></a>01399         <span class="comment">//</span>
<a name="l01400"></a>01400         <span class="comment">// External trigger</span>
<a name="l01401"></a>01401         *p_ext_trigger_enable= ( reg_value32&amp; <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10a31fcdca803c54a3790056ce8b7f78f5d">CVT_V1724_FPTRGEN_EXT_MSK</a>) ? TRUE: FALSE;
<a name="l01402"></a>01402         <span class="comment">//</span>
<a name="l01403"></a>01403         <span class="comment">// Software trigger</span>
<a name="l01404"></a>01404         *p_sw_trigger_enable= ( reg_value32&amp; <a class="code" href="cvt___v1724_8h.html#a20566a1614642f1f0fc8c40fc38efd10a17a563c2ed0bead4bddfc2592bc6e642">CVT_V1724_FPTRGEN_SW_MSK</a>) ? TRUE: FALSE;
<a name="l01405"></a>01405         <span class="comment">//</span>
<a name="l01406"></a>01406         <span class="comment">// Channels&#39; trigger</span>
<a name="l01407"></a>01407         {
<a name="l01408"></a>01408                 <span class="keywordtype">int</span> i;
<a name="l01409"></a>01409                 <span class="keywordtype">int</span> msk= 0x01;
<a name="l01410"></a>01410                 *p_ch_trigger_enable_msk= 0;
<a name="l01411"></a>01411                 <span class="keywordflow">for</span>( i= 0; i&lt; <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a> ; i++, msk&lt;&lt;= 1)
<a name="l01412"></a>01412                 {
<a name="l01413"></a>01413                         *p_ch_trigger_enable_msk|= ( reg_value32&amp; CH_TRIGGER_MSK[ i])? msk: 0;
<a name="l01414"></a>01414                 }
<a name="l01415"></a>01415         }
<a name="l01416"></a>01416         
<a name="l01417"></a>01417         <span class="keywordflow">return</span> TRUE;
<a name="l01418"></a>01418 }
<a name="l01419"></a>01419 
<a name="l01421"></a>01421 <span class="comment">//</span>
<a name="l01423"></a><a class="code" href="cvt___v1724_8h.html#a19e5ef3b10e26ccb81daa6b162557b3f">01423</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a4472e5e9f63f907ea2d795ef92b2c278" title="Setups the channels&amp;#39; dithering feature ( V1724/V1720 only).">cvt_V1724_set_dither_enable</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ch_msk, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> dither_value)
<a name="l01424"></a>01424 {
<a name="l01425"></a>01425         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> CH_CONF[ <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>]=
<a name="l01426"></a>01426         {
<a name="l01427"></a>01427                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a1c7ebf0437dd9fbed95dda05bdf35dd8" title="CH 0 Configuration register index.">CVT_V1724_CH0_ADC_CONF_INDEX</a>,                   
<a name="l01428"></a>01428                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87af1d9fa515b6299722dab45c702b52b2e" title="CH 1 Configuration register index.">CVT_V1724_CH1_ADC_CONF_INDEX</a>,                   
<a name="l01429"></a>01429                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87af74fb2a183e2a47c4a715c50c7d51649" title="CH 2 Configuration register index.">CVT_V1724_CH2_ADC_CONF_INDEX</a>,                   
<a name="l01430"></a>01430                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ae5379e9db08e6ba27d78df9b601c7840" title="CH 3 Configuration register index.">CVT_V1724_CH3_ADC_CONF_INDEX</a>,                   
<a name="l01431"></a>01431                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a834b340a512c596b335bfde35d1d36ba" title="CH 4 Configuration register index.">CVT_V1724_CH4_ADC_CONF_INDEX</a>,                   
<a name="l01432"></a>01432                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aeec3ae774d1facb833b1d4e6dca6c5b2" title="CH 5 Configuration register index.">CVT_V1724_CH5_ADC_CONF_INDEX</a>,                   
<a name="l01433"></a>01433                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a658739b11edf9a4ed82b48e491b43b1c" title="CH 6 Configuration register index.">CVT_V1724_CH6_ADC_CONF_INDEX</a>,                   
<a name="l01434"></a>01434                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aaa57300940d6645be3922c540b7aa60c" title="CH 7 Configuration register index.">CVT_V1724_CH7_ADC_CONF_INDEX</a>,                   
<a name="l01435"></a>01435         };
<a name="l01436"></a>01436         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> set_msk= 0;
<a name="l01437"></a>01437 
<a name="l01438"></a>01438         <span class="comment">//</span>
<a name="l01439"></a>01439         <span class="comment">// Board type verify</span>
<a name="l01440"></a>01440         <span class="keywordflow">switch</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>)
<a name="l01441"></a>01441         {
<a name="l01442"></a>01442         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a56a2e93e73cffaeaf50783acd863aad2" title="The board is V1724.">CVT_V1724</a>:
<a name="l01443"></a>01443         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610ae7fc5877e3aca04a8b498b8035563491" title="The board is V1720.">CVT_V1720</a>:
<a name="l01444"></a>01444 <span class="comment">// HACK V1740 TBD</span>
<a name="l01445"></a>01445         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610afc553787456c85d4b462d3ad0d39a230" title="The board is V1740.">CVT_V1740</a>:
<a name="l01446"></a>01446                 <span class="keywordflow">break</span>;
<a name="l01447"></a>01447         <span class="keywordflow">default</span>:
<a name="l01448"></a>01448                 TRACE( <span class="stringliteral">&quot;V1724 cvt_V1724_set_dither_enable bad board type !\n&quot;</span>);
<a name="l01449"></a>01449                 <span class="keywordflow">return</span> FALSE;
<a name="l01450"></a>01450         }
<a name="l01451"></a>01451 
<a name="l01452"></a>01452         <span class="comment">//</span>
<a name="l01453"></a>01453         <span class="comment">// Dither enable</span>
<a name="l01454"></a>01454         set_msk|= <a class="code" href="cvt___v1724_8h.html#afadcb8683a094b5373045f7e12c0795da20f59c8d11c2ba186f798dacf43c46dc">CVT_V1724_CHADCCONF_DITHER_MSK</a>;
<a name="l01455"></a>01455 
<a name="l01456"></a>01456         <span class="keywordflow">if</span>( dither_value)
<a name="l01457"></a>01457         {
<a name="l01458"></a>01458                 <span class="keywordtype">int</span> i;
<a name="l01459"></a>01459                 <span class="keywordflow">for</span>( i= 0; (i&lt; CVT_V1724_MAX_CHANNEL )&amp;&amp; ch_msk; i++, ch_msk&gt;&gt;= 1)
<a name="l01460"></a>01460                 {
<a name="l01461"></a>01461                         <span class="keywordflow">if</span>( !(ch_msk&amp; 0x01))
<a name="l01462"></a>01462                                 <span class="keywordflow">continue</span>;
<a name="l01463"></a>01463                         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a94f81046e1e14a9abb94b8a7e064ca12" title="Sets bitmask onto VME board register.">cvt_set_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, CH_CONF[ i], &amp;set_msk))
<a name="l01464"></a>01464                         {
<a name="l01465"></a>01465                                 TRACE( <span class="stringliteral">&quot;V1724 CH CONF write failed !\n&quot;</span>);
<a name="l01466"></a>01466                                 <span class="keywordflow">return</span> FALSE;
<a name="l01467"></a>01467                         }
<a name="l01468"></a>01468                 }
<a name="l01469"></a>01469         }
<a name="l01470"></a>01470         <span class="keywordflow">else</span>
<a name="l01471"></a>01471         {
<a name="l01472"></a>01472                 <span class="keywordtype">int</span> i;
<a name="l01473"></a>01473                 <span class="keywordflow">for</span>( i= 0; (i&lt; CVT_V1724_MAX_CHANNEL )&amp;&amp; ch_msk; i++, ch_msk&gt;&gt;= 1)
<a name="l01474"></a>01474                 {
<a name="l01475"></a>01475                         <span class="keywordflow">if</span>( !(ch_msk&amp; 0x01))
<a name="l01476"></a>01476                                 <span class="keywordflow">continue</span>;
<a name="l01477"></a>01477                         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a2a3b2972e32f546016b8c4a1fb3b8b0e" title="Clears bitmask onto VME board register.">cvt_clear_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, CH_CONF[ i], &amp;set_msk))
<a name="l01478"></a>01478                         {
<a name="l01479"></a>01479                                 TRACE( <span class="stringliteral">&quot;V1724 CH CONF write failed !\n&quot;</span>);
<a name="l01480"></a>01480                                 <span class="keywordflow">return</span> FALSE;
<a name="l01481"></a>01481                         }
<a name="l01482"></a>01482                 }
<a name="l01483"></a>01483         }
<a name="l01484"></a>01484         <span class="keywordflow">return</span> TRUE;
<a name="l01485"></a>01485 }
<a name="l01486"></a>01486 
<a name="l01488"></a>01488 <span class="comment">//</span>
<a name="l01490"></a><a class="code" href="cvt___v1724_8h.html#a470a985e4943e549df2e838d827f43dd">01490</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a53195342440a0c820b939358a9c414b9" title="Gets the specified channel&amp;#39; dithering feature status ( V1724/V1720 only).">cvt_V1724_get_dither_enable</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ch_index, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_dither_value)
<a name="l01491"></a>01491 {
<a name="l01492"></a>01492         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> CH_CONF[ <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>]=
<a name="l01493"></a>01493         {
<a name="l01494"></a>01494                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a1c7ebf0437dd9fbed95dda05bdf35dd8" title="CH 0 Configuration register index.">CVT_V1724_CH0_ADC_CONF_INDEX</a>,                   
<a name="l01495"></a>01495                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87af1d9fa515b6299722dab45c702b52b2e" title="CH 1 Configuration register index.">CVT_V1724_CH1_ADC_CONF_INDEX</a>,                   
<a name="l01496"></a>01496                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87af74fb2a183e2a47c4a715c50c7d51649" title="CH 2 Configuration register index.">CVT_V1724_CH2_ADC_CONF_INDEX</a>,                   
<a name="l01497"></a>01497                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ae5379e9db08e6ba27d78df9b601c7840" title="CH 3 Configuration register index.">CVT_V1724_CH3_ADC_CONF_INDEX</a>,                   
<a name="l01498"></a>01498                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a834b340a512c596b335bfde35d1d36ba" title="CH 4 Configuration register index.">CVT_V1724_CH4_ADC_CONF_INDEX</a>,                   
<a name="l01499"></a>01499                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aeec3ae774d1facb833b1d4e6dca6c5b2" title="CH 5 Configuration register index.">CVT_V1724_CH5_ADC_CONF_INDEX</a>,                   
<a name="l01500"></a>01500                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a658739b11edf9a4ed82b48e491b43b1c" title="CH 6 Configuration register index.">CVT_V1724_CH6_ADC_CONF_INDEX</a>,                   
<a name="l01501"></a>01501                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aaa57300940d6645be3922c540b7aa60c" title="CH 7 Configuration register index.">CVT_V1724_CH7_ADC_CONF_INDEX</a>,                   
<a name="l01502"></a>01502         };
<a name="l01503"></a>01503         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value32= 0;
<a name="l01504"></a>01504 
<a name="l01505"></a>01505         <span class="comment">//</span>
<a name="l01506"></a>01506         <span class="comment">// Board type verify</span>
<a name="l01507"></a>01507         <span class="keywordflow">switch</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>)
<a name="l01508"></a>01508         {
<a name="l01509"></a>01509         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a56a2e93e73cffaeaf50783acd863aad2" title="The board is V1724.">CVT_V1724</a>:
<a name="l01510"></a>01510         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610ae7fc5877e3aca04a8b498b8035563491" title="The board is V1720.">CVT_V1720</a>:
<a name="l01511"></a>01511 <span class="comment">// HACK V1740 TBD</span>
<a name="l01512"></a>01512         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610afc553787456c85d4b462d3ad0d39a230" title="The board is V1740.">CVT_V1740</a>: 
<a name="l01513"></a>01513                 <span class="keywordflow">break</span>;
<a name="l01514"></a>01514         <span class="keywordflow">default</span>:
<a name="l01515"></a>01515                 TRACE( <span class="stringliteral">&quot;V1724 cvt_V1724_set_dither_enable bad board type !\n&quot;</span>);
<a name="l01516"></a>01516                 <span class="keywordflow">return</span> FALSE;
<a name="l01517"></a>01517         }
<a name="l01518"></a>01518 
<a name="l01519"></a>01519         <span class="comment">//</span>
<a name="l01520"></a>01520         <span class="comment">// input param check</span>
<a name="l01521"></a>01521         <span class="keywordflow">if</span>( ch_index&gt;= <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>)
<a name="l01522"></a>01522         {
<a name="l01523"></a>01523                 TRACE1( <span class="stringliteral">&quot;V1724 cvt_V1724_get_dither_enable bad channel &#39;%d&#39;!\n&quot;</span>, ch_index);
<a name="l01524"></a>01524                 <span class="keywordflow">return</span> FALSE;
<a name="l01525"></a>01525         }
<a name="l01526"></a>01526 
<a name="l01527"></a>01527         <span class="comment">//</span>
<a name="l01528"></a>01528         <span class="comment">// Gets the CVT_V1724_CH#_CONF register value</span>
<a name="l01529"></a>01529         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, CH_CONF[ ch_index], &amp;reg_value32))
<a name="l01530"></a>01530         {
<a name="l01531"></a>01531                 TRACE( <span class="stringliteral">&quot;V1724 CH CONF read failed !\n&quot;</span>);
<a name="l01532"></a>01532                 <span class="keywordflow">return</span> FALSE;
<a name="l01533"></a>01533         }
<a name="l01534"></a>01534 
<a name="l01535"></a>01535         <span class="comment">//</span>
<a name="l01536"></a>01536         <span class="comment">// Dither</span>
<a name="l01537"></a>01537         *p_dither_value= ( reg_value32&amp; <a class="code" href="cvt___v1724_8h.html#afadcb8683a094b5373045f7e12c0795da20f59c8d11c2ba186f798dacf43c46dc">CVT_V1724_CHADCCONF_DITHER_MSK</a>)? TRUE: FALSE;
<a name="l01538"></a>01538 
<a name="l01539"></a>01539         <span class="keywordflow">return</span> TRUE;
<a name="l01540"></a>01540 }
<a name="l01541"></a>01541 
<a name="l01543"></a>01543 <span class="comment">//</span>
<a name="l01545"></a><a class="code" href="cvt___v1724_8h.html#a3ec7436b657f6895ff98a93dddf9a643">01545</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a1fd9499fb9eee07e7eff94636230bea9" title="Setups the channels&amp;#39; adc configuration ( V1724/V1720 only).">cvt_V1724_set_adc_conf</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ch_msk, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> dither_value, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> clk_duty_stab_value, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> randomize_value)
<a name="l01546"></a>01546 {
<a name="l01547"></a>01547         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> CH_CONF[ <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>]=
<a name="l01548"></a>01548         {
<a name="l01549"></a>01549                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a1c7ebf0437dd9fbed95dda05bdf35dd8" title="CH 0 Configuration register index.">CVT_V1724_CH0_ADC_CONF_INDEX</a>,                   
<a name="l01550"></a>01550                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87af1d9fa515b6299722dab45c702b52b2e" title="CH 1 Configuration register index.">CVT_V1724_CH1_ADC_CONF_INDEX</a>,                   
<a name="l01551"></a>01551                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87af74fb2a183e2a47c4a715c50c7d51649" title="CH 2 Configuration register index.">CVT_V1724_CH2_ADC_CONF_INDEX</a>,                   
<a name="l01552"></a>01552                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ae5379e9db08e6ba27d78df9b601c7840" title="CH 3 Configuration register index.">CVT_V1724_CH3_ADC_CONF_INDEX</a>,                   
<a name="l01553"></a>01553                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a834b340a512c596b335bfde35d1d36ba" title="CH 4 Configuration register index.">CVT_V1724_CH4_ADC_CONF_INDEX</a>,                   
<a name="l01554"></a>01554                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aeec3ae774d1facb833b1d4e6dca6c5b2" title="CH 5 Configuration register index.">CVT_V1724_CH5_ADC_CONF_INDEX</a>,                   
<a name="l01555"></a>01555                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a658739b11edf9a4ed82b48e491b43b1c" title="CH 6 Configuration register index.">CVT_V1724_CH6_ADC_CONF_INDEX</a>,                   
<a name="l01556"></a>01556                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aaa57300940d6645be3922c540b7aa60c" title="CH 7 Configuration register index.">CVT_V1724_CH7_ADC_CONF_INDEX</a>,                   
<a name="l01557"></a>01557         };
<a name="l01558"></a>01558         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> set_msk32= 0;
<a name="l01559"></a>01559         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> clear_msk32= 0;
<a name="l01560"></a>01560 
<a name="l01561"></a>01561         <span class="comment">//</span>
<a name="l01562"></a>01562         <span class="comment">// Board type verify</span>
<a name="l01563"></a>01563         <span class="keywordflow">switch</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>)
<a name="l01564"></a>01564         {
<a name="l01565"></a>01565         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a56a2e93e73cffaeaf50783acd863aad2" title="The board is V1724.">CVT_V1724</a>:
<a name="l01566"></a>01566         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610ae7fc5877e3aca04a8b498b8035563491" title="The board is V1720.">CVT_V1720</a>:
<a name="l01567"></a>01567 <span class="comment">// HACK V1740 TBD</span>
<a name="l01568"></a>01568         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610afc553787456c85d4b462d3ad0d39a230" title="The board is V1740.">CVT_V1740</a>: 
<a name="l01569"></a>01569                 <span class="keywordflow">break</span>;
<a name="l01570"></a>01570         <span class="keywordflow">default</span>:
<a name="l01571"></a>01571                 TRACE( <span class="stringliteral">&quot;V1724 cvt_V1724_set_adc_conf bad board type !\n&quot;</span>);
<a name="l01572"></a>01572                 <span class="keywordflow">return</span> FALSE;
<a name="l01573"></a>01573         }
<a name="l01574"></a>01574 
<a name="l01575"></a>01575         <span class="comment">//</span>
<a name="l01576"></a>01576         <span class="comment">// Dither enable</span>
<a name="l01577"></a>01577         set_msk32|= ( dither_value)? <a class="code" href="cvt___v1724_8h.html#afadcb8683a094b5373045f7e12c0795da20f59c8d11c2ba186f798dacf43c46dc">CVT_V1724_CHADCCONF_DITHER_MSK</a>: 0;
<a name="l01578"></a>01578         clear_msk32|= ( dither_value)? 0: <a class="code" href="cvt___v1724_8h.html#afadcb8683a094b5373045f7e12c0795da20f59c8d11c2ba186f798dacf43c46dc">CVT_V1724_CHADCCONF_DITHER_MSK</a>;
<a name="l01579"></a>01579         <span class="comment">//</span>
<a name="l01580"></a>01580         <span class="comment">// Clock duty cycle stabilizer</span>
<a name="l01581"></a>01581         set_msk32|= ( clk_duty_stab_value)? <a class="code" href="cvt___v1724_8h.html#afadcb8683a094b5373045f7e12c0795daac92ae9d2b4d116201247f92ba7923a0">CVT_V1724_CHADCCONF_CLK_DUTY_STAB_MSK</a>: 0;
<a name="l01582"></a>01582         clear_msk32|= ( clk_duty_stab_value)? 0: <a class="code" href="cvt___v1724_8h.html#afadcb8683a094b5373045f7e12c0795daac92ae9d2b4d116201247f92ba7923a0">CVT_V1724_CHADCCONF_CLK_DUTY_STAB_MSK</a>;
<a name="l01583"></a>01583         <span class="comment">//</span>
<a name="l01584"></a>01584         <span class="comment">// Output randomizer</span>
<a name="l01585"></a>01585         set_msk32|= ( randomize_value)? <a class="code" href="cvt___v1724_8h.html#afadcb8683a094b5373045f7e12c0795da5eb49d6730ae5b7a240720f2b24058f3">CVT_V1724_CHADCCONF_RND_MSK</a>: 0;
<a name="l01586"></a>01586         clear_msk32|= ( randomize_value)? 0: <a class="code" href="cvt___v1724_8h.html#afadcb8683a094b5373045f7e12c0795da5eb49d6730ae5b7a240720f2b24058f3">CVT_V1724_CHADCCONF_RND_MSK</a>;
<a name="l01587"></a>01587 
<a name="l01588"></a>01588         <span class="comment">//</span>
<a name="l01589"></a>01589         <span class="comment">// bitmask set</span>
<a name="l01590"></a>01590         <span class="keywordflow">if</span>( set_msk32)
<a name="l01591"></a>01591         {
<a name="l01592"></a>01592                 <span class="keywordtype">int</span> i;
<a name="l01593"></a>01593                 <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> act_ch_msk= ch_msk;
<a name="l01594"></a>01594                 <span class="keywordflow">for</span>( i= 0; (i&lt; CVT_V1724_MAX_CHANNEL )&amp;&amp; act_ch_msk; i++, act_ch_msk&gt;&gt;= 1)
<a name="l01595"></a>01595                 {
<a name="l01596"></a>01596                         <span class="keywordflow">if</span>( !( act_ch_msk&amp; 0x01))
<a name="l01597"></a>01597                                 <span class="keywordflow">continue</span>;
<a name="l01598"></a>01598                         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a94f81046e1e14a9abb94b8a7e064ca12" title="Sets bitmask onto VME board register.">cvt_set_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, CH_CONF[ i], &amp;set_msk32))
<a name="l01599"></a>01599                         {
<a name="l01600"></a>01600                                 TRACE( <span class="stringliteral">&quot;V1724 CH CONF write failed !\n&quot;</span>);
<a name="l01601"></a>01601                                 <span class="keywordflow">return</span> FALSE;
<a name="l01602"></a>01602                         }
<a name="l01603"></a>01603                 }
<a name="l01604"></a>01604         }
<a name="l01605"></a>01605         <span class="comment">//</span>
<a name="l01606"></a>01606         <span class="comment">// bitmask clear</span>
<a name="l01607"></a>01607         <span class="keywordflow">if</span>( clear_msk32)
<a name="l01608"></a>01608         {
<a name="l01609"></a>01609                 <span class="keywordtype">int</span> i;
<a name="l01610"></a>01610                 <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> act_ch_msk= ch_msk;
<a name="l01611"></a>01611                 <span class="keywordflow">for</span>( i= 0; (i&lt; CVT_V1724_MAX_CHANNEL )&amp;&amp; act_ch_msk; i++, act_ch_msk&gt;&gt;= 1)
<a name="l01612"></a>01612                 {
<a name="l01613"></a>01613                         <span class="keywordflow">if</span>( !( act_ch_msk&amp; 0x01))
<a name="l01614"></a>01614                                 <span class="keywordflow">continue</span>;
<a name="l01615"></a>01615                         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a2a3b2972e32f546016b8c4a1fb3b8b0e" title="Clears bitmask onto VME board register.">cvt_clear_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, CH_CONF[ i], &amp;clear_msk32))
<a name="l01616"></a>01616                         {
<a name="l01617"></a>01617                                 TRACE( <span class="stringliteral">&quot;V1724 CH CONF write failed !\n&quot;</span>);
<a name="l01618"></a>01618                                 <span class="keywordflow">return</span> FALSE;
<a name="l01619"></a>01619                         }
<a name="l01620"></a>01620                 }
<a name="l01621"></a>01621         }
<a name="l01622"></a>01622         <span class="keywordflow">return</span> TRUE;
<a name="l01623"></a>01623 }
<a name="l01624"></a>01624 
<a name="l01626"></a>01626 <span class="comment">//</span>
<a name="l01628"></a><a class="code" href="cvt___v1724_8h.html#a22d471c629a7d0b2f40b940dbdb0953a">01628</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a30796c4c67bbf43ef9e9351555bdd60d" title="Gets the specified channel&amp;#39; adc configuration ( V1724/V1720 only).">cvt_V1724_get_adc_conf</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ch_index, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_dither_value, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_clk_duty_stab_value, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_randomize_value)
<a name="l01629"></a>01629 {
<a name="l01630"></a>01630         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> CH_CONF[ <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>]=
<a name="l01631"></a>01631         {
<a name="l01632"></a>01632                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a1c7ebf0437dd9fbed95dda05bdf35dd8" title="CH 0 Configuration register index.">CVT_V1724_CH0_ADC_CONF_INDEX</a>,                   
<a name="l01633"></a>01633                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87af1d9fa515b6299722dab45c702b52b2e" title="CH 1 Configuration register index.">CVT_V1724_CH1_ADC_CONF_INDEX</a>,                   
<a name="l01634"></a>01634                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87af74fb2a183e2a47c4a715c50c7d51649" title="CH 2 Configuration register index.">CVT_V1724_CH2_ADC_CONF_INDEX</a>,                   
<a name="l01635"></a>01635                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ae5379e9db08e6ba27d78df9b601c7840" title="CH 3 Configuration register index.">CVT_V1724_CH3_ADC_CONF_INDEX</a>,                   
<a name="l01636"></a>01636                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a834b340a512c596b335bfde35d1d36ba" title="CH 4 Configuration register index.">CVT_V1724_CH4_ADC_CONF_INDEX</a>,                   
<a name="l01637"></a>01637                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aeec3ae774d1facb833b1d4e6dca6c5b2" title="CH 5 Configuration register index.">CVT_V1724_CH5_ADC_CONF_INDEX</a>,                   
<a name="l01638"></a>01638                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a658739b11edf9a4ed82b48e491b43b1c" title="CH 6 Configuration register index.">CVT_V1724_CH6_ADC_CONF_INDEX</a>,                   
<a name="l01639"></a>01639                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aaa57300940d6645be3922c540b7aa60c" title="CH 7 Configuration register index.">CVT_V1724_CH7_ADC_CONF_INDEX</a>,                   
<a name="l01640"></a>01640         };
<a name="l01641"></a>01641         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value32= 0;
<a name="l01642"></a>01642 
<a name="l01643"></a>01643         <span class="comment">//</span>
<a name="l01644"></a>01644         <span class="comment">// Board type verify</span>
<a name="l01645"></a>01645         <span class="keywordflow">switch</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>)
<a name="l01646"></a>01646         {
<a name="l01647"></a>01647         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a56a2e93e73cffaeaf50783acd863aad2" title="The board is V1724.">CVT_V1724</a>:
<a name="l01648"></a>01648         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610ae7fc5877e3aca04a8b498b8035563491" title="The board is V1720.">CVT_V1720</a>:
<a name="l01649"></a>01649 <span class="comment">// HACK V1740 TBD</span>
<a name="l01650"></a>01650         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610afc553787456c85d4b462d3ad0d39a230" title="The board is V1740.">CVT_V1740</a>: 
<a name="l01651"></a>01651                 <span class="keywordflow">break</span>;
<a name="l01652"></a>01652         <span class="keywordflow">default</span>:
<a name="l01653"></a>01653                 TRACE( <span class="stringliteral">&quot;V1724 cvt_V1724_set_adc_conf bad board type !\n&quot;</span>);
<a name="l01654"></a>01654                 <span class="keywordflow">return</span> FALSE;
<a name="l01655"></a>01655         }
<a name="l01656"></a>01656 
<a name="l01657"></a>01657         <span class="comment">//</span>
<a name="l01658"></a>01658         <span class="comment">// input param check</span>
<a name="l01659"></a>01659         <span class="keywordflow">if</span>( ch_index&gt;= <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>)
<a name="l01660"></a>01660         {
<a name="l01661"></a>01661                 TRACE1( <span class="stringliteral">&quot;V1724 cvt_V1724_set_adc_conf bad channel &#39;%d&#39;!\n&quot;</span>, ch_index);
<a name="l01662"></a>01662                 <span class="keywordflow">return</span> FALSE;
<a name="l01663"></a>01663         }
<a name="l01664"></a>01664 
<a name="l01665"></a>01665         <span class="comment">//</span>
<a name="l01666"></a>01666         <span class="comment">// Gets the CVT_V1724_CH#_CONF register value</span>
<a name="l01667"></a>01667         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, CH_CONF[ ch_index], &amp;reg_value32))
<a name="l01668"></a>01668         {
<a name="l01669"></a>01669                 TRACE( <span class="stringliteral">&quot;V1724 CH CONF read failed !\n&quot;</span>);
<a name="l01670"></a>01670                 <span class="keywordflow">return</span> FALSE;
<a name="l01671"></a>01671         }
<a name="l01672"></a>01672 
<a name="l01673"></a>01673         <span class="comment">//</span>
<a name="l01674"></a>01674         <span class="comment">// Dither</span>
<a name="l01675"></a>01675         *p_dither_value= ( reg_value32&amp; <a class="code" href="cvt___v1724_8h.html#afadcb8683a094b5373045f7e12c0795da20f59c8d11c2ba186f798dacf43c46dc">CVT_V1724_CHADCCONF_DITHER_MSK</a>)? TRUE: FALSE;
<a name="l01676"></a>01676         <span class="comment">//</span>
<a name="l01677"></a>01677         <span class="comment">// Clock duty stabilizer</span>
<a name="l01678"></a>01678         *p_clk_duty_stab_value= ( reg_value32&amp; <a class="code" href="cvt___v1724_8h.html#afadcb8683a094b5373045f7e12c0795daac92ae9d2b4d116201247f92ba7923a0">CVT_V1724_CHADCCONF_CLK_DUTY_STAB_MSK</a>)? TRUE: FALSE;
<a name="l01679"></a>01679         <span class="comment">//</span>
<a name="l01680"></a>01680         <span class="comment">// Output Randomize </span>
<a name="l01681"></a>01681         *p_randomize_value= ( reg_value32&amp; <a class="code" href="cvt___v1724_8h.html#afadcb8683a094b5373045f7e12c0795da5eb49d6730ae5b7a240720f2b24058f3">CVT_V1724_CHADCCONF_RND_MSK</a>)? TRUE: FALSE;
<a name="l01682"></a>01682 
<a name="l01683"></a>01683         <span class="keywordflow">return</span> TRUE;
<a name="l01684"></a>01684 }
<a name="l01685"></a>01685 
<a name="l01687"></a>01687 <span class="comment">//</span>
<a name="l01689"></a><a class="code" href="cvt___v1724_8h.html#ae8d4b7423b4cca9962717f3390d88008">01689</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#adc9d50947bbc642052a7b6afb6a053e5" title="Performs the specified ADCs&amp;#39; channels calibration ( V1731/V1721 only).">cvt_V1724_adc_calib</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ch_msk)
<a name="l01690"></a>01690 {
<a name="l01691"></a>01691         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> CH_CONF[ <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>]=
<a name="l01692"></a>01692         {
<a name="l01693"></a>01693                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a1c7ebf0437dd9fbed95dda05bdf35dd8" title="CH 0 Configuration register index.">CVT_V1724_CH0_ADC_CONF_INDEX</a>,                   
<a name="l01694"></a>01694                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87af1d9fa515b6299722dab45c702b52b2e" title="CH 1 Configuration register index.">CVT_V1724_CH1_ADC_CONF_INDEX</a>,                   
<a name="l01695"></a>01695                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87af74fb2a183e2a47c4a715c50c7d51649" title="CH 2 Configuration register index.">CVT_V1724_CH2_ADC_CONF_INDEX</a>,                   
<a name="l01696"></a>01696                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ae5379e9db08e6ba27d78df9b601c7840" title="CH 3 Configuration register index.">CVT_V1724_CH3_ADC_CONF_INDEX</a>,                   
<a name="l01697"></a>01697                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a834b340a512c596b335bfde35d1d36ba" title="CH 4 Configuration register index.">CVT_V1724_CH4_ADC_CONF_INDEX</a>,                   
<a name="l01698"></a>01698                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aeec3ae774d1facb833b1d4e6dca6c5b2" title="CH 5 Configuration register index.">CVT_V1724_CH5_ADC_CONF_INDEX</a>,                   
<a name="l01699"></a>01699                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a658739b11edf9a4ed82b48e491b43b1c" title="CH 6 Configuration register index.">CVT_V1724_CH6_ADC_CONF_INDEX</a>,                   
<a name="l01700"></a>01700                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aaa57300940d6645be3922c540b7aa60c" title="CH 7 Configuration register index.">CVT_V1724_CH7_ADC_CONF_INDEX</a>,                   
<a name="l01701"></a>01701         };
<a name="l01702"></a>01702         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> CH_STATUS[ <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>]=
<a name="l01703"></a>01703         {
<a name="l01704"></a>01704                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a14000bca1938326acfd002e7fbca549d" title="CH 0 status register index.">CVT_V1724_CH0_STATUS_INDEX</a>,                                             
<a name="l01705"></a>01705                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a36d713ea4f18859a3a0f9807b11a0044" title="CH 1 status register index.">CVT_V1724_CH1_STATUS_INDEX</a>,                                             
<a name="l01706"></a>01706                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a2cb7a8ec10882d646d0791530f339e51" title="CH 2 status register index.">CVT_V1724_CH2_STATUS_INDEX</a>,                                             
<a name="l01707"></a>01707                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87adfcfb270307bd0498510d08843998c0d" title="CH 3 status register index.">CVT_V1724_CH3_STATUS_INDEX</a>,                                             
<a name="l01708"></a>01708                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87adb860b14f2de83a678ab98535fa424d6" title="CH 4 status register index.">CVT_V1724_CH4_STATUS_INDEX</a>,                                             
<a name="l01709"></a>01709                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a86d1f7a0f827ee4235efdefc3b60f083" title="CH 5 status register index.">CVT_V1724_CH5_STATUS_INDEX</a>,                                             
<a name="l01710"></a>01710                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aab2e799865cc123953ee436c9281a063" title="CH 6 status register index.">CVT_V1724_CH6_STATUS_INDEX</a>,                                             
<a name="l01711"></a>01711                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ae78ca47b486edaec0ef24d4a0eb32da3" title="CH 7 status register index.">CVT_V1724_CH7_STATUS_INDEX</a>,                                             
<a name="l01712"></a>01712         };
<a name="l01713"></a>01713         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value= 0;
<a name="l01714"></a>01714         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> msk32= 0;
<a name="l01715"></a>01715         <span class="keywordtype">int</span> i;
<a name="l01716"></a>01716         <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> act_ch_msk;
<a name="l01717"></a>01717         <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> is_des_mode= FALSE;
<a name="l01718"></a>01718 
<a name="l01719"></a>01719         <span class="comment">//</span>
<a name="l01720"></a>01720         <span class="comment">// Board type verify</span>
<a name="l01721"></a>01721         <span class="keywordflow">switch</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>)
<a name="l01722"></a>01722         {
<a name="l01723"></a>01723         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a3dede885f83d261437e0bc80f650b660" title="The board is V1751.">CVT_V1751</a>:
<a name="l01724"></a>01724         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a53253f7bfab6f1dd94f7b73a3e7b2ffb" title="The board is V1731.">CVT_V1731</a>:
<a name="l01725"></a>01725         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a1cc7b5063f27a2cd67d74ee0ca248578" title="The board is V1721.">CVT_V1721</a>:
<a name="l01726"></a>01726                 <span class="keywordflow">break</span>;
<a name="l01727"></a>01727         <span class="keywordflow">default</span>:
<a name="l01728"></a>01728                 TRACE( <span class="stringliteral">&quot;V1724 cvt_V1724_adc_calib bad board type !\n&quot;</span>);
<a name="l01729"></a>01729                 <span class="keywordflow">return</span> FALSE;
<a name="l01730"></a>01730         }
<a name="l01731"></a>01731 
<a name="l01732"></a>01732         <span class="keywordflow">if</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>!= <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a3dede885f83d261437e0bc80f650b660" title="The board is V1751.">CVT_V1751</a>)
<a name="l01733"></a>01733         {
<a name="l01734"></a>01734                 <span class="comment">// Check if des mode</span>
<a name="l01735"></a>01735                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87adb71f9b26902bd3a49c852dffe169908" title="Control channel broadcast register index.">CVT_V1724_BROAD_CH_CTRL_INDEX</a>, &amp;reg_value))
<a name="l01736"></a>01736                 {
<a name="l01737"></a>01737                         TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_BROAD_CH_CTRL read failed !\n&quot;</span>);
<a name="l01738"></a>01738                         <span class="keywordflow">return</span> FALSE;
<a name="l01739"></a>01739                 }
<a name="l01740"></a>01740                 is_des_mode= reg_value&amp; <a class="code" href="cvt___v1724_8h.html#a4bed56eb1100c050246b0f04ea56cacca26c64d69f295985f2b046210158583e6">CVT_V1724_BROAD_CHCTRL_DES_MODE_MSK</a>;
<a name="l01741"></a>01741                 
<a name="l01742"></a>01742                 <span class="keywordflow">if</span>( is_des_mode)
<a name="l01743"></a>01743                 {
<a name="l01744"></a>01744                         <span class="keywordflow">return</span> <a class="code" href="cvt___v1724_8c.html#a3541fdc4b2b2cfc43aaa897e961ab612" title="Switchs to DES mode or normal mode ( V1731 only).">cvt_V1724_set_des_mode</a>( p_data, TRUE);
<a name="l01745"></a>01745                 }
<a name="l01746"></a>01746                 <span class="comment">// calibration bit</span>
<a name="l01747"></a>01747                 msk32|= <a class="code" href="cvt___v1724_8h.html#aca75ed8763e4793e790bd2ced8a0a8cfa73825dd68b0ef142d8201ca36855e3d3">CVT_V1724_CHADCCONF_CAL_MSK_2</a>;
<a name="l01748"></a>01748 
<a name="l01749"></a>01749                 <span class="comment">// Set calibration bit</span>
<a name="l01750"></a>01750                 act_ch_msk= ch_msk;
<a name="l01751"></a>01751                 <span class="keywordflow">for</span>( i= 0; (i&lt; CVT_V1724_MAX_CHANNEL )&amp;&amp; act_ch_msk; i++, act_ch_msk&gt;&gt;= 1)
<a name="l01752"></a>01752                 {
<a name="l01753"></a>01753                         <span class="keywordflow">if</span>( !( act_ch_msk&amp; 0x01))
<a name="l01754"></a>01754                                 <span class="keywordflow">continue</span>;
<a name="l01755"></a>01755                         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a94f81046e1e14a9abb94b8a7e064ca12" title="Sets bitmask onto VME board register.">cvt_set_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, CH_CONF[ i], &amp;msk32))
<a name="l01756"></a>01756                         {
<a name="l01757"></a>01757                                 TRACE( <span class="stringliteral">&quot;V1724 ADC calib write failed !\n&quot;</span>);
<a name="l01758"></a>01758                                 <span class="keywordflow">return</span> FALSE;
<a name="l01759"></a>01759                         }
<a name="l01760"></a>01760                 }
<a name="l01761"></a>01761                 <a class="code" href="cvt__board__commons_8c.html#acc93e4c7308ee91fb228f1eccd751fc9" title="Waits for specified time.">cvt_delay</a>( 1);
<a name="l01762"></a>01762 
<a name="l01763"></a>01763                 <span class="comment">// Reset calibration bit</span>
<a name="l01764"></a>01764                 act_ch_msk= ch_msk;
<a name="l01765"></a>01765                 <span class="keywordflow">for</span>( i= 0; (i&lt; CVT_V1724_MAX_CHANNEL )&amp;&amp; act_ch_msk; i++, act_ch_msk&gt;&gt;= 1)
<a name="l01766"></a>01766                 {
<a name="l01767"></a>01767                         <span class="keywordflow">if</span>( !( act_ch_msk&amp; 0x01))
<a name="l01768"></a>01768                                 <span class="keywordflow">continue</span>;
<a name="l01769"></a>01769                         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a2a3b2972e32f546016b8c4a1fb3b8b0e" title="Clears bitmask onto VME board register.">cvt_clear_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, CH_CONF[ i], &amp;msk32))
<a name="l01770"></a>01770                         {
<a name="l01771"></a>01771                                 TRACE( <span class="stringliteral">&quot;V1724 ADC calib write failed !\n&quot;</span>);
<a name="l01772"></a>01772                                 <span class="keywordflow">return</span> FALSE;
<a name="l01773"></a>01773                         }
<a name="l01774"></a>01774                 }
<a name="l01775"></a>01775         }
<a name="l01776"></a>01776         <span class="keywordflow">else</span>
<a name="l01777"></a>01777         {
<a name="l01778"></a>01778                 <span class="comment">// calibration bit</span>
<a name="l01779"></a>01779                 msk32|= <a class="code" href="cvt___v1724_8h.html#aca75ed8763e4793e790bd2ced8a0a8cfa73825dd68b0ef142d8201ca36855e3d3">CVT_V1724_CHADCCONF_CAL_MSK_2</a>;
<a name="l01780"></a>01780 
<a name="l01781"></a>01781                 <span class="comment">// Set calibration bit</span>
<a name="l01782"></a>01782                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a5faf49a9851e8980e35f7a4201b4db4d" title="ADC configuration broadcast register register index (Write only).">CVT_V1724_BROAD_ADC_CONF_INDEX</a>, &amp;msk32))
<a name="l01783"></a>01783                 {
<a name="l01784"></a>01784                         TRACE( <span class="stringliteral">&quot;V1724 ADC calib write failed !\n&quot;</span>);
<a name="l01785"></a>01785                         <span class="keywordflow">return</span> FALSE;
<a name="l01786"></a>01786                 }
<a name="l01787"></a>01787                 <a class="code" href="cvt__board__commons_8c.html#acc93e4c7308ee91fb228f1eccd751fc9" title="Waits for specified time.">cvt_delay</a>( 20);
<a name="l01788"></a>01788 
<a name="l01789"></a>01789                 <span class="comment">// Reset calibration bit</span>
<a name="l01790"></a>01790                 msk32= 0;
<a name="l01791"></a>01791                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a5faf49a9851e8980e35f7a4201b4db4d" title="ADC configuration broadcast register register index (Write only).">CVT_V1724_BROAD_ADC_CONF_INDEX</a>, &amp;msk32))
<a name="l01792"></a>01792                 {
<a name="l01793"></a>01793                         TRACE( <span class="stringliteral">&quot;V1724 ADC calib write failed !\n&quot;</span>);
<a name="l01794"></a>01794                         <span class="keywordflow">return</span> FALSE;
<a name="l01795"></a>01795                 }
<a name="l01796"></a>01796         }
<a name="l01797"></a>01797         <a class="code" href="cvt__board__commons_8c.html#acc93e4c7308ee91fb228f1eccd751fc9" title="Waits for specified time.">cvt_delay</a>( 20);
<a name="l01798"></a>01798 
<a name="l01799"></a>01799         <span class="comment">// verify calibration </span>
<a name="l01800"></a>01800         act_ch_msk= ch_msk;
<a name="l01801"></a>01801         <span class="keywordflow">for</span>( i= 0; (i&lt; CVT_V1724_MAX_CHANNEL )&amp;&amp; act_ch_msk; i++, act_ch_msk&gt;&gt;= 1)
<a name="l01802"></a>01802         {
<a name="l01803"></a>01803                 <span class="keywordflow">if</span>( !( act_ch_msk&amp; 0x01))
<a name="l01804"></a>01804                         <span class="keywordflow">continue</span>;
<a name="l01805"></a>01805                 <span class="comment">// read channel status register 1</span>
<a name="l01806"></a>01806                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, CH_STATUS[ i], &amp;reg_value))
<a name="l01807"></a>01807                 {
<a name="l01808"></a>01808                         TRACE1( <span class="stringliteral">&quot;V1724 CH_STATUS[%d] read failed !\n&quot;</span>, i);
<a name="l01809"></a>01809                         <span class="keywordflow">return</span> FALSE;
<a name="l01810"></a>01810                 }
<a name="l01811"></a>01811                 <span class="keywordflow">if</span>( !( reg_value&amp; <a class="code" href="cvt___v1724_8h.html#a3d1f47ad6e5086a6b735a48b531692c2a85e397e31bce3b096221292a94452cf6">CVT_V1724_CHSTS_CAL_RUN_MSK</a>))
<a name="l01812"></a>01812                 {
<a name="l01813"></a>01813                         TRACE1( <span class="stringliteral">&quot;V1724 CH_STATUS[%d] calibration failed !\n&quot;</span>, i);
<a name="l01814"></a>01814                         <span class="keywordflow">return</span> FALSE;
<a name="l01815"></a>01815                 }
<a name="l01816"></a>01816         }
<a name="l01817"></a>01817 
<a name="l01818"></a>01818         <span class="comment">// Clear data</span>
<a name="l01819"></a>01819         <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8c.html#a162f2c241a1c0e31b7d1a77fc5ee2b2b" title="Performs a data clear.">cvt_V1724_data_clear</a>( p_data))
<a name="l01820"></a>01820         {
<a name="l01821"></a>01821                 <span class="keywordflow">return</span> FALSE;
<a name="l01822"></a>01822         }
<a name="l01823"></a>01823 
<a name="l01824"></a>01824         <span class="comment">// Resynch</span>
<a name="l01825"></a>01825         reg_value= 0;
<a name="l01826"></a>01826         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a5297a77e05ab83e71b8ee2a8b54695d9" title="Sw sync register index.">CVT_V1724_SW_SYNC_INDEX</a>, &amp;reg_value))
<a name="l01827"></a>01827         {
<a name="l01828"></a>01828                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_SW_SYNC write failed !\n&quot;</span>);
<a name="l01829"></a>01829                 <span class="keywordflow">return</span> FALSE;
<a name="l01830"></a>01830         }
<a name="l01831"></a>01831 
<a name="l01832"></a>01832         <span class="keywordflow">return</span> TRUE;
<a name="l01833"></a>01833 }
<a name="l01835"></a>01835 <span class="comment">//</span>
<a name="l01837"></a><a class="code" href="cvt___v1724_8h.html#a41053eba10af3e020b007f564e4b7839">01837</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#aa0b848e51392e4f5e693b8f9db9d5a9f" title="Reads the specified ADCs&amp;#39; channels temperature ( V1751 only).">cvt_V1724_adc_temp</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ch_msk, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a>* tempadc)
<a name="l01838"></a>01838 {
<a name="l01839"></a>01839         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value= 0;
<a name="l01840"></a>01840         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> msk32= 0;
<a name="l01841"></a>01841         <span class="keywordtype">int</span> i;
<a name="l01842"></a>01842         <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> act_ch_msk;
<a name="l01843"></a>01843 
<a name="l01844"></a>01844         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> ADC_TEMP[ <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>]=
<a name="l01845"></a>01845         {
<a name="l01846"></a>01846                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a62ab31b2dd5f646cc6fe9c30f78f499b" title="CH 0 Memory test address Reserved register index.">CVT_V1724_CH0_RESERVED_MEM_ADDRESS_INDEX</a>,                       
<a name="l01847"></a>01847                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aca424bfba5c385b11b31e435c3d40fd8" title="CH 1 Memory test address Reserved register index.">CVT_V1724_CH1_RESERVED_MEM_ADDRESS_INDEX</a>,                       
<a name="l01848"></a>01848                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a41c465e332d76405c70582213e36e73e" title="CH 2 Memory test address Reserved register index.">CVT_V1724_CH2_RESERVED_MEM_ADDRESS_INDEX</a>,                       
<a name="l01849"></a>01849                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a5cff38a2e5febfc1b9e424f6e3688d15" title="CH 3 Memory test address Reserved register index.">CVT_V1724_CH3_RESERVED_MEM_ADDRESS_INDEX</a>,                       
<a name="l01850"></a>01850                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ae3039b1d49ec9f03d2f04c29bd9b6ecd" title="CH 4 Memory test address Reserved register index.">CVT_V1724_CH4_RESERVED_MEM_ADDRESS_INDEX</a>,                       
<a name="l01851"></a>01851                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aa59787598de67045075ffad54009b850" title="CH 5 Memory test address Reserved register index.">CVT_V1724_CH5_RESERVED_MEM_ADDRESS_INDEX</a>,                       
<a name="l01852"></a>01852                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a9a7a6c2d50914bdccb0e680e90202536" title="CH 6 Memory test address Reserved register index.">CVT_V1724_CH6_RESERVED_MEM_ADDRESS_INDEX</a>,                       
<a name="l01853"></a>01853                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a0b0264e7b86cbfc7274c5d58b4df9d21" title="CH 7 Memory test address Reserved register index.">CVT_V1724_CH7_RESERVED_MEM_ADDRESS_INDEX</a>,                       
<a name="l01854"></a>01854         };
<a name="l01855"></a>01855 
<a name="l01856"></a>01856         <span class="comment">//</span>
<a name="l01857"></a>01857         <span class="comment">// Board type verify</span>
<a name="l01858"></a>01858         <span class="keywordflow">switch</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>)
<a name="l01859"></a>01859         {
<a name="l01860"></a>01860         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a3dede885f83d261437e0bc80f650b660" title="The board is V1751.">CVT_V1751</a>:
<a name="l01861"></a>01861                 <span class="keywordflow">break</span>;
<a name="l01862"></a>01862         <span class="keywordflow">default</span>:
<a name="l01863"></a>01863                 TRACE( <span class="stringliteral">&quot;V1724 cvt_V1724_adc_temp bad board type !\n&quot;</span>);
<a name="l01864"></a>01864                 <span class="keywordflow">return</span> FALSE;
<a name="l01865"></a>01865         }
<a name="l01866"></a>01866 
<a name="l01867"></a>01867 
<a name="l01868"></a>01868         <span class="comment">// verify calibration </span>
<a name="l01869"></a>01869         act_ch_msk= ch_msk &amp;0xAA;
<a name="l01870"></a>01870         <span class="keywordflow">for</span>( i= 0; (i&lt; CVT_V1724_MAX_CHANNEL )&amp;&amp; act_ch_msk; i++, act_ch_msk&gt;&gt;= 1)
<a name="l01871"></a>01871         {
<a name="l01872"></a>01872                 <span class="keywordflow">if</span>( !( act_ch_msk&amp; 0x01))
<a name="l01873"></a>01873                         <span class="keywordflow">continue</span>;
<a name="l01874"></a>01874                 <span class="comment">// read channel status register 1</span>
<a name="l01875"></a>01875                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, ADC_TEMP[i] , &amp;reg_value))
<a name="l01876"></a>01876                 {
<a name="l01877"></a>01877                         TRACE1( <span class="stringliteral">&quot;V1724 TEMP_ADC[%d] read failed !\n&quot;</span>, i);
<a name="l01878"></a>01878                         <span class="keywordflow">return</span> FALSE;
<a name="l01879"></a>01879                 }
<a name="l01880"></a>01880                 <span class="keywordflow">else</span>
<a name="l01881"></a>01881                 tempadc[i]=reg_value;
<a name="l01882"></a>01882 
<a name="l01883"></a>01883         }
<a name="l01884"></a>01884         <span class="keywordflow">return</span> TRUE;
<a name="l01885"></a>01885 }
<a name="l01887"></a>01887 <span class="comment">//</span>
<a name="l01889"></a><a class="code" href="cvt___v1724_8h.html#a9db97fb5e4775b77b10efe6b5d6df752">01889</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a3541fdc4b2b2cfc43aaa897e961ab612" title="Switchs to DES mode or normal mode ( V1731 only).">cvt_V1724_set_des_mode</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> is_des_mode)
<a name="l01890"></a>01890 {
<a name="l01891"></a>01891         <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> reg_value8;
<a name="l01892"></a>01892         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value;
<a name="l01893"></a>01893         <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ch_msk;
<a name="l01894"></a>01894 
<a name="l01895"></a>01895         <span class="comment">//</span>
<a name="l01896"></a>01896         <span class="comment">// Board type verify</span>
<a name="l01897"></a>01897         <span class="keywordflow">switch</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>)
<a name="l01898"></a>01898         {
<a name="l01899"></a>01899         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a53253f7bfab6f1dd94f7b73a3e7b2ffb" title="The board is V1731.">CVT_V1731</a>:
<a name="l01900"></a>01900         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a3dede885f83d261437e0bc80f650b660" title="The board is V1751.">CVT_V1751</a>:
<a name="l01901"></a>01901                 <span class="keywordflow">break</span>;
<a name="l01902"></a>01902         <span class="keywordflow">default</span>:
<a name="l01903"></a>01903                 TRACE( <span class="stringliteral">&quot;V1724 cvt_V1724_set_des_mode bad board type !\n&quot;</span>);
<a name="l01904"></a>01904                 <span class="keywordflow">return</span> FALSE;
<a name="l01905"></a>01905         }
<a name="l01906"></a>01906 
<a name="l01907"></a>01907         <span class="keywordflow">if</span>( is_des_mode)
<a name="l01908"></a>01908         {
<a name="l01909"></a>01909                 <span class="comment">// </span>
<a name="l01910"></a>01910                 <span class="comment">// Switch to des mode</span>
<a name="l01911"></a>01911 
<a name="l01912"></a>01912                 <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> dac_delta;
<a name="l01913"></a>01913                 <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> max_dac_steps;
<a name="l01914"></a>01914                 <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> dac_value[ <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>];
<a name="l01915"></a>01915                 <span class="keywordtype">int</span> i;
<a name="l01916"></a>01916                 <a class="code" href="cvt___v1724_8h.html#a8bfce99d304af1f56ccd640cf8dea682" title="The number for blocks.">CVT_V1724_NUM_BLOCKS</a> num_blocks= <a class="code" href="cvt___v1724_8h.html#a8bfce99d304af1f56ccd640cf8dea682ab1ed7de1ceecbd613e4c2fe4e64e11f1">CVT_V1724_NBLK_1024</a>;
<a name="l01917"></a>01917                 <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> samples_read, num_events;
<a name="l01918"></a>01918                 <span class="comment">// int num_samples= 4096;</span>
<a name="l01919"></a>01919                 <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ch_ok_msk= 0;
<a name="l01920"></a>01920                 <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> *p_buff= 0;
<a name="l01921"></a>01921                 <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> DEF_BUFF_SIZE= 1024;
<a name="l01922"></a>01922                 <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> buff_size= DEF_BUFF_SIZE;
<a name="l01923"></a>01923                 <span class="keywordtype">double</span> mid_scale_value; 
<a name="l01924"></a>01924                 <span class="keywordtype">double</span> mid_scale_tolerance; 
<a name="l01925"></a>01925                 <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> ret_val= TRUE;
<a name="l01926"></a>01926                 <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> running= FALSE;
<a name="l01927"></a>01927 
<a name="l01928"></a>01928                 <span class="comment">//</span>
<a name="l01929"></a>01929                 <span class="comment">// Board type verify</span>
<a name="l01930"></a>01930                 <span class="keywordflow">switch</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>)
<a name="l01931"></a>01931                 {
<a name="l01932"></a>01932                 <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a53253f7bfab6f1dd94f7b73a3e7b2ffb" title="The board is V1731.">CVT_V1731</a>:
<a name="l01933"></a>01933                         mid_scale_value= 127.5;
<a name="l01934"></a>01934                         mid_scale_tolerance= 1.0;
<a name="l01935"></a>01935                         dac_delta= 100;
<a name="l01936"></a>01936                         <span class="keywordflow">break</span>;
<a name="l01937"></a>01937                 <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a3dede885f83d261437e0bc80f650b660" title="The board is V1751.">CVT_V1751</a>:
<a name="l01938"></a>01938                         mid_scale_value= 512;
<a name="l01939"></a>01939                         mid_scale_tolerance= 1.0;
<a name="l01940"></a>01940                         dac_delta= 100;
<a name="l01941"></a>01941                         <span class="keywordflow">break</span>;
<a name="l01942"></a>01942                 <span class="keywordflow">default</span>:
<a name="l01943"></a>01943                         <span class="keywordflow">return</span> FALSE;
<a name="l01944"></a>01944                 }
<a name="l01945"></a>01945                 max_dac_steps= (0xffff/ dac_delta)* 2;
<a name="l01946"></a>01946 
<a name="l01947"></a>01947                 <span class="keywordflow">if</span>(p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a> == <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a3dede885f83d261437e0bc80f650b660" title="The board is V1751.">CVT_V1751</a>){
<a name="l01948"></a>01948                         running= TRUE;
<a name="l01949"></a>01949                         <span class="keywordflow">goto</span> exit_point;
<a name="l01950"></a>01950                 }
<a name="l01951"></a>01951 
<a name="l01952"></a>01952                 <span class="comment">// </span>
<a name="l01953"></a>01953                 <span class="comment">// Switch back from des mode</span>
<a name="l01954"></a>01954 
<a name="l01955"></a>01955                 <span class="comment">// Reset des mode bit </span>
<a name="l01956"></a>01956                 reg_value= <a class="code" href="cvt___v1724_8h.html#a4bed56eb1100c050246b0f04ea56cacca26c64d69f295985f2b046210158583e6">CVT_V1724_BROAD_CHCTRL_DES_MODE_MSK</a>;
<a name="l01957"></a>01957                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a42f06a96619ff8534517c8356527725c" title="Clear control channel broadcast register index.">CVT_V1724_BROAD_CH_CLEAR_CTRL_INDEX</a>, &amp;reg_value))
<a name="l01958"></a>01958                 {
<a name="l01959"></a>01959                         TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_BROAD_CH_CLEAR_CTRL write failed !\n&quot;</span>);
<a name="l01960"></a>01960                         ret_val= FALSE;
<a name="l01961"></a>01961                         <span class="keywordflow">goto</span> exit_point;
<a name="l01962"></a>01962                 }
<a name="l01963"></a>01963                 p_data-&gt;<a class="code" href="structcvt___v1724__data.html#aa8bd4239675bd77e984c95ca8030d72f">m_is_des_mode</a>= FALSE;
<a name="l01964"></a>01964 
<a name="l01965"></a>01965                 <span class="keywordflow">if</span>(( p_buff= ( <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a>*)malloc( buff_size* <span class="keyword">sizeof</span>( <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a>)))== NULL)
<a name="l01966"></a>01966                 {
<a name="l01967"></a>01967                         TRACE( <span class="stringliteral">&quot;V1724 error allocating samples&#39; buffer !\n&quot;</span>);
<a name="l01968"></a>01968                         ret_val= FALSE;
<a name="l01969"></a>01969                         <span class="keywordflow">goto</span> exit_point;
<a name="l01970"></a>01970                 }
<a name="l01971"></a>01971 
<a name="l01972"></a>01972                 <span class="comment">// Perform channels calibration</span>
<a name="l01973"></a>01973                 ch_msk= 0xff;
<a name="l01974"></a>01974 
<a name="l01975"></a>01975                 <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8c.html#adc9d50947bbc642052a7b6afb6a053e5" title="Performs the specified ADCs&amp;#39; channels calibration ( V1731/V1721 only).">cvt_V1724_adc_calib</a>( p_data, ch_msk))
<a name="l01976"></a>01976                 {
<a name="l01977"></a>01977                         ret_val= FALSE;
<a name="l01978"></a>01978                         <span class="keywordflow">goto</span> exit_point;
<a name="l01979"></a>01979                 }
<a name="l01980"></a>01980 
<a name="l01981"></a>01981                 <span class="comment">// Init DAC values</span>
<a name="l01982"></a>01982                 <span class="keywordflow">for</span>( i= 0; i&lt; <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>; i++)
<a name="l01983"></a>01983                 {
<a name="l01984"></a>01984                         dac_value[ i]= 0x8000;
<a name="l01985"></a>01985                 }
<a name="l01986"></a>01986                 ch_msk= 0xff;
<a name="l01987"></a>01987                 <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8c.html#ab871c50cae63a64a7c8c258280d33c70" title="Sets channels&amp;#39; offset.">cvt_V1724_set_channel_offset</a>( p_data, ch_msk, dac_value[ 0]))
<a name="l01988"></a>01988                 {
<a name="l01989"></a>01989                         ret_val= FALSE;
<a name="l01990"></a>01990                         <span class="keywordflow">goto</span> exit_point;
<a name="l01991"></a>01991                 }
<a name="l01992"></a>01992                 <span class="comment">// Wait DAC settling time</span>
<a name="l01993"></a>01993                 <a class="code" href="cvt__board__commons_8c.html#acc93e4c7308ee91fb228f1eccd751fc9" title="Waits for specified time.">cvt_delay</a>( 1000);
<a name="l01994"></a>01994 
<a name="l01995"></a>01995                 <span class="comment">// Set acquisition parameters</span>
<a name="l01996"></a>01996 
<a name="l01997"></a>01997                 <span class="comment">// Set acquisition mode</span>
<a name="l01998"></a>01998                 <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8c.html#a12a3a5ee51d0bc9e5a355364bac9599b" title="Setups the acquisition mode parameters.">cvt_V1724_set_acquisition_mode</a>( p_data, FALSE, num_blocks, <a class="code" href="cvt___v1724_8h.html#ad0d6189acd971bb5193112d6a3c0d287af3ee124d33623df3a9e6f74237e631e8">CVT_V1724_ACQCTRL_ACQ_MODE_REGISTER_CTRL</a>, FALSE, 0))
<a name="l01999"></a>01999                 {
<a name="l02000"></a>02000                         ret_val= FALSE;
<a name="l02001"></a>02001                         <span class="keywordflow">goto</span> exit_point;
<a name="l02002"></a>02002                 }
<a name="l02003"></a>02003 
<a name="l02004"></a>02004                 <span class="comment">// Set channel trigger</span>
<a name="l02005"></a>02005                 ch_msk= 0xff;
<a name="l02006"></a>02006                 <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8c.html#a429debc366e7b60dc2a856a6e7a0a6f3" title="Sets channels&amp;#39; trigger parameters.">cvt_V1724_set_channel_trigger</a>( p_data, ch_msk, 0x8000, 100))
<a name="l02007"></a>02007                 {
<a name="l02008"></a>02008                         ret_val= FALSE;
<a name="l02009"></a>02009                         <span class="keywordflow">goto</span> exit_point;
<a name="l02010"></a>02010                 }
<a name="l02011"></a>02011 
<a name="l02012"></a>02012                 <span class="comment">// Set trigger mode</span>
<a name="l02013"></a>02013                 <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8c.html#a9c33c1c932ce595752a9d0dcddd0ac81" title="Setups the triggering parameters.">cvt_V1724_set_trigger_mode</a>( p_data, FALSE, FALSE, TRUE, 0x00, FALSE, 10))
<a name="l02014"></a>02014                 {
<a name="l02015"></a>02015                         ret_val= FALSE;
<a name="l02016"></a>02016                         <span class="keywordflow">goto</span> exit_point;
<a name="l02017"></a>02017                 }
<a name="l02018"></a>02018 
<a name="l02019"></a>02019                 <span class="comment">// Set VME read out mode</span>
<a name="l02020"></a>02020                 <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8c.html#aa7352ccd80eaefe0e27cdd04ca6f02a3" title="Setups data readout mode parameters.">cvt_V1724_set_readout_mode</a>( p_data, TRUE, 1))
<a name="l02021"></a>02021                 {
<a name="l02022"></a>02022                         ret_val= FALSE;
<a name="l02023"></a>02023                         <span class="keywordflow">goto</span> exit_point;
<a name="l02024"></a>02024                 }
<a name="l02025"></a>02025 
<a name="l02026"></a>02026                 <span class="comment">// For each odd channel set DAC value to get a medium ADC value close to mid scale value</span>
<a name="l02027"></a>02027                 <span class="comment">// !!! WARNING !!! Odd channel&#39;s input signal must be disconnected</span>
<a name="l02028"></a>02028 
<a name="l02029"></a>02029                 ch_msk= 0xaa;
<a name="l02030"></a>02030                 <span class="comment">// Start acquisition mode</span>
<a name="l02031"></a>02031                 <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8c.html#a8b77c6274c94a42590c2479d3cac4aa9" title="Starts the acquisition for the spcified channel mask.">cvt_V1724_start_acquisition</a>( p_data, ch_msk))
<a name="l02032"></a>02032                 {
<a name="l02033"></a>02033                         ret_val= FALSE;
<a name="l02034"></a>02034                         <span class="keywordflow">goto</span> exit_point;
<a name="l02035"></a>02035                 }
<a name="l02036"></a>02036                 running= TRUE;
<a name="l02037"></a>02037 
<a name="l02038"></a>02038                 <span class="comment">// Send data clear</span>
<a name="l02039"></a>02039                 <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8c.html#a162f2c241a1c0e31b7d1a77fc5ee2b2b" title="Performs a data clear.">cvt_V1724_data_clear</a>( p_data))
<a name="l02040"></a>02040                 {
<a name="l02041"></a>02041                         ret_val= FALSE;
<a name="l02042"></a>02042                         <span class="keywordflow">goto</span> exit_point;
<a name="l02043"></a>02043                 }
<a name="l02044"></a>02044                 <span class="keywordflow">while</span>(( ch_ok_msk!= ch_msk)&amp;&amp; --max_dac_steps)
<a name="l02045"></a>02045                 {
<a name="l02046"></a>02046 
<a name="l02047"></a>02047                         <span class="comment">// Wait a while to have data buffer surely filled</span>
<a name="l02048"></a>02048                         <a class="code" href="cvt__board__commons_8c.html#acc93e4c7308ee91fb228f1eccd751fc9" title="Waits for specified time.">cvt_delay</a>( 10);
<a name="l02049"></a>02049 
<a name="l02050"></a>02050                         <span class="comment">// Send software trigger</span>
<a name="l02051"></a>02051                         <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8c.html#ae8600c1bbb0ae4bd33d831e51d587902" title="Performs a software trigger.">cvt_V1724_software_trigger</a>( p_data))
<a name="l02052"></a>02052                         {
<a name="l02053"></a>02053                                 ret_val= FALSE;
<a name="l02054"></a>02054                                 <span class="keywordflow">goto</span> exit_point;
<a name="l02055"></a>02055                         }
<a name="l02056"></a>02056 
<a name="l02057"></a>02057                         <span class="comment">// Get events : Just one for board will be enough</span>
<a name="l02058"></a>02058                         samples_read= num_events= 0;
<a name="l02059"></a>02059                         <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8c.html#afe6024ed734c5d778d1a7d5019deebf0" title="Reads data from the board&amp;#39;s channels and stores to user buffer.">cvt_V1724_read_data</a>( p_data, &amp;samples_read, &amp;num_events))
<a name="l02060"></a>02060                         {
<a name="l02061"></a>02061                                 ret_val= FALSE;
<a name="l02062"></a>02062                                 <span class="keywordflow">goto</span> exit_point;
<a name="l02063"></a>02063                         }
<a name="l02064"></a>02064 
<a name="l02065"></a>02065                         <span class="keywordflow">if</span>( !(num_events&amp;&amp; samples_read))
<a name="l02066"></a>02066                                 <span class="keywordflow">continue</span>;
<a name="l02067"></a>02067 
<a name="l02068"></a>02068                         <span class="comment">// Get samples</span>
<a name="l02069"></a>02069                         <span class="keywordflow">for</span>( i= 0; i&lt; CVT_V1724_MAX_CHANNEL; i++)
<a name="l02070"></a>02070                         {
<a name="l02071"></a>02071                                 <span class="keywordtype">double</span> mean= 0;
<a name="l02072"></a>02072                                 <span class="keywordtype">int</span> new_dac_value= 0;
<a name="l02073"></a>02073                                 <span class="keywordflow">if</span>( !( ch_msk&amp; ( 1&lt;&lt; i)))
<a name="l02074"></a>02074                                         <span class="keywordflow">continue</span>;
<a name="l02075"></a>02075                                 buff_size= DEF_BUFF_SIZE;
<a name="l02076"></a>02076                                 <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8c.html#a818559842a9d90273a92f153f3dbc40f" title="Reads data cache from previous cvt_V1724_read_data data call.">cvt_V1724_get_buffer_cache</a>( p_data, 0, i, p_buff, &amp;buff_size, &amp;reg_value8, &amp;reg_value, &amp;reg_value))
<a name="l02077"></a>02077                                 {
<a name="l02078"></a>02078                                         ret_val= FALSE;
<a name="l02079"></a>02079                                         <span class="keywordflow">goto</span> exit_point;
<a name="l02080"></a>02080                                 }
<a name="l02081"></a>02081                                 <span class="keywordflow">if</span>( !buff_size)
<a name="l02082"></a>02082                                         <span class="keywordflow">continue</span>;
<a name="l02083"></a>02083                                 reg_value= buff_size;
<a name="l02084"></a>02084                                 <span class="keywordflow">while</span>( (<span class="keywordtype">int</span>)(--buff_size)&gt;= 0)
<a name="l02085"></a>02085                                 {
<a name="l02086"></a>02086                                         mean+= (double)p_buff[ buff_size];
<a name="l02087"></a>02087                                 }
<a name="l02088"></a>02088                                 mean= (double)mean/(<span class="keywordtype">double</span>)reg_value;
<a name="l02089"></a>02089 
<a name="l02090"></a>02090                                 <span class="keywordflow">if</span>( ( mean&gt;= mid_scale_value- mid_scale_tolerance)&amp;&amp;
<a name="l02091"></a>02091                                         ( mean&lt;= mid_scale_value+ mid_scale_tolerance))
<a name="l02092"></a>02092                                 {
<a name="l02093"></a>02093                                         <span class="comment">// Done</span>
<a name="l02094"></a>02094                                         ch_ok_msk|= 1&lt;&lt; i;
<a name="l02095"></a>02095                                 }
<a name="l02096"></a>02096                                 <span class="keywordflow">else</span>
<a name="l02097"></a>02097                                 {
<a name="l02098"></a>02098                                         new_dac_value= dac_value[ i]+ (( mean&lt; mid_scale_value)? -dac_delta: dac_delta);
<a name="l02099"></a>02099                                         <span class="keywordflow">if</span>( ( new_dac_value&lt; 0xffff)&amp;&amp;
<a name="l02100"></a>02100                                                 ( new_dac_value&gt; 0))
<a name="l02101"></a>02101                                         {
<a name="l02102"></a>02102                                                 dac_value[ i]= ( <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a>)new_dac_value;
<a name="l02103"></a>02103                                                 <span class="comment">// Update value</span>
<a name="l02104"></a>02104                                                 <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8c.html#ab871c50cae63a64a7c8c258280d33c70" title="Sets channels&amp;#39; offset.">cvt_V1724_set_channel_offset</a>( p_data, (1&lt;&lt; i), dac_value[ i]))
<a name="l02105"></a>02105                                                 {
<a name="l02106"></a>02106                                                         ret_val= FALSE;
<a name="l02107"></a>02107                                                         <span class="keywordflow">goto</span> exit_point;
<a name="l02108"></a>02108                                                 }
<a name="l02109"></a>02109                                         }
<a name="l02110"></a>02110                                 }
<a name="l02111"></a>02111                         }
<a name="l02112"></a>02112                         <span class="comment">// Wait DAC settling time</span>
<a name="l02113"></a>02113                         <a class="code" href="cvt__board__commons_8c.html#acc93e4c7308ee91fb228f1eccd751fc9" title="Waits for specified time.">cvt_delay</a>( 50);
<a name="l02114"></a>02114                 }
<a name="l02115"></a>02115                 <span class="keywordflow">if</span>( ch_ok_msk!= ch_msk)
<a name="l02116"></a>02116                 {
<a name="l02117"></a>02117                         TRACE( <span class="stringliteral">&quot;V1724 cvt_V1724_set_des_mode procedure failed !\n&quot;</span>);
<a name="l02118"></a>02118                         ret_val= FALSE;
<a name="l02119"></a>02119                         <span class="keywordflow">goto</span> exit_point;
<a name="l02120"></a>02120                 }
<a name="l02121"></a>02121 exit_point:
<a name="l02122"></a>02122                 <span class="keywordflow">if</span>( running)
<a name="l02123"></a>02123                 {
<a name="l02124"></a>02124                         <span class="comment">//</span>
<a name="l02125"></a>02125                         <span class="comment">// Stop acquisition</span>
<a name="l02126"></a>02126                         <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8c.html#a0005970037d5578875882d49957612ab" title="Stops the acquisition.">cvt_V1724_stop_acquisition</a>( p_data))
<a name="l02127"></a>02127                         {
<a name="l02128"></a>02128                                 ret_val= FALSE;
<a name="l02129"></a>02129                                 <span class="keywordflow">goto</span> exit_point;
<a name="l02130"></a>02130                         }
<a name="l02131"></a>02131                         <span class="keywordflow">if</span>( ret_val)
<a name="l02132"></a>02132                         {
<a name="l02133"></a>02133                                 <span class="comment">// Set des mode bit </span>
<a name="l02134"></a>02134                                 reg_value= <a class="code" href="cvt___v1724_8h.html#a4bed56eb1100c050246b0f04ea56cacca26c64d69f295985f2b046210158583e6">CVT_V1724_BROAD_CHCTRL_DES_MODE_MSK</a>;
<a name="l02135"></a>02135                                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a4d111abbc6d427f98b68033f9f096207" title="Set control channel broadcast register index.">CVT_V1724_BROAD_CH_SET_CTRL_INDEX</a>, &amp;reg_value))
<a name="l02136"></a>02136                                 {
<a name="l02137"></a>02137                                         TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_BROAD_CH_SET_CTRL write failed !\n&quot;</span>);
<a name="l02138"></a>02138                                         ret_val= FALSE;
<a name="l02139"></a>02139                                         <span class="keywordflow">goto</span> exit_point;
<a name="l02140"></a>02140                                 }
<a name="l02141"></a>02141                                 p_data-&gt;<a class="code" href="structcvt___v1724__data.html#aa8bd4239675bd77e984c95ca8030d72f">m_is_des_mode</a>= TRUE;
<a name="l02142"></a>02142                         }
<a name="l02143"></a>02143                 }
<a name="l02144"></a>02144 
<a name="l02145"></a>02145                 <span class="keywordflow">if</span>( p_buff)
<a name="l02146"></a>02146                         free( p_buff);
<a name="l02147"></a>02147                 <span class="keywordflow">if</span>( !ret_val)
<a name="l02148"></a>02148                         <span class="keywordflow">return</span> FALSE;
<a name="l02149"></a>02149         }
<a name="l02150"></a>02150         <span class="keywordflow">else</span>
<a name="l02151"></a>02151         {
<a name="l02152"></a>02152                 <span class="comment">// </span>
<a name="l02153"></a>02153                 <span class="comment">// Switch back from des mode</span>
<a name="l02154"></a>02154 
<a name="l02155"></a>02155                 <span class="comment">// Reset des mode bit </span>
<a name="l02156"></a>02156                 reg_value= <a class="code" href="cvt___v1724_8h.html#a4bed56eb1100c050246b0f04ea56cacca26c64d69f295985f2b046210158583e6">CVT_V1724_BROAD_CHCTRL_DES_MODE_MSK</a>;
<a name="l02157"></a>02157                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a42f06a96619ff8534517c8356527725c" title="Clear control channel broadcast register index.">CVT_V1724_BROAD_CH_CLEAR_CTRL_INDEX</a>, &amp;reg_value))
<a name="l02158"></a>02158                 {
<a name="l02159"></a>02159                         TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_BROAD_CH_CLEAR_CTRL write failed !\n&quot;</span>);
<a name="l02160"></a>02160                         <span class="keywordflow">return</span> FALSE;
<a name="l02161"></a>02161                 }
<a name="l02162"></a>02162                 p_data-&gt;<a class="code" href="structcvt___v1724__data.html#aa8bd4239675bd77e984c95ca8030d72f">m_is_des_mode</a>= FALSE;
<a name="l02163"></a>02163         }
<a name="l02164"></a>02164         <span class="keywordflow">return</span> TRUE;
<a name="l02165"></a>02165 }
<a name="l02166"></a>02166 
<a name="l02168"></a>02168 <span class="comment">//</span>
<a name="l02170"></a><a class="code" href="cvt___v1724_8h.html#ab2cae4db088ae95cb3abe4adf6315cb6">02170</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a1473029516cf01f72ec4cbec9f2fead3" title="Setups interrupt parameters.">cvt_V1724_set_interrupt</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> level, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> status_id, <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> event_number)
<a name="l02171"></a>02171 {
<a name="l02172"></a>02172         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value;
<a name="l02173"></a>02173         <span class="comment">//</span>
<a name="l02174"></a>02174         <span class="comment">// interrupt level</span>
<a name="l02175"></a>02175         reg_value= level&amp; 0x07;
<a name="l02176"></a>02176         <span class="keywordflow">if</span>( level!= reg_value)
<a name="l02177"></a>02177         {
<a name="l02178"></a>02178                 TRACE( <span class="stringliteral">&quot;V1724 bad interrupt level !\n&quot;</span>);
<a name="l02179"></a>02179                 <span class="keywordflow">return</span> FALSE;
<a name="l02180"></a>02180         }
<a name="l02181"></a>02181         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aa41ebebb438e8edc56236080add8d213" title="VME Control register index.">CVT_V1724_VME_CONTROL_INDEX</a>, &amp;reg_value))
<a name="l02182"></a>02182         {
<a name="l02183"></a>02183                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_VME_CONTROL read failed !\n&quot;</span>);
<a name="l02184"></a>02184                 <span class="keywordflow">return</span> FALSE;
<a name="l02185"></a>02185         }
<a name="l02186"></a>02186         <a class="code" href="cvt___v1724_8h.html#afe3d7a292c52babb4bc88324999deaae" title="Sets the interrupt level value into UINT32 value.">CVT_V1724_SET_INT_LEVEL</a>( reg_value, level);
<a name="l02187"></a>02187         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aa41ebebb438e8edc56236080add8d213" title="VME Control register index.">CVT_V1724_VME_CONTROL_INDEX</a>, &amp;reg_value))
<a name="l02188"></a>02188         {
<a name="l02189"></a>02189                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_VME_CONTROL write failed !\n&quot;</span>);
<a name="l02190"></a>02190                 <span class="keywordflow">return</span> FALSE;
<a name="l02191"></a>02191         }
<a name="l02192"></a>02192 
<a name="l02193"></a>02193         <span class="comment">//</span>
<a name="l02194"></a>02194         <span class="comment">// event number</span>
<a name="l02195"></a>02195         reg_value= event_number&amp; 0x03ff;
<a name="l02196"></a>02196         <span class="keywordflow">if</span>( event_number!= reg_value)
<a name="l02197"></a>02197         {
<a name="l02198"></a>02198                 TRACE( <span class="stringliteral">&quot;V1724 bad event number !\n&quot;</span>);
<a name="l02199"></a>02199                 <span class="keywordflow">return</span> FALSE;
<a name="l02200"></a>02200         }
<a name="l02201"></a>02201         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ab9cd0032b78d70b4d57d7085499918e3" title="Interrupt event number register index.">CVT_V1724_INT_EVENT_NUM_INDEX</a>, &amp;reg_value))
<a name="l02202"></a>02202         {
<a name="l02203"></a>02203                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_INT_EVENT_NUM write failed !\n&quot;</span>);
<a name="l02204"></a>02204                 <span class="keywordflow">return</span> FALSE;
<a name="l02205"></a>02205         }
<a name="l02206"></a>02206         <span class="comment">//</span>
<a name="l02207"></a>02207         <span class="comment">// interrupt status id (vector)</span>
<a name="l02208"></a>02208         reg_value= status_id;
<a name="l02209"></a>02209         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aae1aa8fb826198c1e257590e8391b2c9" title="Interrupt status id register index.">CVT_V1724_INT_STATUS_ID_INDEX</a>, &amp;reg_value))
<a name="l02210"></a>02210         {
<a name="l02211"></a>02211                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_INT_STATUS_ID write failed !\n&quot;</span>);
<a name="l02212"></a>02212                 <span class="keywordflow">return</span> FALSE;
<a name="l02213"></a>02213         }
<a name="l02214"></a>02214 
<a name="l02215"></a>02215         <span class="keywordflow">return</span> TRUE;
<a name="l02216"></a>02216 }
<a name="l02217"></a>02217 
<a name="l02219"></a>02219 <span class="comment">//</span>
<a name="l02221"></a><a class="code" href="cvt___v1724_8h.html#a4af39c11ac341d1d355d3486f42d1c61">02221</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#aa877e45574175da75d23c5639fcc3e52" title="Gets interrupt parameters.">cvt_V1724_get_interrupt</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> *p_level, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> *p_status_id, <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> *p_event_number)
<a name="l02222"></a>02222 {
<a name="l02223"></a>02223         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value32;
<a name="l02224"></a>02224         <span class="comment">//</span>
<a name="l02225"></a>02225         <span class="comment">// Get CVT_V1724_INT_LEVEL register value</span>
<a name="l02226"></a>02226         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aa41ebebb438e8edc56236080add8d213" title="VME Control register index.">CVT_V1724_VME_CONTROL_INDEX</a>, &amp;reg_value32))
<a name="l02227"></a>02227         {
<a name="l02228"></a>02228                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_VME_CONTROL read failed !\n&quot;</span>);
<a name="l02229"></a>02229                 <span class="keywordflow">return</span> FALSE;
<a name="l02230"></a>02230         }
<a name="l02231"></a>02231         <span class="comment">//</span>
<a name="l02232"></a>02232         <span class="comment">// interrupt level</span>
<a name="l02233"></a>02233         *p_level= <a class="code" href="cvt___v1724_8h.html#a2b406c34c9043716581ac0a390522c2e" title="Extract the interrupt level from UINT32 value.">CVT_V1724_GET_INT_LEVEL</a>( reg_value32);
<a name="l02234"></a>02234 
<a name="l02235"></a>02235         <span class="comment">//</span>
<a name="l02236"></a>02236         <span class="comment">// event number</span>
<a name="l02237"></a>02237         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ab9cd0032b78d70b4d57d7085499918e3" title="Interrupt event number register index.">CVT_V1724_INT_EVENT_NUM_INDEX</a>, &amp;reg_value32))
<a name="l02238"></a>02238         {
<a name="l02239"></a>02239                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_INT_EVENT_NUM read failed !\n&quot;</span>);
<a name="l02240"></a>02240                 <span class="keywordflow">return</span> FALSE;
<a name="l02241"></a>02241         }
<a name="l02242"></a>02242         *p_event_number= reg_value32&amp; 0x03ff;
<a name="l02243"></a>02243         
<a name="l02244"></a>02244         <span class="comment">//</span>
<a name="l02245"></a>02245         <span class="comment">// Get CVT_V1724_INT_STATUS_ID register value</span>
<a name="l02246"></a>02246         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aae1aa8fb826198c1e257590e8391b2c9" title="Interrupt status id register index.">CVT_V1724_INT_STATUS_ID_INDEX</a>, &amp;reg_value32))
<a name="l02247"></a>02247         {
<a name="l02248"></a>02248                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_INT_STATUS_ID read failed !\n&quot;</span>);
<a name="l02249"></a>02249                 <span class="keywordflow">return</span> FALSE;
<a name="l02250"></a>02250         }
<a name="l02251"></a>02251         <span class="comment">//</span>
<a name="l02252"></a>02252         <span class="comment">// interrupt status_id</span>
<a name="l02253"></a>02253         *p_status_id= ( <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a>)reg_value32;
<a name="l02254"></a>02254         
<a name="l02255"></a>02255         <span class="keywordflow">return</span> TRUE;
<a name="l02256"></a>02256 }
<a name="l02257"></a>02257 
<a name="l02259"></a>02259 <span class="comment">//</span>
<a name="l02261"></a><a class="code" href="cvt___v1724_8h.html#aaac39829c4840a7913a9c5335fbe2c8e">02261</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#aa7352ccd80eaefe0e27cdd04ca6f02a3" title="Setups data readout mode parameters.">cvt_V1724_set_readout_mode</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> enable_bus_error, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> BLT_event_number)
<a name="l02262"></a>02262 {
<a name="l02263"></a>02263         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> set_msk= 0;
<a name="l02264"></a>02264         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> clear_msk= 0;
<a name="l02265"></a>02265         
<a name="l02266"></a>02266         <span class="comment">//</span>
<a name="l02267"></a>02267         <span class="comment">// Bus error</span>
<a name="l02268"></a>02268         set_msk|= ( enable_bus_error)? <a class="code" href="cvt___v1724_8h.html#aab2c5a7ffecb437f9dd56ed04b446a5da712c2c141b81a47d3f271a90d66b8af1">CVT_V1724_VME_CTRL_BERR_ENABLE_MSK</a>: 0;
<a name="l02269"></a>02269         clear_msk|= ( enable_bus_error)? 0: <a class="code" href="cvt___v1724_8h.html#aab2c5a7ffecb437f9dd56ed04b446a5da712c2c141b81a47d3f271a90d66b8af1">CVT_V1724_VME_CTRL_BERR_ENABLE_MSK</a>;
<a name="l02270"></a>02270         
<a name="l02271"></a>02271         <span class="comment">//</span>
<a name="l02272"></a>02272         <span class="comment">// bitmask set</span>
<a name="l02273"></a>02273         <span class="keywordflow">if</span>( set_msk)
<a name="l02274"></a>02274         {
<a name="l02275"></a>02275                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a94f81046e1e14a9abb94b8a7e064ca12" title="Sets bitmask onto VME board register.">cvt_set_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aa41ebebb438e8edc56236080add8d213" title="VME Control register index.">CVT_V1724_VME_CONTROL_INDEX</a>, &amp;set_msk))
<a name="l02276"></a>02276                 {
<a name="l02277"></a>02277                         TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_VME_CONTROL write failed !\n&quot;</span>);
<a name="l02278"></a>02278                         <span class="keywordflow">return</span> FALSE;
<a name="l02279"></a>02279                 }
<a name="l02280"></a>02280         }
<a name="l02281"></a>02281         <span class="comment">//</span>
<a name="l02282"></a>02282         <span class="comment">// bitmask clear</span>
<a name="l02283"></a>02283         <span class="keywordflow">if</span>( clear_msk)
<a name="l02284"></a>02284         {
<a name="l02285"></a>02285                 <span class="comment">// clear the enable bit</span>
<a name="l02286"></a>02286                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a2a3b2972e32f546016b8c4a1fb3b8b0e" title="Clears bitmask onto VME board register.">cvt_clear_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aa41ebebb438e8edc56236080add8d213" title="VME Control register index.">CVT_V1724_VME_CONTROL_INDEX</a>, &amp;clear_msk))
<a name="l02287"></a>02287                 {
<a name="l02288"></a>02288                         TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_CONTROL write failed !\n&quot;</span>);
<a name="l02289"></a>02289                         <span class="keywordflow">return</span> FALSE;
<a name="l02290"></a>02290                 }
<a name="l02291"></a>02291         }
<a name="l02292"></a>02292 
<a name="l02293"></a>02293         <span class="comment">// </span>
<a name="l02294"></a>02294         <span class="comment">// BLT event number</span>
<a name="l02295"></a>02295         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a3df06cff8245f02feb7c794b13967648" title="BLT event number register index.">CVT_V1724_BLT_EVENT_NUM_INDEX</a>, &amp;BLT_event_number))
<a name="l02296"></a>02296         {
<a name="l02297"></a>02297                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_BLT_EVENT_NUM write failed !\n&quot;</span>);
<a name="l02298"></a>02298                 <span class="keywordflow">return</span> FALSE;
<a name="l02299"></a>02299         }
<a name="l02300"></a>02300 
<a name="l02301"></a>02301         <span class="keywordflow">return</span> TRUE;
<a name="l02302"></a>02302 }
<a name="l02303"></a>02303 
<a name="l02305"></a>02305 <span class="comment">//</span>
<a name="l02307"></a><a class="code" href="cvt___v1724_8h.html#a259caea107540165bb07be4d314e94a9">02307</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a6efa1aca2cef10e596105075dbd734f9" title="Gets data readout mode parameters.">cvt_V1724_get_readout_mode</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_enable_bus_error, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> *p_BLT_event_number)
<a name="l02308"></a>02308 {
<a name="l02309"></a>02309         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value32= 0;
<a name="l02310"></a>02310 
<a name="l02311"></a>02311         <span class="comment">//</span>
<a name="l02312"></a>02312         <span class="comment">// Gets the CVT_V1724_CONTROL parameter </span>
<a name="l02313"></a>02313         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aa41ebebb438e8edc56236080add8d213" title="VME Control register index.">CVT_V1724_VME_CONTROL_INDEX</a>, &amp;reg_value32))
<a name="l02314"></a>02314         {
<a name="l02315"></a>02315                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_VME_CONTROL read failed !\n&quot;</span>);
<a name="l02316"></a>02316                 <span class="keywordflow">return</span> FALSE;
<a name="l02317"></a>02317         }
<a name="l02318"></a>02318         <span class="comment">//</span>
<a name="l02319"></a>02319         <span class="comment">// Bus error</span>
<a name="l02320"></a>02320         *p_enable_bus_error= ( reg_value32&amp;  <a class="code" href="cvt___v1724_8h.html#aab2c5a7ffecb437f9dd56ed04b446a5da712c2c141b81a47d3f271a90d66b8af1">CVT_V1724_VME_CTRL_BERR_ENABLE_MSK</a>)? TRUE: FALSE;
<a name="l02321"></a>02321 
<a name="l02322"></a>02322         <span class="comment">// </span>
<a name="l02323"></a>02323         <span class="comment">// Get BLT event number</span>
<a name="l02324"></a>02324         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a3df06cff8245f02feb7c794b13967648" title="BLT event number register index.">CVT_V1724_BLT_EVENT_NUM_INDEX</a>, p_BLT_event_number))
<a name="l02325"></a>02325         {
<a name="l02326"></a>02326                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_BLT_EVENT_NUM read failed !\n&quot;</span>);
<a name="l02327"></a>02327                 <span class="keywordflow">return</span> FALSE;
<a name="l02328"></a>02328         }
<a name="l02329"></a>02329 
<a name="l02330"></a>02330         <span class="keywordflow">return</span> TRUE;
<a name="l02331"></a>02331 }
<a name="l02332"></a>02332 
<a name="l02334"></a>02334 <span class="comment">// </span>
<a name="l02336"></a><a class="code" href="cvt___v1724_8h.html#af14bd5f0426a5a880e046e1bd26b914b">02336</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a15287b37fb4f9126a831b29091798500" title="Performs a software reset.">cvt_V1724_software_reset</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data)
<a name="l02337"></a>02337 {
<a name="l02338"></a>02338         <span class="comment">//</span>
<a name="l02339"></a>02339         <span class="comment">// Write CVT_V1724_SW_RESET register</span>
<a name="l02340"></a>02340         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value= 0;
<a name="l02341"></a>02341         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ac356b707351aac53ab12bee51e3ce34a" title="Software reset register index.">CVT_V1724_SW_RESET_INDEX</a>, &amp;reg_value))
<a name="l02342"></a>02342         {
<a name="l02343"></a>02343                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_SW_RESET write failed !\n&quot;</span>);
<a name="l02344"></a>02344                 <span class="keywordflow">return</span> FALSE;
<a name="l02345"></a>02345         }
<a name="l02346"></a>02346         <span class="keywordflow">return</span> TRUE;
<a name="l02347"></a>02347 }
<a name="l02348"></a>02348 
<a name="l02350"></a>02350 <span class="comment">//</span>
<a name="l02352"></a><a class="code" href="cvt___v1724_8h.html#a75431fb008640652e53d7c1f05d9478c">02352</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a162f2c241a1c0e31b7d1a77fc5ee2b2b" title="Performs a data clear.">cvt_V1724_data_clear</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data)
<a name="l02353"></a>02353 {
<a name="l02354"></a>02354         <span class="comment">//</span>
<a name="l02355"></a>02355         <span class="comment">// Write CVT_V1724_SW_RESET register</span>
<a name="l02356"></a>02356         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value= 0;
<a name="l02357"></a>02357         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a60590e147067f58dcf8289f13ab6cac5" title="Software clear register index.">CVT_V1724_SW_CLEAR_INDEX</a>, &amp;reg_value))
<a name="l02358"></a>02358         {
<a name="l02359"></a>02359                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_CLEAR_RESET write failed !\n&quot;</span>);
<a name="l02360"></a>02360                 <span class="keywordflow">return</span> FALSE;
<a name="l02361"></a>02361         }
<a name="l02362"></a>02362         <span class="keywordflow">return</span> TRUE;
<a name="l02363"></a>02363 }
<a name="l02364"></a>02364 
<a name="l02366"></a>02366 <span class="comment">//</span>
<a name="l02368"></a><a class="code" href="cvt___v1724_8h.html#a123ee4751497d29e74bb1779782cd02c">02368</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#ab871c50cae63a64a7c8c258280d33c70" title="Sets channels&amp;#39; offset.">cvt_V1724_set_channel_offset</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ch_msk, <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> offset_value)
<a name="l02369"></a>02369 {
<a name="l02370"></a>02370         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> CH_DAC_CONF[ <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>]=
<a name="l02371"></a>02371         {
<a name="l02372"></a>02372                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ab6c6f2a75bd6c5b1c17f3185b804ae5d" title="CH 0 DAC Data Configuration register index.">CVT_V1724_CH0_DAC_CONF_INDEX</a>,           
<a name="l02373"></a>02373                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a5e6694db01acab9ae106b91cb1938536" title="CH 1 DAC Data Configuration register index.">CVT_V1724_CH1_DAC_CONF_INDEX</a>,           
<a name="l02374"></a>02374                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a8440f7ab3d967046dbc57fc232b55e75" title="CH 2 DAC Data Configuration register index.">CVT_V1724_CH2_DAC_CONF_INDEX</a>,           
<a name="l02375"></a>02375                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a5b5fe482c851d6f683cdba368479c585" title="CH 3 DAC Data Configuration register index.">CVT_V1724_CH3_DAC_CONF_INDEX</a>,           
<a name="l02376"></a>02376                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a50c02648016933825e87c29086138b38" title="CH 4 DAC Data Configuration register index.">CVT_V1724_CH4_DAC_CONF_INDEX</a>,           
<a name="l02377"></a>02377                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a9e2910d82e8ec44014bdcbcd2f7e9375" title="CH 5 DAC Data Configuration register index.">CVT_V1724_CH5_DAC_CONF_INDEX</a>,           
<a name="l02378"></a>02378                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87abf877d9c74fe96bb06505f91c6b978f4" title="CH 6 DAC Data Configuration register index.">CVT_V1724_CH6_DAC_CONF_INDEX</a>,           
<a name="l02379"></a>02379                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a614d98ee1db12bd5031732ea7c4db3df" title="CH 7 DAC Data Configuration register index.">CVT_V1724_CH7_DAC_CONF_INDEX</a>,           
<a name="l02380"></a>02380         };
<a name="l02381"></a>02381         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value_A= 0, reg_value_B= 0;
<a name="l02382"></a>02382         <span class="comment">//</span>
<a name="l02383"></a>02383         <span class="comment">// Channel offset</span>
<a name="l02384"></a>02384 
<a name="l02385"></a>02385         <span class="comment">//</span>
<a name="l02386"></a>02386         <span class="comment">// Data for DAC A ( even channels)</span>
<a name="l02387"></a>02387         <a class="code" href="cvt___v1724_8h.html#a246a0abfc049d1f6fdf2dc418ee9f01c" title="Sets DAC&amp;#39;s data into UINT32 value.">CVT_V1724_SET_CH_DAC_CONF</a>( reg_value_A, offset_value);
<a name="l02388"></a>02388         reg_value_A|= <a class="code" href="cvt___v1724_8h.html#aa8c19afbb956423407aa0c4b98b71315a5c0f1b35e6544032abb8f72e7db4fdda">CVT_V1724_CHDAC_SET_A_MSK</a>;
<a name="l02389"></a>02389         <span class="comment">//</span>
<a name="l02390"></a>02390         <span class="comment">// Data for DAC B ( odd channels)</span>
<a name="l02391"></a>02391         <a class="code" href="cvt___v1724_8h.html#a246a0abfc049d1f6fdf2dc418ee9f01c" title="Sets DAC&amp;#39;s data into UINT32 value.">CVT_V1724_SET_CH_DAC_CONF</a>( reg_value_B, offset_value);
<a name="l02392"></a>02392         reg_value_B|= <a class="code" href="cvt___v1724_8h.html#aa8c19afbb956423407aa0c4b98b71315a9ef2b4abf5323a229e52b888147c75a8">CVT_V1724_CHDAC_SET_B_MSK</a>;
<a name="l02393"></a>02393 
<a name="l02394"></a>02394 
<a name="l02395"></a>02395         <span class="comment">//if( p_data-&gt;m_type== CVT_V1740) {</span>
<a name="l02396"></a>02396         <span class="comment">//      // Grp. Grp. DAC</span>
<a name="l02397"></a>02397         <span class="comment">//      //  0    1    0</span>
<a name="l02398"></a>02398         <span class="comment">//      //  2    3    2</span>
<a name="l02399"></a>02399         <span class="comment">//      //  4    5    4</span>
<a name="l02400"></a>02400         <span class="comment">//      //  6    7    6</span>
<a name="l02401"></a>02401         <span class="comment">//      UINT8 tmp_msk= ch_msk;</span>
<a name="l02402"></a>02402         <span class="comment">//      ch_msk= 0;</span>
<a name="l02403"></a>02403         <span class="comment">//      ch_msk|= ( tmp_msk&amp; (0x03))? 0x01: 0x00;</span>
<a name="l02404"></a>02404         <span class="comment">//      ch_msk|= ( tmp_msk&amp; (0x0C))? 0x04: 0x00;</span>
<a name="l02405"></a>02405         <span class="comment">//      ch_msk|= ( tmp_msk&amp; (0x30))? 0x10: 0x00;</span>
<a name="l02406"></a>02406         <span class="comment">//      ch_msk|= ( tmp_msk&amp; (0xC0))? 0x40: 0x00;</span>
<a name="l02407"></a>02407         <span class="comment">//}</span>
<a name="l02408"></a>02408         <span class="comment">//</span>
<a name="l02409"></a>02409         <span class="comment">// setup each channel</span>
<a name="l02410"></a>02410         {
<a name="l02411"></a>02411                 <span class="keywordtype">int</span> i;
<a name="l02412"></a>02412                 <span class="keywordflow">for</span>( i= 0; (i&lt; CVT_V1724_MAX_CHANNEL )&amp;&amp; ch_msk; i++, ch_msk&gt;&gt;= 1)
<a name="l02413"></a>02413                 {
<a name="l02414"></a>02414                         <span class="keywordflow">if</span>( ch_msk&amp; 0x01)
<a name="l02415"></a>02415                         {
<a name="l02416"></a>02416                                 <span class="comment">//</span>
<a name="l02417"></a>02417                                 <span class="comment">// Wait for DAC !busy</span>
<a name="l02418"></a>02418                                 <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> trash;
<a name="l02419"></a>02419                                 <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> is_dac_busy= TRUE;
<a name="l02420"></a>02420                                 <span class="keywordflow">while</span>( is_dac_busy)
<a name="l02421"></a>02421                                 {
<a name="l02422"></a>02422                                         <span class="comment">// HACK insert timeout here</span>
<a name="l02423"></a>02423 
<a name="l02424"></a>02424                                         <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8c.html#a223f170d4a1af08c1e5a7919516f8e9c" title="Gets information about board status.">cvt_V1724_get_channel_status</a>( p_data, i, &amp;is_dac_busy, &amp;trash, &amp;trash, &amp;trash))
<a name="l02425"></a>02425                                         {
<a name="l02426"></a>02426                                                 TRACE( <span class="stringliteral">&quot;V1724 set channel offset failed !\n&quot;</span>);
<a name="l02427"></a>02427                                                 <span class="keywordflow">return</span> FALSE;
<a name="l02428"></a>02428                                         }
<a name="l02429"></a>02429                                 }
<a name="l02430"></a>02430                                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, CH_DAC_CONF[ i], ( i&amp; 0x01)? &amp;reg_value_B: &amp;reg_value_A))
<a name="l02431"></a>02431                                 {
<a name="l02432"></a>02432                                         TRACE( <span class="stringliteral">&quot;V1724 CH DAC CONF write failed !\n&quot;</span>);
<a name="l02433"></a>02433                                         <span class="keywordflow">return</span> FALSE;
<a name="l02434"></a>02434                                 }
<a name="l02435"></a>02435                         }
<a name="l02436"></a>02436                 }
<a name="l02437"></a>02437         }
<a name="l02438"></a>02438 
<a name="l02439"></a>02439         <span class="keywordflow">return</span> TRUE;
<a name="l02440"></a>02440 }
<a name="l02442"></a>02442 <span class="comment">//</span>
<a name="l02444"></a><a class="code" href="cvt___v1724_8h.html#a90b3c598135308fafc9a7ae68e6b4fe7">02444</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a4b11986cf06901b036f48d7644ce46e5" title="Sets specified channel&amp;#39; offset.">cvt_V1724_get_channel_offset</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ch_index, <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> *p_offset_value)
<a name="l02445"></a>02445 {
<a name="l02446"></a>02446         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> CH_DAC_CONF[ <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>]=
<a name="l02447"></a>02447         {
<a name="l02448"></a>02448                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ab6c6f2a75bd6c5b1c17f3185b804ae5d" title="CH 0 DAC Data Configuration register index.">CVT_V1724_CH0_DAC_CONF_INDEX</a>,           
<a name="l02449"></a>02449                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a5e6694db01acab9ae106b91cb1938536" title="CH 1 DAC Data Configuration register index.">CVT_V1724_CH1_DAC_CONF_INDEX</a>,           
<a name="l02450"></a>02450                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a8440f7ab3d967046dbc57fc232b55e75" title="CH 2 DAC Data Configuration register index.">CVT_V1724_CH2_DAC_CONF_INDEX</a>,           
<a name="l02451"></a>02451                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a5b5fe482c851d6f683cdba368479c585" title="CH 3 DAC Data Configuration register index.">CVT_V1724_CH3_DAC_CONF_INDEX</a>,           
<a name="l02452"></a>02452                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a50c02648016933825e87c29086138b38" title="CH 4 DAC Data Configuration register index.">CVT_V1724_CH4_DAC_CONF_INDEX</a>,           
<a name="l02453"></a>02453                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a9e2910d82e8ec44014bdcbcd2f7e9375" title="CH 5 DAC Data Configuration register index.">CVT_V1724_CH5_DAC_CONF_INDEX</a>,           
<a name="l02454"></a>02454                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87abf877d9c74fe96bb06505f91c6b978f4" title="CH 6 DAC Data Configuration register index.">CVT_V1724_CH6_DAC_CONF_INDEX</a>,           
<a name="l02455"></a>02455                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a614d98ee1db12bd5031732ea7c4db3df" title="CH 7 DAC Data Configuration register index.">CVT_V1724_CH7_DAC_CONF_INDEX</a>,           
<a name="l02456"></a>02456         };
<a name="l02457"></a>02457         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value32= 0;
<a name="l02458"></a>02458         <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> trash;
<a name="l02459"></a>02459         <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> is_dac_busy= TRUE;
<a name="l02460"></a>02460 
<a name="l02461"></a>02461         <span class="comment">//</span>
<a name="l02462"></a>02462         <span class="comment">// input param check</span>
<a name="l02463"></a>02463         <span class="keywordflow">if</span>( ch_index&gt;= <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>)
<a name="l02464"></a>02464         {
<a name="l02465"></a>02465                 TRACE1( <span class="stringliteral">&quot;V1724 cvt_V1724_get_channel_offset bad channel &#39;%d&#39;!\n&quot;</span>, ch_index);
<a name="l02466"></a>02466                 <span class="keywordflow">return</span> FALSE;
<a name="l02467"></a>02467         }
<a name="l02468"></a>02468 
<a name="l02469"></a>02469 
<a name="l02470"></a>02470         <span class="comment">//if( p_data-&gt;m_type== CVT_V1740) {</span>
<a name="l02471"></a>02471         <span class="comment">//      // Grp. Grp. DAC</span>
<a name="l02472"></a>02472         <span class="comment">//      //  0    1    0</span>
<a name="l02473"></a>02473         <span class="comment">//      //  2    3    2</span>
<a name="l02474"></a>02474         <span class="comment">//      //  4    5    4</span>
<a name="l02475"></a>02475         <span class="comment">//      //  6    7    6</span>
<a name="l02476"></a>02476         <span class="comment">//      ch_index&amp;= ~0x01;</span>
<a name="l02477"></a>02477         <span class="comment">//}</span>
<a name="l02478"></a>02478 
<a name="l02479"></a>02479         <span class="comment">//</span>
<a name="l02480"></a>02480         <span class="comment">// Wait for DAC !busy</span>
<a name="l02481"></a>02481         <span class="keywordflow">while</span>( is_dac_busy)
<a name="l02482"></a>02482         {
<a name="l02483"></a>02483                 <span class="comment">// HACK insert timeout here</span>
<a name="l02484"></a>02484                 <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8c.html#a223f170d4a1af08c1e5a7919516f8e9c" title="Gets information about board status.">cvt_V1724_get_channel_status</a>( p_data, ch_index, &amp;is_dac_busy, &amp;trash, &amp;trash, &amp;trash))
<a name="l02485"></a>02485                 {
<a name="l02486"></a>02486                         TRACE( <span class="stringliteral">&quot;V1724 set channel offset failed !\n&quot;</span>);
<a name="l02487"></a>02487                         <span class="keywordflow">return</span> FALSE;
<a name="l02488"></a>02488                 }
<a name="l02489"></a>02489         }
<a name="l02490"></a>02490         <span class="comment">//</span>
<a name="l02491"></a>02491         <span class="comment">// Get CVT_V1724_CH#_DAC_CONF register value</span>
<a name="l02492"></a>02492         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, CH_DAC_CONF[ ch_index], &amp;reg_value32))
<a name="l02493"></a>02493         {
<a name="l02494"></a>02494                 TRACE( <span class="stringliteral">&quot;V1724 CH DAC CONF read failed !\n&quot;</span>);
<a name="l02495"></a>02495                 <span class="keywordflow">return</span> FALSE;
<a name="l02496"></a>02496         }
<a name="l02497"></a>02497         <span class="comment">//</span>
<a name="l02498"></a>02498         <span class="comment">// Channel offset</span>
<a name="l02499"></a>02499         *p_offset_value= <a class="code" href="cvt___v1724_8h.html#a489b4c75a7c3b6d365d6a431114b1738" title="Extract DAC&amp;#39;s data from UINT32 value.">CVT_V1724_GET_CH_DAC_CONF</a>( reg_value32);
<a name="l02500"></a>02500 
<a name="l02501"></a>02501         <span class="keywordflow">return</span> TRUE;
<a name="l02502"></a>02502 }
<a name="l02503"></a>02503 
<a name="l02504"></a>02504 
<a name="l02506"></a>02506 <span class="comment">//</span>
<a name="l02508"></a><a class="code" href="cvt___v1724_8h.html#ad8005fe3881704f160479193c8608017">02508</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a429debc366e7b60dc2a856a6e7a0a6f3" title="Sets channels&amp;#39; trigger parameters.">cvt_V1724_set_channel_trigger</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ch_msk, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> trigger_threshold, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> threshold_samples)
<a name="l02509"></a>02509 {
<a name="l02510"></a>02510         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> CH_TRG_THR[ <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>]=
<a name="l02511"></a>02511         {
<a name="l02512"></a>02512                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a1353235f41ba71a1222884ab7ac4b3e8" title="CH 0 Threshold register index.">CVT_V1724_CH0_THRESHOLD_INDEX</a>,                                  
<a name="l02513"></a>02513                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a5d0b30c4d145f2e0e8bb85343f11e980" title="CH 1 Threshold register index.">CVT_V1724_CH1_THRESHOLD_INDEX</a>,                                  
<a name="l02514"></a>02514                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aa5acdb6340871f3e6ef88dea008d5dc0" title="CH 2 Threshold register index.">CVT_V1724_CH2_THRESHOLD_INDEX</a>,                                  
<a name="l02515"></a>02515                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ab46cc366c731b47bbd14286c5fc26344" title="CH 3 Threshold register index.">CVT_V1724_CH3_THRESHOLD_INDEX</a>,                                  
<a name="l02516"></a>02516                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a4fe54736d54d9c41c43c93d52264a538" title="CH 4 Threshold register index.">CVT_V1724_CH4_THRESHOLD_INDEX</a>,                                  
<a name="l02517"></a>02517                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aeb499c787638ad1ec42e1f2510179f95" title="CH 5 Threshold register index.">CVT_V1724_CH5_THRESHOLD_INDEX</a>,                                  
<a name="l02518"></a>02518                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a4527b76fd46b8e0f5318dcdb916fc436" title="CH 6 Threshold register index.">CVT_V1724_CH6_THRESHOLD_INDEX</a>,                                  
<a name="l02519"></a>02519                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a0cb16e71772e665b0b08364489a0df26" title="CH 7 Threshold register index.">CVT_V1724_CH7_THRESHOLD_INDEX</a>,                                  
<a name="l02520"></a>02520         };
<a name="l02521"></a>02521 
<a name="l02522"></a>02522         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> CH_TRG_THR_SAMPLE[ <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>]=
<a name="l02523"></a>02523         {
<a name="l02524"></a>02524                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a16286e7643a2970ea321de4be8d38245" title="CH 0 Over/Under Threshold Samples register index.">CVT_V1724_CH0_TIME_OVER_UNDER_THR_INDEX</a>,                                
<a name="l02525"></a>02525                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aa72969593f90e9bbf1b1cea0d89f3b8f" title="CH 1 Over/Under Threshold Samples register index.">CVT_V1724_CH1_TIME_OVER_UNDER_THR_INDEX</a>,                                
<a name="l02526"></a>02526                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a208ef830b18d9bfbc0f7dc7ef326d614" title="CH 2 Over/Under Threshold Samples register index.">CVT_V1724_CH2_TIME_OVER_UNDER_THR_INDEX</a>,                                
<a name="l02527"></a>02527                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a0c744547862131f166962e36c316778c" title="CH 3 Over/Under Threshold Samples register index.">CVT_V1724_CH3_TIME_OVER_UNDER_THR_INDEX</a>,                                
<a name="l02528"></a>02528                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a276c4df00bae7fc19bf2f17248514c9e" title="CH 4 Over/Under Threshold Samples register index.">CVT_V1724_CH4_TIME_OVER_UNDER_THR_INDEX</a>,                                
<a name="l02529"></a>02529                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a7bf2c9e9b23e3956eebfbb90630abf1c" title="CH 5 Over/Under Threshold Samples register index.">CVT_V1724_CH5_TIME_OVER_UNDER_THR_INDEX</a>,                                
<a name="l02530"></a>02530                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a651128617892ec5d594991004f7a8c35" title="CH 6 Over/Under Threshold Samples register index.">CVT_V1724_CH6_TIME_OVER_UNDER_THR_INDEX</a>,                                
<a name="l02531"></a>02531                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87af7f0c08c939aa703309c1ec9fdf20264" title="CH 7 Over/Under Threshold Samples register index.">CVT_V1724_CH7_TIME_OVER_UNDER_THR_INDEX</a>,                                
<a name="l02532"></a>02532         };
<a name="l02533"></a>02533 
<a name="l02534"></a>02534         <span class="comment">//</span>
<a name="l02535"></a>02535         <span class="comment">// trigger threshold</span>
<a name="l02536"></a>02536         {
<a name="l02537"></a>02537                 <span class="keywordtype">int</span> i;
<a name="l02538"></a>02538                 <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> tmp_msk= ch_msk;
<a name="l02539"></a>02539                 <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value= trigger_threshold;
<a name="l02540"></a>02540                 <span class="keywordflow">for</span>( i= 0; (i&lt; CVT_V1724_MAX_CHANNEL )&amp;&amp; tmp_msk; i++, tmp_msk&gt;&gt;= 1)
<a name="l02541"></a>02541                 {
<a name="l02542"></a>02542                         <span class="keywordflow">if</span>( tmp_msk&amp; 0x01)
<a name="l02543"></a>02543                         {
<a name="l02544"></a>02544                                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, CH_TRG_THR[ i], &amp;reg_value))
<a name="l02545"></a>02545                                 {
<a name="l02546"></a>02546                                         TRACE( <span class="stringliteral">&quot;V1724 CH TRIGGER THRESHOLD write failed !\n&quot;</span>);
<a name="l02547"></a>02547                                         <span class="keywordflow">return</span> FALSE;
<a name="l02548"></a>02548                                 }
<a name="l02549"></a>02549                         }
<a name="l02550"></a>02550                 }
<a name="l02551"></a>02551         }
<a name="l02552"></a>02552 
<a name="l02553"></a>02553         <span class="comment">//</span>
<a name="l02554"></a>02554         <span class="comment">// trigger threshold samples</span>
<a name="l02555"></a>02555         {
<a name="l02556"></a>02556                 <span class="keywordtype">int</span> i;
<a name="l02557"></a>02557                 <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> tmp_msk= ch_msk;
<a name="l02558"></a>02558                 <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value= threshold_samples;
<a name="l02559"></a>02559                 <span class="keywordflow">for</span>( i= 0; (i&lt; CVT_V1724_MAX_CHANNEL)&amp;&amp; tmp_msk; i++, tmp_msk&gt;&gt;= 1)
<a name="l02560"></a>02560                 {
<a name="l02561"></a>02561                         <span class="keywordflow">if</span>( tmp_msk&amp; 0x01)
<a name="l02562"></a>02562                         {
<a name="l02563"></a>02563                                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, CH_TRG_THR_SAMPLE[ i], &amp;reg_value))
<a name="l02564"></a>02564                                 {
<a name="l02565"></a>02565                                         TRACE( <span class="stringliteral">&quot;V1724 CH TRIGGER THRESHOLD SAMPLES write failed !\n&quot;</span>);
<a name="l02566"></a>02566                                         <span class="keywordflow">return</span> FALSE;
<a name="l02567"></a>02567                                 }
<a name="l02568"></a>02568                         }
<a name="l02569"></a>02569                 }
<a name="l02570"></a>02570         }
<a name="l02571"></a>02571         <span class="keywordflow">return</span> TRUE;
<a name="l02572"></a>02572 }
<a name="l02574"></a>02574 <span class="comment">//</span>
<a name="l02576"></a><a class="code" href="cvt___v1724_8h.html#a9381775c164cb9127df389f58793fdd6">02576</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#acfc9698dd54e70198da7a1f651281918" title="Gets the specified channel&amp;#39; trigger parameters.">cvt_V1724_get_channel_trigger</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ch_index, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> *p_trigger_threshold, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> *p_threshold_samples)
<a name="l02577"></a>02577 {
<a name="l02578"></a>02578         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> CH_TRG_THR[ <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>]=
<a name="l02579"></a>02579         {
<a name="l02580"></a>02580                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a1353235f41ba71a1222884ab7ac4b3e8" title="CH 0 Threshold register index.">CVT_V1724_CH0_THRESHOLD_INDEX</a>,                                  
<a name="l02581"></a>02581                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a5d0b30c4d145f2e0e8bb85343f11e980" title="CH 1 Threshold register index.">CVT_V1724_CH1_THRESHOLD_INDEX</a>,                                  
<a name="l02582"></a>02582                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aa5acdb6340871f3e6ef88dea008d5dc0" title="CH 2 Threshold register index.">CVT_V1724_CH2_THRESHOLD_INDEX</a>,                                  
<a name="l02583"></a>02583                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ab46cc366c731b47bbd14286c5fc26344" title="CH 3 Threshold register index.">CVT_V1724_CH3_THRESHOLD_INDEX</a>,                                  
<a name="l02584"></a>02584                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a4fe54736d54d9c41c43c93d52264a538" title="CH 4 Threshold register index.">CVT_V1724_CH4_THRESHOLD_INDEX</a>,                                  
<a name="l02585"></a>02585                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aeb499c787638ad1ec42e1f2510179f95" title="CH 5 Threshold register index.">CVT_V1724_CH5_THRESHOLD_INDEX</a>,                                  
<a name="l02586"></a>02586                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a4527b76fd46b8e0f5318dcdb916fc436" title="CH 6 Threshold register index.">CVT_V1724_CH6_THRESHOLD_INDEX</a>,                                  
<a name="l02587"></a>02587                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a0cb16e71772e665b0b08364489a0df26" title="CH 7 Threshold register index.">CVT_V1724_CH7_THRESHOLD_INDEX</a>,                                  
<a name="l02588"></a>02588         };
<a name="l02589"></a>02589 
<a name="l02590"></a>02590         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> CH_TRG_THR_SAMPLE[ <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>]=
<a name="l02591"></a>02591         {
<a name="l02592"></a>02592                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a16286e7643a2970ea321de4be8d38245" title="CH 0 Over/Under Threshold Samples register index.">CVT_V1724_CH0_TIME_OVER_UNDER_THR_INDEX</a>,                                
<a name="l02593"></a>02593                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aa72969593f90e9bbf1b1cea0d89f3b8f" title="CH 1 Over/Under Threshold Samples register index.">CVT_V1724_CH1_TIME_OVER_UNDER_THR_INDEX</a>,                                
<a name="l02594"></a>02594                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a208ef830b18d9bfbc0f7dc7ef326d614" title="CH 2 Over/Under Threshold Samples register index.">CVT_V1724_CH2_TIME_OVER_UNDER_THR_INDEX</a>,                                
<a name="l02595"></a>02595                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a0c744547862131f166962e36c316778c" title="CH 3 Over/Under Threshold Samples register index.">CVT_V1724_CH3_TIME_OVER_UNDER_THR_INDEX</a>,                                
<a name="l02596"></a>02596                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a276c4df00bae7fc19bf2f17248514c9e" title="CH 4 Over/Under Threshold Samples register index.">CVT_V1724_CH4_TIME_OVER_UNDER_THR_INDEX</a>,                                
<a name="l02597"></a>02597                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a7bf2c9e9b23e3956eebfbb90630abf1c" title="CH 5 Over/Under Threshold Samples register index.">CVT_V1724_CH5_TIME_OVER_UNDER_THR_INDEX</a>,                                
<a name="l02598"></a>02598                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a651128617892ec5d594991004f7a8c35" title="CH 6 Over/Under Threshold Samples register index.">CVT_V1724_CH6_TIME_OVER_UNDER_THR_INDEX</a>,                                
<a name="l02599"></a>02599                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87af7f0c08c939aa703309c1ec9fdf20264" title="CH 7 Over/Under Threshold Samples register index.">CVT_V1724_CH7_TIME_OVER_UNDER_THR_INDEX</a>,                                
<a name="l02600"></a>02600         };
<a name="l02601"></a>02601 
<a name="l02602"></a>02602         <span class="comment">//</span>
<a name="l02603"></a>02603         <span class="comment">// input param check</span>
<a name="l02604"></a>02604         <span class="keywordflow">if</span>( ch_index&gt;= <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>)
<a name="l02605"></a>02605         {
<a name="l02606"></a>02606                 TRACE1( <span class="stringliteral">&quot;V1724 cvt_V1724_get_channel_trigger bad channel &#39;%d&#39;!\n&quot;</span>, ch_index);
<a name="l02607"></a>02607                 <span class="keywordflow">return</span> FALSE;
<a name="l02608"></a>02608         }
<a name="l02609"></a>02609 
<a name="l02610"></a>02610         <span class="comment">//</span>
<a name="l02611"></a>02611         <span class="comment">// trigger threshold</span>
<a name="l02612"></a>02612         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, CH_TRG_THR[ ch_index], p_trigger_threshold))
<a name="l02613"></a>02613         {
<a name="l02614"></a>02614                 TRACE( <span class="stringliteral">&quot;V1724 CH TRIGGER THRESHOLD read failed !\n&quot;</span>);
<a name="l02615"></a>02615                 <span class="keywordflow">return</span> FALSE;
<a name="l02616"></a>02616         }
<a name="l02617"></a>02617 
<a name="l02618"></a>02618         <span class="comment">//</span>
<a name="l02619"></a>02619         <span class="comment">// trigger threshold samples</span>
<a name="l02620"></a>02620         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, CH_TRG_THR_SAMPLE[ ch_index], p_threshold_samples))
<a name="l02621"></a>02621         {
<a name="l02622"></a>02622                 TRACE( <span class="stringliteral">&quot;V1724 CH TRIGGER THRESHOLD SAMPLES read failed !\n&quot;</span>);
<a name="l02623"></a>02623                 <span class="keywordflow">return</span> FALSE;
<a name="l02624"></a>02624         }
<a name="l02625"></a>02625 
<a name="l02626"></a>02626         <span class="keywordflow">return</span> TRUE;
<a name="l02627"></a>02627 }
<a name="l02628"></a>02628 
<a name="l02630"></a>02630 <span class="comment">//</span>
<a name="l02632"></a><a class="code" href="cvt___v1724_8h.html#a3b12e0fed4ab729659ab0c26d3266dd1">02632</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a5f3aad144fdfa803ba524a09e2f45bd9" title="Sets front panel&amp;#39;s IO.">cvt_V1724_set_front_panel_IO</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> use_TTL, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> out_en, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> dir_msk, <a class="code" href="cvt___v1724_8h.html#a37c48d2968d7610521a8d452579f1d90" title="Front Panel IO modes.">CVT_V1724_FRONT_PANEL_IO_MODES</a> mode)
<a name="l02633"></a>02633 {
<a name="l02634"></a>02634         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value32= 0;
<a name="l02635"></a>02635         
<a name="l02636"></a>02636         <span class="comment">//</span>
<a name="l02637"></a>02637         <span class="comment">// Validity check</span>
<a name="l02638"></a>02638         <span class="keywordflow">switch</span>( mode)
<a name="l02639"></a>02639         {
<a name="l02640"></a>02640                 <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a37c48d2968d7610521a8d452579f1d90a52d5061ab0049b1ee71a997cdc52f536">CVT_V1724_FPIO_MODES_GPIO</a>:                 
<a name="l02641"></a>02641                 <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a37c48d2968d7610521a8d452579f1d90ad992305b569b4e1ca0491c1a7d4dc1f6">CVT_V1724_FPIO_MODES_PROGIO</a>:               
<a name="l02642"></a>02642                 <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a37c48d2968d7610521a8d452579f1d90a7b7efe46154650dc566cf02bcded8950">CVT_V1724_FPIO_MODES_PATTERN</a>:              
<a name="l02643"></a>02643                         <span class="keywordflow">break</span>;
<a name="l02644"></a>02644                 <span class="keywordflow">default</span>:
<a name="l02645"></a>02645                         TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FRONT_PANEL_IO_CTRL bad mode !\n&quot;</span>);
<a name="l02646"></a>02646                         <span class="keywordflow">return</span> FALSE;                   
<a name="l02647"></a>02647         }
<a name="l02648"></a>02648 
<a name="l02649"></a>02649         <span class="comment">//</span>
<a name="l02650"></a>02650         <span class="comment">// Ttl/Nim</span>
<a name="l02651"></a>02651         reg_value32|= ( use_TTL)? <a class="code" href="cvt___v1724_8h.html#ab6230228d922c1b5762da61cebc22debac812e03b50555af7b8a25c812112b7d1">CVT_V1724_FPIO_CTRL_TTL_MSK</a>: 0;
<a name="l02652"></a>02652 
<a name="l02653"></a>02653         <span class="comment">//</span>
<a name="l02654"></a>02654         <span class="comment">// Output enable</span>
<a name="l02655"></a>02655         reg_value32|= ( out_en)? 0: <a class="code" href="cvt___v1724_8h.html#ab6230228d922c1b5762da61cebc22deba96eee00e9b89d9fee7133d01cdce1353">CVT_V1724_FPIO_CTRL_OUT_DIS_MSK</a>;
<a name="l02656"></a>02656 
<a name="l02657"></a>02657         <span class="comment">//</span>
<a name="l02658"></a>02658         <span class="comment">// Direction</span>
<a name="l02659"></a>02659         <a class="code" href="cvt___v1724_8h.html#a0e90241998fe168d38baf740d2efd1ca" title="Sets the Front panel IO direction into UINT32 value.">CVT_V1724_SET_FPIO_CTRL_DIR</a>( reg_value32, dir_msk);
<a name="l02660"></a>02660 
<a name="l02661"></a>02661         <span class="comment">//</span>
<a name="l02662"></a>02662         <span class="comment">// Operational mode</span>
<a name="l02663"></a>02663         <a class="code" href="cvt___v1724_8h.html#ad27c761dd3fae35104ac1ee20693fc25" title="Sets the Front panel IO mode into UINT32 value.">CVT_V1724_SET_FPIO_CTRL_MODE</a>( reg_value32, mode);
<a name="l02664"></a>02664 
<a name="l02665"></a>02665         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a2e4c4ddf5721f8e845f6bd1dded8faea" title="Front panel IO Control register index.">CVT_V1724_FRONT_PANEL_IO_CTRL_INDEX</a>, &amp;reg_value32))
<a name="l02666"></a>02666         {
<a name="l02667"></a>02667                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FRONT_PANEL_IO_CTRL write failed !\n&quot;</span>);
<a name="l02668"></a>02668                 <span class="keywordflow">return</span> FALSE;
<a name="l02669"></a>02669         }
<a name="l02670"></a>02670         <span class="keywordflow">return</span> TRUE;
<a name="l02671"></a>02671 }
<a name="l02672"></a>02672 
<a name="l02674"></a>02674 <span class="comment">//</span>
<a name="l02676"></a><a class="code" href="cvt___v1724_8h.html#aaf82bf68458a3a2b43c9a3177f171508">02676</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a2e50647eae51887fc3eabf7693ad8f89" title="Gets front panel&amp;#39;s IO.">cvt_V1724_get_front_panel_IO</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_use_TTL, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_is_out_en, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> *p_dir_msk, <a class="code" href="cvt___v1724_8h.html#a37c48d2968d7610521a8d452579f1d90" title="Front Panel IO modes.">CVT_V1724_FRONT_PANEL_IO_MODES</a> *p_mode)
<a name="l02677"></a>02677 {
<a name="l02678"></a>02678         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value32= 0;
<a name="l02679"></a>02679         
<a name="l02680"></a>02680         <span class="comment">//</span>
<a name="l02681"></a>02681         <span class="comment">// Get the CVT_V1724_FRONT_PANEL_IO_CTRL register value</span>
<a name="l02682"></a>02682         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a2e4c4ddf5721f8e845f6bd1dded8faea" title="Front panel IO Control register index.">CVT_V1724_FRONT_PANEL_IO_CTRL_INDEX</a>, &amp;reg_value32))
<a name="l02683"></a>02683         {
<a name="l02684"></a>02684                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FRONT_PANEL_IO_CTRL read failed !\n&quot;</span>);
<a name="l02685"></a>02685                 <span class="keywordflow">return</span> FALSE;
<a name="l02686"></a>02686         }
<a name="l02687"></a>02687         <span class="comment">//</span>
<a name="l02688"></a>02688         <span class="comment">// Ttl / Nim</span>
<a name="l02689"></a>02689         *p_use_TTL= ( reg_value32&amp; <a class="code" href="cvt___v1724_8h.html#ab6230228d922c1b5762da61cebc22debac812e03b50555af7b8a25c812112b7d1">CVT_V1724_FPIO_CTRL_TTL_MSK</a>)? TRUE: FALSE;
<a name="l02690"></a>02690 
<a name="l02691"></a>02691 
<a name="l02692"></a>02692         <span class="comment">//</span>
<a name="l02693"></a>02693         <span class="comment">// Output enable</span>
<a name="l02694"></a>02694         *p_is_out_en= ( reg_value32&amp; <a class="code" href="cvt___v1724_8h.html#ab6230228d922c1b5762da61cebc22deba96eee00e9b89d9fee7133d01cdce1353">CVT_V1724_FPIO_CTRL_OUT_DIS_MSK</a>)? FALSE: TRUE;
<a name="l02695"></a>02695 
<a name="l02696"></a>02696         <span class="comment">//</span>
<a name="l02697"></a>02697         <span class="comment">// Direction</span>
<a name="l02698"></a>02698         *p_dir_msk= <a class="code" href="cvt___v1724_8h.html#acd9045841a1378eccf88cd19f69315b7" title="Extract the Front panel IO direction from UINT32 value.">CVT_V1724_GET_FPIO_CTRL_DIR</a>( reg_value32);
<a name="l02699"></a>02699 
<a name="l02700"></a>02700         <span class="comment">//</span>
<a name="l02701"></a>02701         <span class="comment">// Operational mode</span>
<a name="l02702"></a>02702         *p_mode= <a class="code" href="cvt___v1724_8h.html#a38810f6892cf8921d8ec15dac4f55751" title="Extract the Front panel IO mode from UINT32 value.">CVT_V1724_GET_FPIO_CTRL_MODE</a>( reg_value32);
<a name="l02703"></a>02703 
<a name="l02704"></a>02704         <span class="keywordflow">return</span> TRUE;
<a name="l02705"></a>02705 }
<a name="l02706"></a>02706 
<a name="l02708"></a>02708 <span class="comment">//</span>
<a name="l02710"></a><a class="code" href="cvt___v1724_8h.html#a843ec72e53ae6d993b66493f11bc159a">02710</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#ae8600c1bbb0ae4bd33d831e51d587902" title="Performs a software trigger.">cvt_V1724_software_trigger</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data)
<a name="l02711"></a>02711 {
<a name="l02712"></a>02712         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value;
<a name="l02713"></a>02713         <span class="comment">//</span>
<a name="l02714"></a>02714         <span class="comment">// software trigger</span>
<a name="l02715"></a>02715         reg_value= 1;
<a name="l02716"></a>02716         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aa12ed737a7400abcae036457861c9557" title="Software trigger register index.">CVT_V1724_SW_TRIGGER_INDEX</a>, &amp;reg_value))
<a name="l02717"></a>02717         {
<a name="l02718"></a>02718                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_SW_TRIGGER write failed !\n&quot;</span>);
<a name="l02719"></a>02719                 <span class="keywordflow">return</span> FALSE;
<a name="l02720"></a>02720         }
<a name="l02721"></a>02721         <span class="keywordflow">return</span> TRUE;
<a name="l02722"></a>02722 }
<a name="l02723"></a>02723 
<a name="l02724"></a>02724 
<a name="l02726"></a>02726 <span class="comment">//</span>
<a name="l02728"></a><a class="code" href="cvt___v1724_8h.html#abb13bbe02bf973be1ba354b09d587c16">02728</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a223f170d4a1af08c1e5a7919516f8e9c" title="Gets information about board status.">cvt_V1724_get_channel_status</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ch_index, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_is_dac_busy, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_is_fifo_full, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_is_fifo_empty, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_is_block_remove_ok)
<a name="l02729"></a>02729 {
<a name="l02730"></a>02730         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> CH_STATUS[ <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>]=
<a name="l02731"></a>02731         {
<a name="l02732"></a>02732                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a14000bca1938326acfd002e7fbca549d" title="CH 0 status register index.">CVT_V1724_CH0_STATUS_INDEX</a>,                                             
<a name="l02733"></a>02733                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a36d713ea4f18859a3a0f9807b11a0044" title="CH 1 status register index.">CVT_V1724_CH1_STATUS_INDEX</a>,                                             
<a name="l02734"></a>02734                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a2cb7a8ec10882d646d0791530f339e51" title="CH 2 status register index.">CVT_V1724_CH2_STATUS_INDEX</a>,                                             
<a name="l02735"></a>02735                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87adfcfb270307bd0498510d08843998c0d" title="CH 3 status register index.">CVT_V1724_CH3_STATUS_INDEX</a>,                                             
<a name="l02736"></a>02736                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87adb860b14f2de83a678ab98535fa424d6" title="CH 4 status register index.">CVT_V1724_CH4_STATUS_INDEX</a>,                                             
<a name="l02737"></a>02737                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a86d1f7a0f827ee4235efdefc3b60f083" title="CH 5 status register index.">CVT_V1724_CH5_STATUS_INDEX</a>,                                             
<a name="l02738"></a>02738                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aab2e799865cc123953ee436c9281a063" title="CH 6 status register index.">CVT_V1724_CH6_STATUS_INDEX</a>,                                             
<a name="l02739"></a>02739                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ae78ca47b486edaec0ef24d4a0eb32da3" title="CH 7 status register index.">CVT_V1724_CH7_STATUS_INDEX</a>,                                             
<a name="l02740"></a>02740         };
<a name="l02741"></a>02741 
<a name="l02742"></a>02742         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value= 0;
<a name="l02743"></a>02743 
<a name="l02744"></a>02744         <span class="comment">//</span>
<a name="l02745"></a>02745         <span class="comment">// input param check</span>
<a name="l02746"></a>02746         <span class="keywordflow">if</span>( ch_index&gt;= <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>)
<a name="l02747"></a>02747         {
<a name="l02748"></a>02748                 TRACE1( <span class="stringliteral">&quot;V1724 cvt_V1724_get_channel_status bad channel &#39;%d&#39;!\n&quot;</span>, ch_index);
<a name="l02749"></a>02749                 <span class="keywordflow">return</span> FALSE;
<a name="l02750"></a>02750         }
<a name="l02751"></a>02751         <span class="comment">//</span>
<a name="l02752"></a>02752         <span class="comment">// read channel status register 1</span>
<a name="l02753"></a>02753         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, CH_STATUS[ ch_index], &amp;reg_value))
<a name="l02754"></a>02754         {
<a name="l02755"></a>02755                 TRACE1( <span class="stringliteral">&quot;V1724 CH_STATUS[%d] read failed !\n&quot;</span>, ch_index);
<a name="l02756"></a>02756                 <span class="keywordflow">return</span> FALSE;
<a name="l02757"></a>02757         }
<a name="l02758"></a>02758         *p_is_dac_busy= ( reg_value&amp; <a class="code" href="cvt___v1724_8h.html#a3d1f47ad6e5086a6b735a48b531692c2afb5a41b134ad6288e38e9d06971c208d">CVT_V1724_CHSTS_DAC_BUSY_MSK</a>)? TRUE: FALSE;
<a name="l02759"></a>02759         *p_is_fifo_full= ( reg_value&amp; <a class="code" href="cvt___v1724_8h.html#a3d1f47ad6e5086a6b735a48b531692c2a18615a0a61279ef9e8b52d4449fb6806">CVT_V1724_CHSTS_FIFO_FULL_MSK</a>)? TRUE: FALSE;
<a name="l02760"></a>02760         *p_is_fifo_empty= ( reg_value&amp; <a class="code" href="cvt___v1724_8h.html#a3d1f47ad6e5086a6b735a48b531692c2a7e759bc28a36ebe63da1536c35b90ba1">CVT_V1724_CHSTS_FIFO_EMPTY_MSK</a>)? TRUE: FALSE;
<a name="l02761"></a>02761         *p_is_block_remove_ok= ( reg_value&amp; <a class="code" href="cvt___v1724_8h.html#a3d1f47ad6e5086a6b735a48b531692c2a3247d27dc37553b81d4cd7ebe41c1144">CVT_V1724_CHSTS_BLOCK_REM_OK_MSK</a>)? TRUE: FALSE;
<a name="l02762"></a>02762 
<a name="l02763"></a>02763         <span class="keywordflow">return</span> TRUE;
<a name="l02764"></a>02764 }
<a name="l02765"></a>02765 
<a name="l02768"></a><a class="code" href="cvt___v1724_8h.html#a5e9c4bbdc7643997ed88601c0c2813a7">02768</a> <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a94b07637f1c3b8f6c96553bb15c26160" title="Gets board&amp;#39;s system information.">cvt_V1724_get_system_info</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> *p_firmware_rev, <a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html" title="V1724 board ROM configuration.">CVT_V1724_ROM_CONFIG</a> *p_rom_config, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_is_board_type_correct, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_is_firmware_rev_correct)
<a name="l02769"></a>02769 {
<a name="l02770"></a>02770         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value= 0;
<a name="l02771"></a>02771         *p_is_board_type_correct= FALSE;
<a name="l02772"></a>02772         *p_is_firmware_rev_correct= FALSE;
<a name="l02773"></a>02773 
<a name="l02774"></a>02774         <span class="comment">//</span>
<a name="l02775"></a>02775         <span class="comment">// Firmware revision register</span>
<a name="l02776"></a>02776         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87abc6fb0c44ac089255916888f7d55ede0" title="Firmware Revision register index.">CVT_V1724_FW_REV_INDEX</a>, &amp;reg_value))
<a name="l02777"></a>02777         {
<a name="l02778"></a>02778                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FW_REV read failed !\n&quot;</span>);
<a name="l02779"></a>02779                 <span class="keywordflow">return</span> FALSE;
<a name="l02780"></a>02780         }
<a name="l02781"></a>02781         *p_firmware_rev= reg_value&amp; 0x0000ffff;
<a name="l02782"></a>02782         <span class="keywordflow">if</span>( *p_firmware_rev&gt;= <a class="code" href="cvt___v1724_8h.html#a8de521c69c9d100a9fc230d2883d4a9a">CVT_V1724_MIN_FIRMARE_REV</a>)
<a name="l02783"></a>02783                 *p_is_firmware_rev_correct= TRUE;
<a name="l02784"></a>02784 
<a name="l02785"></a>02785         <span class="comment">//</span>
<a name="l02786"></a>02786         <span class="comment">// Chksum</span>
<a name="l02787"></a>02787         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a4e4b7b086b5df7d1d80416d9585a62e3" title="Configuration ROM checksum index.">CVT_V1724_ROM_CHKSUM_INDEX</a>, &amp;reg_value))
<a name="l02788"></a>02788         {
<a name="l02789"></a>02789                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_CHKSUM_INDEX read failed !\n&quot;</span>);
<a name="l02790"></a>02790                 <span class="keywordflow">return</span> FALSE;
<a name="l02791"></a>02791         }
<a name="l02792"></a>02792         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#aee013472f00f9c5dcf97f1b9b923d9ad" title="Configuration ROM checksum.">m_chksum</a>= reg_value&amp; 0x000000ff;
<a name="l02793"></a>02793 
<a name="l02794"></a>02794         <span class="comment">//</span>
<a name="l02795"></a>02795         <span class="comment">// Chksum Len</span>
<a name="l02796"></a>02796         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a2ef52c2c8134ea6daca71b46d9b95afa" title="Configuration ROM checksum length (LSB) index.">CVT_V1724_ROM_CHKSUM_LEN_0_INDEX</a>, &amp;reg_value))
<a name="l02797"></a>02797         {
<a name="l02798"></a>02798                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_CHKSUM_LEN_0_INDEX read failed !\n&quot;</span>);
<a name="l02799"></a>02799                 <span class="keywordflow">return</span> FALSE;
<a name="l02800"></a>02800         }
<a name="l02801"></a>02801         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#a6615925b7bd9837cc2f264cde2c8af3f" title="Configuration ROM checksum length.">m_chksum_len</a>= reg_value&amp; 0x000000ff;
<a name="l02802"></a>02802         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a3ad103c10f33835a4abf04f3813d3d28" title="Configuration ROM checksum length index.">CVT_V1724_ROM_CHKSUM_LEN_1_INDEX</a>, &amp;reg_value))
<a name="l02803"></a>02803         {
<a name="l02804"></a>02804                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_CHKSUM_LEN_1_INDEX read failed !\n&quot;</span>);
<a name="l02805"></a>02805                 <span class="keywordflow">return</span> FALSE;
<a name="l02806"></a>02806         }
<a name="l02807"></a>02807         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#a6615925b7bd9837cc2f264cde2c8af3f" title="Configuration ROM checksum length.">m_chksum_len</a>|= (reg_value&amp; 0x000000ff)&lt;&lt; 8;
<a name="l02808"></a>02808         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a4b90b41bf4fbbeb5773309ad1d000c22" title="Configuration ROM checksum length (MSB) index.">CVT_V1724_ROM_CHKSUM_LEN_2_INDEX</a>, &amp;reg_value))
<a name="l02809"></a>02809         {
<a name="l02810"></a>02810                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_CHKSUM_LEN_2_INDEX read failed !\n&quot;</span>);
<a name="l02811"></a>02811                 <span class="keywordflow">return</span> FALSE;
<a name="l02812"></a>02812         }
<a name="l02813"></a>02813         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#a6615925b7bd9837cc2f264cde2c8af3f" title="Configuration ROM checksum length.">m_chksum_len</a>|= (reg_value&amp; 0x000000ff)&lt;&lt; 16;
<a name="l02814"></a>02814 
<a name="l02815"></a>02815         <span class="comment">//</span>
<a name="l02816"></a>02816         <span class="comment">// Const</span>
<a name="l02817"></a>02817         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aa8ad2dac0f183fd74b45550d9ad9a702" title="Configuration ROM constant (LSB) index.">CVT_V1724_ROM_CONST_0_INDEX</a>, &amp;reg_value))
<a name="l02818"></a>02818         {
<a name="l02819"></a>02819                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_CONST_0_INDEX read failed !\n&quot;</span>);
<a name="l02820"></a>02820                 <span class="keywordflow">return</span> FALSE;
<a name="l02821"></a>02821         }
<a name="l02822"></a>02822         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#a137e507379a710fb155e530cf07056cd" title="Configuration ROM constant.">m_const</a>= reg_value&amp; 0x000000ff;
<a name="l02823"></a>02823         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a1a91c52923a1ba245bbb33212bbf0915" title="Configuration ROM constant index.">CVT_V1724_ROM_CONST_1_INDEX</a>, &amp;reg_value))
<a name="l02824"></a>02824         {
<a name="l02825"></a>02825                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_CONST_1_INDEX read failed !\n&quot;</span>);
<a name="l02826"></a>02826                 <span class="keywordflow">return</span> FALSE;
<a name="l02827"></a>02827         }
<a name="l02828"></a>02828         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#a137e507379a710fb155e530cf07056cd" title="Configuration ROM constant.">m_const</a>|= (reg_value&amp; 0x000000ff)&lt;&lt; 8;
<a name="l02829"></a>02829         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ac0b7391488542103cebe1cead821ecc0" title="Configuration ROM constant (MSB) index.">CVT_V1724_ROM_CONST_2_INDEX</a>, &amp;reg_value))
<a name="l02830"></a>02830         {
<a name="l02831"></a>02831                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_CONST_2_INDEX read failed !\n&quot;</span>);
<a name="l02832"></a>02832                 <span class="keywordflow">return</span> FALSE;
<a name="l02833"></a>02833         }
<a name="l02834"></a>02834         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#a137e507379a710fb155e530cf07056cd" title="Configuration ROM constant.">m_const</a>|= (reg_value&amp; 0x000000ff)&lt;&lt; 16;
<a name="l02835"></a>02835 
<a name="l02836"></a>02836         <span class="comment">//</span>
<a name="l02837"></a>02837         <span class="comment">// c_code</span>
<a name="l02838"></a>02838         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aed09130d3f4b396e167a35196a921406" title="Configuration ROM c_code index.">CVT_V1724_ROM_C_CODE_INDEX</a>, &amp;reg_value))
<a name="l02839"></a>02839         {
<a name="l02840"></a>02840                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_C_CODE_INDEX read failed !\n&quot;</span>);
<a name="l02841"></a>02841                 <span class="keywordflow">return</span> FALSE;
<a name="l02842"></a>02842         }
<a name="l02843"></a>02843         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#a9b7d92f34f88832b9e5cd32ed9af40b9" title="Configuration ROM c_code.">m_c_code</a>= reg_value&amp; 0x000000ff;
<a name="l02844"></a>02844 
<a name="l02845"></a>02845         <span class="comment">//</span>
<a name="l02846"></a>02846         <span class="comment">// r_code</span>
<a name="l02847"></a>02847         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a04c6769fdad508af9e5be0ecd36b6a10" title="Configuration ROM r_code index.">CVT_V1724_ROM_R_CODE_INDEX</a>, &amp;reg_value))
<a name="l02848"></a>02848         {
<a name="l02849"></a>02849                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_R_CODE_INDEX read failed !\n&quot;</span>);
<a name="l02850"></a>02850                 <span class="keywordflow">return</span> FALSE;
<a name="l02851"></a>02851         }
<a name="l02852"></a>02852         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#a0da43b6a819e3625211926e7405a8a53" title="Configuration ROM r_code.">m_r_code</a>= reg_value&amp; 0x000000ff;
<a name="l02853"></a>02853 
<a name="l02854"></a>02854         <span class="comment">//</span>
<a name="l02855"></a>02855         <span class="comment">// OUI</span>
<a name="l02856"></a>02856         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a69ec84c481dadfd12fb20f1fa10e3280" title="Configuration ROM Manufacturer identifier (IEEE OUI) (LSB) index.">CVT_V1724_ROM_OUI_0_INDEX</a>, &amp;reg_value))
<a name="l02857"></a>02857         {
<a name="l02858"></a>02858                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_OUI_0_INDEX read failed !\n&quot;</span>);
<a name="l02859"></a>02859                 <span class="keywordflow">return</span> FALSE;
<a name="l02860"></a>02860         }
<a name="l02861"></a>02861         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#ac13338604757d4c41b6e5a9f6ca2c8ec" title="Configuration ROM Manufacturer identifier (IEEE OUI).">m_OUI</a>= reg_value&amp; 0x000000ff;
<a name="l02862"></a>02862         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a2f0c3494d3f94a47b66aec66f9d047ac" title="Configuration ROM Manufacturer identifier (IEEE OUI) index.">CVT_V1724_ROM_OUI_1_INDEX</a>, &amp;reg_value))
<a name="l02863"></a>02863         {
<a name="l02864"></a>02864                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_OUI_1_INDEX read failed !\n&quot;</span>);
<a name="l02865"></a>02865                 <span class="keywordflow">return</span> FALSE;
<a name="l02866"></a>02866         }
<a name="l02867"></a>02867         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#ac13338604757d4c41b6e5a9f6ca2c8ec" title="Configuration ROM Manufacturer identifier (IEEE OUI).">m_OUI</a>|= (reg_value&amp; 0x000000ff)&lt;&lt; 8;
<a name="l02868"></a>02868         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a9684de31ca226055a551622d01698b14" title="Configuration ROM Manufacturer identifier (IEEE OUI) (MSB) index.">CVT_V1724_ROM_OUI_2_INDEX</a>, &amp;reg_value))
<a name="l02869"></a>02869         {
<a name="l02870"></a>02870                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_OUI_2_INDEX read failed !\n&quot;</span>);
<a name="l02871"></a>02871                 <span class="keywordflow">return</span> FALSE;
<a name="l02872"></a>02872         }
<a name="l02873"></a>02873         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#ac13338604757d4c41b6e5a9f6ca2c8ec" title="Configuration ROM Manufacturer identifier (IEEE OUI).">m_OUI</a>|= (reg_value&amp; 0x000000ff)&lt;&lt; 16;
<a name="l02874"></a>02874 
<a name="l02875"></a>02875         <span class="comment">//</span>
<a name="l02876"></a>02876         <span class="comment">// version</span>
<a name="l02877"></a>02877         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ad19ce8c84e9f3551ba6e8d48a93651fc" title="Configuration ROM Purchased version of the Mod.V1724 index.">CVT_V1724_ROM_VERSION_INDEX</a>, &amp;reg_value))
<a name="l02878"></a>02878         {
<a name="l02879"></a>02879                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_VERSION_INDEX read failed !\n&quot;</span>);
<a name="l02880"></a>02880                 <span class="keywordflow">return</span> FALSE;
<a name="l02881"></a>02881         }
<a name="l02882"></a>02882         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#a69c65ce9be02503e173787349d88206e" title="Configuration ROM Purchased version of the Mod.V1724.">m_version</a>= reg_value&amp; 0x000000ff;
<a name="l02883"></a>02883 
<a name="l02884"></a>02884         <span class="comment">//</span>
<a name="l02885"></a>02885         <span class="comment">// Board id</span>
<a name="l02886"></a>02886         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ac3f5415896f256ab4d4f16970d99d20e" title="Configuration ROM Board identifier (LSB) index.">CVT_V1724_ROM_BOARD_ID_0_INDEX</a>, &amp;reg_value))
<a name="l02887"></a>02887         {
<a name="l02888"></a>02888                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_BOARD_ID_0_INDEX read failed !\n&quot;</span>);
<a name="l02889"></a>02889                 <span class="keywordflow">return</span> FALSE;
<a name="l02890"></a>02890         }
<a name="l02891"></a>02891         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#adccf5f23dbadcdf821224306c5410a76" title="Configuration ROM Board identifier CVT_V17XX_ROM_CFG_BOARD_ID.">m_board_id</a>= reg_value&amp; 0x000000ff;
<a name="l02892"></a>02892         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a89246da4e7ce04a32acc00c29d559ed8" title="Configuration ROM Board identifier index.">CVT_V1724_ROM_BOARD_ID_1_INDEX</a>, &amp;reg_value))
<a name="l02893"></a>02893         {
<a name="l02894"></a>02894                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_BOARD_ID_1_INDEX read failed !\n&quot;</span>);
<a name="l02895"></a>02895                 <span class="keywordflow">return</span> FALSE;
<a name="l02896"></a>02896         }
<a name="l02897"></a>02897         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#adccf5f23dbadcdf821224306c5410a76" title="Configuration ROM Board identifier CVT_V17XX_ROM_CFG_BOARD_ID.">m_board_id</a>|= (reg_value&amp; 0x000000ff)&lt;&lt; 8;
<a name="l02898"></a>02898         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a1fbbef71c5fb404983c2bb1d6a88de9c" title="Configuration ROM Board identifier (MSB) index.">CVT_V1724_ROM_BOARD_ID_2_INDEX</a>, &amp;reg_value))
<a name="l02899"></a>02899         {
<a name="l02900"></a>02900                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_BOARD_ID_2_INDEX read failed !\n&quot;</span>);
<a name="l02901"></a>02901                 <span class="keywordflow">return</span> FALSE;
<a name="l02902"></a>02902         }
<a name="l02903"></a>02903         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#adccf5f23dbadcdf821224306c5410a76" title="Configuration ROM Board identifier CVT_V17XX_ROM_CFG_BOARD_ID.">m_board_id</a>|= (reg_value&amp; 0x000000ff)&lt;&lt; 16;
<a name="l02904"></a>02904 
<a name="l02905"></a>02905         <span class="keywordflow">switch</span>( p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#adccf5f23dbadcdf821224306c5410a76" title="Configuration ROM Board identifier CVT_V17XX_ROM_CFG_BOARD_ID.">m_board_id</a>)
<a name="l02906"></a>02906         {
<a name="l02907"></a>02907         <span class="keywordflow">case</span> CVT_V17XX_RCFG_BOARD_ID_V1724:                     <span class="comment">//  V1724</span>
<a name="l02908"></a>02908         <span class="keywordflow">case</span> CVT_V17XX_RCFG_BOARD_ID_VX1724:            <span class="comment">// VX1724</span>
<a name="l02909"></a>02909                 <span class="keywordflow">if</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>== <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a56a2e93e73cffaeaf50783acd863aad2" title="The board is V1724.">CVT_V1724</a>)
<a name="l02910"></a>02910                         *p_is_board_type_correct= TRUE;
<a name="l02911"></a>02911                 <span class="keywordflow">break</span>;
<a name="l02912"></a>02912         <span class="keywordflow">case</span> CVT_V17XX_RCFG_BOARD_ID_V1721:                     <span class="comment">//  V1721</span>
<a name="l02913"></a>02913         <span class="keywordflow">case</span> CVT_V17XX_RCFG_BOARD_ID_VX1721:            <span class="comment">// VX1721</span>
<a name="l02914"></a>02914                 <span class="keywordflow">if</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>== <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a1cc7b5063f27a2cd67d74ee0ca248578" title="The board is V1721.">CVT_V1721</a>)
<a name="l02915"></a>02915                         *p_is_board_type_correct= TRUE;
<a name="l02916"></a>02916                 <span class="keywordflow">break</span>;
<a name="l02917"></a>02917         <span class="keywordflow">case</span> CVT_V17XX_RCFG_BOARD_ID_V1731:                     <span class="comment">//  V1731</span>
<a name="l02918"></a>02918         <span class="keywordflow">case</span> CVT_V17XX_RCFG_BOARD_ID_VX1731:            <span class="comment">// VX1731</span>
<a name="l02919"></a>02919                 <span class="keywordflow">if</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>== <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a53253f7bfab6f1dd94f7b73a3e7b2ffb" title="The board is V1731.">CVT_V1731</a>)
<a name="l02920"></a>02920                         *p_is_board_type_correct= TRUE;
<a name="l02921"></a>02921                 <span class="keywordflow">break</span>;
<a name="l02922"></a>02922         <span class="keywordflow">case</span> CVT_V17XX_RCFG_BOARD_ID_V1720:                     <span class="comment">//  V1720</span>
<a name="l02923"></a>02923         <span class="keywordflow">case</span> CVT_V17XX_RCFG_BOARD_ID_VX1720:            <span class="comment">// VX1720</span>
<a name="l02924"></a>02924                 <span class="keywordflow">if</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>== <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610ae7fc5877e3aca04a8b498b8035563491" title="The board is V1720.">CVT_V1720</a>)
<a name="l02925"></a>02925                         *p_is_board_type_correct= TRUE;
<a name="l02926"></a>02926                 <span class="keywordflow">break</span>;
<a name="l02927"></a>02927         <span class="keywordflow">case</span> CVT_V17XX_RCFG_BOARD_ID_V1740:                     <span class="comment">//  V1740</span>
<a name="l02928"></a>02928         <span class="keywordflow">case</span> CVT_V17XX_RCFG_BOARD_ID_VX1740:            <span class="comment">// VX1740</span>
<a name="l02929"></a>02929                 <span class="keywordflow">if</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>== <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610afc553787456c85d4b462d3ad0d39a230" title="The board is V1740.">CVT_V1740</a>)
<a name="l02930"></a>02930                         *p_is_board_type_correct= TRUE;
<a name="l02931"></a>02931                 <span class="keywordflow">break</span>;
<a name="l02932"></a>02932         <span class="keywordflow">case</span> CVT_V17XX_RCFG_BOARD_ID_V1751:                     <span class="comment">//  V1751</span>
<a name="l02933"></a>02933         <span class="keywordflow">case</span> CVT_V17XX_RCFG_BOARD_ID_VX1751:            <span class="comment">// VX1751</span>
<a name="l02934"></a>02934                 <span class="keywordflow">if</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>== <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a3dede885f83d261437e0bc80f650b660" title="The board is V1751.">CVT_V1751</a>)
<a name="l02935"></a>02935                         *p_is_board_type_correct= TRUE;
<a name="l02936"></a>02936                 <span class="keywordflow">break</span>;
<a name="l02937"></a>02937         }
<a name="l02938"></a>02938 
<a name="l02939"></a>02939         <span class="comment">//</span>
<a name="l02940"></a>02940         <span class="comment">// Revision</span>
<a name="l02941"></a>02941         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a09a63d613452491577908b647e3c375c" title="Configuration ROM Hardware revision identifier index.">CVT_V1724_ROM_REVISION_0_INDEX</a>, &amp;reg_value))
<a name="l02942"></a>02942         {
<a name="l02943"></a>02943                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_REVISION_0_INDEX read failed !\n&quot;</span>);
<a name="l02944"></a>02944                 <span class="keywordflow">return</span> FALSE;
<a name="l02945"></a>02945         }
<a name="l02946"></a>02946         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#a519b9299f9c0cc1feaa6e0299efdd7b4" title="Configuration ROM Hardware revision identifier.">m_revision</a>= reg_value&amp; 0x000000ff;
<a name="l02947"></a>02947         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a90159c526b03e0650171646206ebf5ef" title="Configuration ROM Hardware revision identifier index.">CVT_V1724_ROM_REVISION_1_INDEX</a>, &amp;reg_value))
<a name="l02948"></a>02948         {
<a name="l02949"></a>02949                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_REVISION_1_INDEX read failed !\n&quot;</span>);
<a name="l02950"></a>02950                 <span class="keywordflow">return</span> FALSE;
<a name="l02951"></a>02951         }
<a name="l02952"></a>02952         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#a519b9299f9c0cc1feaa6e0299efdd7b4" title="Configuration ROM Hardware revision identifier.">m_revision</a>|= (reg_value&amp; 0x000000ff)&lt;&lt; 8;
<a name="l02953"></a>02953         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a5c12aa753d8ee367616a88ed0ea94b5d" title="Configuration ROM Hardware revision identifier index.">CVT_V1724_ROM_REVISION_2_INDEX</a>, &amp;reg_value))
<a name="l02954"></a>02954         {
<a name="l02955"></a>02955                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_REVISION_2_INDEX read failed !\n&quot;</span>);
<a name="l02956"></a>02956                 <span class="keywordflow">return</span> FALSE;
<a name="l02957"></a>02957         }
<a name="l02958"></a>02958         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#a519b9299f9c0cc1feaa6e0299efdd7b4" title="Configuration ROM Hardware revision identifier.">m_revision</a>|= (reg_value&amp; 0x000000ff)&lt;&lt; 16;
<a name="l02959"></a>02959         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aec31e78233431200744c084397d7908c" title="Configuration ROM Hardware revision identifier index.">CVT_V1724_ROM_REVISION_3_INDEX</a>, &amp;reg_value))
<a name="l02960"></a>02960         {
<a name="l02961"></a>02961                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_REVISION_3_INDEX read failed !\n&quot;</span>);
<a name="l02962"></a>02962                 <span class="keywordflow">return</span> FALSE;
<a name="l02963"></a>02963         }
<a name="l02964"></a>02964         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#a519b9299f9c0cc1feaa6e0299efdd7b4" title="Configuration ROM Hardware revision identifier.">m_revision</a>|= (reg_value&amp; 0x000000ff)&lt;&lt; 24;
<a name="l02965"></a>02965 
<a name="l02966"></a>02966         <span class="comment">//</span>
<a name="l02967"></a>02967         <span class="comment">// Serial number</span>
<a name="l02968"></a>02968         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a8101162dc5e562e8bb8364c8966dc533" title="Configuration ROM Serial number (LSB) index.">CVT_V1724_ROM_SERIAL_0_INDEX</a>, &amp;reg_value))
<a name="l02969"></a>02969         {
<a name="l02970"></a>02970                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_SERIAL_LSB read failed !\n&quot;</span>);
<a name="l02971"></a>02971                 <span class="keywordflow">return</span> FALSE;
<a name="l02972"></a>02972         }
<a name="l02973"></a>02973         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#adcf72943743f5d329f40eb8f3d9f35d1" title="Configuration ROM Serial number.">m_serial</a>= reg_value&amp; 0x00ff;
<a name="l02974"></a>02974         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ad7b03ac6cb6129d9cd067d2ac56ba8ee" title="Configuration ROM Serial number (MSB) index.">CVT_V1724_ROM_SERIAL_1_INDEX</a>, &amp;reg_value))
<a name="l02975"></a>02975         {
<a name="l02976"></a>02976                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_SERIAL_MSB read failed !\n&quot;</span>);
<a name="l02977"></a>02977                 <span class="keywordflow">return</span> FALSE;
<a name="l02978"></a>02978         }
<a name="l02979"></a>02979         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#adcf72943743f5d329f40eb8f3d9f35d1" title="Configuration ROM Serial number.">m_serial</a>|= (reg_value&amp; 0x00ff)&lt;&lt; 8;
<a name="l02980"></a>02980 
<a name="l02981"></a>02981         <span class="comment">//</span>
<a name="l02982"></a>02982         <span class="comment">// VCXO type</span>
<a name="l02983"></a>02983         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a1c7257610df75917ba7e0f9884bd4d2f" title="Configuration ROM VCXO type index.">CVT_V1724_ROM_VCXO_TYPE_INDEX</a>, &amp;reg_value))
<a name="l02984"></a>02984         {
<a name="l02985"></a>02985                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_ROM_VCXO_TYPE_INDEX read failed !\n&quot;</span>);
<a name="l02986"></a>02986                 <span class="keywordflow">return</span> FALSE;
<a name="l02987"></a>02987         }
<a name="l02988"></a>02988         p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#a465c432a0ab6e6586ee5107ba654c92b" title="Configuration ROM VCXO type.">m_VCXO_type</a>= reg_value&amp; 0x000000ff;
<a name="l02989"></a>02989 
<a name="l02990"></a>02990         <span class="keywordflow">return</span> TRUE;
<a name="l02991"></a>02991 }
<a name="l02992"></a>02992 
<a name="l02994"></a>02994 <span class="comment">//</span>
<a name="l02996"></a><a class="code" href="cvt___v1724_8h.html#a30b096f9ef1fb2743b0b20873fbe351a">02996</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#ae3a894ea490cbaefea0250b612a7d996" title="Gets board&amp;#39;s system information.">cvt_V1724_get_channel_info</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ch_index, <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> *p_firmware_rev)
<a name="l02997"></a>02997 {
<a name="l02998"></a>02998         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> CH_FW_REV[ <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>]=
<a name="l02999"></a>02999         {
<a name="l03000"></a>03000                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ac9e394bd4cf1904de3211e7f15afb6a8" title="CH 0 firmware revision register index.">CVT_V1724_CH0_FW_REV_INDEX</a>,                                             
<a name="l03001"></a>03001                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a469bb0b6eb035112dc2219432c7052c6" title="CH 1 firmware revision register index.">CVT_V1724_CH1_FW_REV_INDEX</a>,                                             
<a name="l03002"></a>03002                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a8d403cb4e526040b8c9b18267e757483" title="CH 2 firmware revision register index.">CVT_V1724_CH2_FW_REV_INDEX</a>,                                             
<a name="l03003"></a>03003                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a19147b5f637156e55ceaf01ac329f6a7" title="CH 3 firmware revision register index.">CVT_V1724_CH3_FW_REV_INDEX</a>,                                             
<a name="l03004"></a>03004                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ab98cc9e1b3bbe723db35ffa1e3da4dea" title="CH 4 firmware revision register index.">CVT_V1724_CH4_FW_REV_INDEX</a>,                                             
<a name="l03005"></a>03005                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ab4d488ac38a79cf8592b665c584d0f1e" title="CH 5 firmware revision register index.">CVT_V1724_CH5_FW_REV_INDEX</a>,                                             
<a name="l03006"></a>03006                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87a60e5a888d4dc817a0640cadc40f8f120" title="CH 6 firmware revision register index.">CVT_V1724_CH6_FW_REV_INDEX</a>,                                             
<a name="l03007"></a>03007                 <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ac9d82b1bdb8b0fb934faa99728c4a2b2" title="CH 7 firmware revision register index.">CVT_V1724_CH7_FW_REV_INDEX</a>,                                             
<a name="l03008"></a>03008         };
<a name="l03009"></a>03009 
<a name="l03010"></a>03010         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value= 0;
<a name="l03011"></a>03011 
<a name="l03012"></a>03012         <span class="comment">//</span>
<a name="l03013"></a>03013         <span class="comment">// input param check</span>
<a name="l03014"></a>03014         <span class="keywordflow">if</span>( ch_index&gt;= <a class="code" href="cvt___v1724_8h.html#a52424a7bd269c27f352cca52d6b8f81a" title="The number of channels.">CVT_V1724_MAX_CHANNEL</a>)
<a name="l03015"></a>03015         {
<a name="l03016"></a>03016                 TRACE1( <span class="stringliteral">&quot;V1724 cvt_V1724_get_channel_info bad channel &#39;%d&#39;!\n&quot;</span>, ch_index);
<a name="l03017"></a>03017                 <span class="keywordflow">return</span> FALSE;
<a name="l03018"></a>03018         }
<a name="l03019"></a>03019 
<a name="l03020"></a>03020         <span class="comment">//</span>
<a name="l03021"></a>03021         <span class="comment">// read channel Fw rev register 1</span>
<a name="l03022"></a>03022         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, CH_FW_REV[ ch_index], &amp;reg_value))
<a name="l03023"></a>03023         {
<a name="l03024"></a>03024                 TRACE1( <span class="stringliteral">&quot;V1724 CH_FW_REV[%d] read failed !\n&quot;</span>, ch_index);
<a name="l03025"></a>03025                 <span class="keywordflow">return</span> FALSE;
<a name="l03026"></a>03026         }
<a name="l03027"></a>03027         *p_firmware_rev= reg_value&amp; 0x0000ffff;
<a name="l03028"></a>03028 
<a name="l03029"></a>03029         <span class="keywordflow">return</span> TRUE;
<a name="l03030"></a>03030 }
<a name="l03031"></a>03031 
<a name="l03033"></a>03033 <span class="comment">//</span>
<a name="l03035"></a><a class="code" href="cvt___v1724_8h.html#ad718345eb1680aff0251f6e6c1468f14">03035</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a803d3e8974fe817e099ff596d855888a" title="Setups MCST/CBLT parameters for this board.">cvt_V1724_set_MCST_CBLT</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> address, <a class="code" href="cvt__board__commons_8h.html#aefd81e08a008a517d7a972717bd150d9" title="Board position in MCST/CBLT chain.">MCST_CBLT_board_pos</a> pos)
<a name="l03036"></a>03036 {
<a name="l03037"></a>03037         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value= 0;
<a name="l03038"></a>03038         <span class="comment">//</span>
<a name="l03039"></a>03039         <span class="comment">// MCST/CBLT address register</span>
<a name="l03040"></a>03040         <a class="code" href="cvt___v1724_8h.html#a7f6f3bfa33e3b9613a8185f789538a42" title="Sets the Base Address into UINT32 value.">CVT_V1724_SET_MCST_CBLT_ADD</a>( reg_value, address);
<a name="l03041"></a>03041         <span class="comment">//</span>
<a name="l03042"></a>03042         <span class="comment">// MCST/CBLT control register</span>
<a name="l03043"></a>03043         <span class="keywordflow">switch</span>( pos)
<a name="l03044"></a>03044         {
<a name="l03045"></a>03045         <span class="keywordflow">case</span> <a class="code" href="cvt__board__commons_8h.html#aefd81e08a008a517d7a972717bd150d9a35f80d42a076c00a5011bf524cb0663e" title="First board in MCST CBLT chain.">MCST_CBLT_board_pos_first</a>:
<a name="l03046"></a>03046                 <a class="code" href="cvt___v1724_8h.html#af995c4e782b3b8ff64504acd94529954" title="Sets MCST-CBLT Control into UINT32 value.">CVT_V1724_SET_MCST_CBLT_CTRL</a>( reg_value, <a class="code" href="cvt___v1724_8h.html#a70ac346776af837cc4be932c43fe169baae29f939c1fad008ca1e190916809571">CVT_V1724_MCST_CBLT_CTRL_FIRST_BOARD</a>);
<a name="l03047"></a>03047                 <span class="keywordflow">break</span>;
<a name="l03048"></a>03048         <span class="keywordflow">case</span> <a class="code" href="cvt__board__commons_8h.html#aefd81e08a008a517d7a972717bd150d9a6dae97aaf066b01684cbf3a11c3b6db2" title="Middle board in MCST CBLT chain.">MCST_CBLT_board_pos_mid</a>:
<a name="l03049"></a>03049                 <a class="code" href="cvt___v1724_8h.html#af995c4e782b3b8ff64504acd94529954" title="Sets MCST-CBLT Control into UINT32 value.">CVT_V1724_SET_MCST_CBLT_CTRL</a>( reg_value, <a class="code" href="cvt___v1724_8h.html#a70ac346776af837cc4be932c43fe169ba2cabfb255a8fd3e6eec5ef61b0c07b73">CVT_V1724_MCST_CBLT_CTRL_MID_BOARD</a>);
<a name="l03050"></a>03050                 <span class="keywordflow">break</span>;
<a name="l03051"></a>03051         <span class="keywordflow">case</span> <a class="code" href="cvt__board__commons_8h.html#aefd81e08a008a517d7a972717bd150d9ad8e37bace5c10f6227b32275e11afe79" title="Last board in MCST CBLT chain.">MCST_CBLT_board_pos_last</a>:
<a name="l03052"></a>03052                 <a class="code" href="cvt___v1724_8h.html#af995c4e782b3b8ff64504acd94529954" title="Sets MCST-CBLT Control into UINT32 value.">CVT_V1724_SET_MCST_CBLT_CTRL</a>( reg_value, <a class="code" href="cvt___v1724_8h.html#a70ac346776af837cc4be932c43fe169ba8ec55d43a1d2e64a70eabea2ad340be9">CVT_V1724_MCST_CBLT_CTRL_LAST_BOARD</a>);
<a name="l03053"></a>03053                 <span class="keywordflow">break</span>;
<a name="l03054"></a>03054         <span class="keywordflow">case</span> <a class="code" href="cvt__board__commons_8h.html#aefd81e08a008a517d7a972717bd150d9aa9fb4620dc37721308429950160776e0" title="Board is inactive in MCST CBLT chain.">MCST_CBLT_board_disabled</a>:
<a name="l03055"></a>03055                 <a class="code" href="cvt___v1724_8h.html#af995c4e782b3b8ff64504acd94529954" title="Sets MCST-CBLT Control into UINT32 value.">CVT_V1724_SET_MCST_CBLT_CTRL</a>( reg_value, <a class="code" href="cvt___v1724_8h.html#a70ac346776af837cc4be932c43fe169ba3bd036c9051db37294fcf1c7682b1585">CVT_V1724_MCST_CBLT_CTRL_DISABLED_BOARD</a>);
<a name="l03056"></a>03056                 <span class="keywordflow">break</span>;
<a name="l03057"></a>03057         <span class="keywordflow">default</span>:
<a name="l03058"></a>03058                 TRACE1( <span class="stringliteral">&quot;V1724 cvt_V1724_set_MCST_CBLT bad position indentifier &#39;%d&#39;!\n&quot;</span>, pos);
<a name="l03059"></a>03059                 <span class="keywordflow">return</span> FALSE;
<a name="l03060"></a>03060         }
<a name="l03061"></a>03061 
<a name="l03062"></a>03062         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87acf678266de89b05de87ffb5a6d3bf90b" title="MCST/CBLT Address and control register index.">CVT_V1724_MCST_CBLT_ADD_CTRL_INDEX</a>, &amp;reg_value))
<a name="l03063"></a>03063         {
<a name="l03064"></a>03064                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_MCST_CBLT_ADD_CTRL write failed !\n&quot;</span>);
<a name="l03065"></a>03065                 <span class="keywordflow">return</span> FALSE;
<a name="l03066"></a>03066         }
<a name="l03067"></a>03067 
<a name="l03068"></a>03068         <span class="keywordflow">return</span> TRUE;
<a name="l03069"></a>03069 }
<a name="l03070"></a>03070 
<a name="l03072"></a>03072 <span class="comment">//</span>
<a name="l03074"></a><a class="code" href="cvt___v1724_8h.html#a546315ef34efaa89dbe8869f03bd5650">03074</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a260c5c7d4d766ff691ae80361b41af8b" title="Gets MCST/CBLT parameters from board.">cvt_V1724_get_MCST_CBLT</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> *p_address, <a class="code" href="cvt__board__commons_8h.html#aefd81e08a008a517d7a972717bd150d9" title="Board position in MCST/CBLT chain.">MCST_CBLT_board_pos</a> *p_pos)
<a name="l03075"></a>03075 {
<a name="l03076"></a>03076         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value32;
<a name="l03077"></a>03077         <span class="comment">//</span>
<a name="l03078"></a>03078         <span class="comment">// Get MCST/CBLT address register</span>
<a name="l03079"></a>03079         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87acf678266de89b05de87ffb5a6d3bf90b" title="MCST/CBLT Address and control register index.">CVT_V1724_MCST_CBLT_ADD_CTRL_INDEX</a>, &amp;reg_value32))
<a name="l03080"></a>03080         {
<a name="l03081"></a>03081                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_MCST_CBLT_ADD_CTRL read failed !\n&quot;</span>);
<a name="l03082"></a>03082                 <span class="keywordflow">return</span> FALSE;
<a name="l03083"></a>03083         }
<a name="l03084"></a>03084         *p_address= <a class="code" href="cvt___v1724_8h.html#ac7276e7c0f1bf483dfbd38f368d065cc" title="Extract the Base Address of from UINT32 value.">CVT_V1724_GET_MCST_CBLT_ADD</a>( reg_value32);
<a name="l03085"></a>03085 
<a name="l03086"></a>03086         <span class="keywordflow">switch</span>( <a class="code" href="cvt___v1724_8h.html#aee5a5f6f2f7ff6ea4af7694a7af9de27" title="Extract the MCST-CBLT Control from UINT32 value.">CVT_V1724_GET_MCST_CBLT_CTRL</a>( reg_value32))
<a name="l03087"></a>03087         {
<a name="l03088"></a>03088         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a70ac346776af837cc4be932c43fe169baae29f939c1fad008ca1e190916809571">CVT_V1724_MCST_CBLT_CTRL_FIRST_BOARD</a>:
<a name="l03089"></a>03089                 *p_pos= <a class="code" href="cvt__board__commons_8h.html#aefd81e08a008a517d7a972717bd150d9a35f80d42a076c00a5011bf524cb0663e" title="First board in MCST CBLT chain.">MCST_CBLT_board_pos_first</a>;
<a name="l03090"></a>03090                 <span class="keywordflow">break</span>;
<a name="l03091"></a>03091         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a70ac346776af837cc4be932c43fe169ba2cabfb255a8fd3e6eec5ef61b0c07b73">CVT_V1724_MCST_CBLT_CTRL_MID_BOARD</a>:
<a name="l03092"></a>03092                 *p_pos= <a class="code" href="cvt__board__commons_8h.html#aefd81e08a008a517d7a972717bd150d9a6dae97aaf066b01684cbf3a11c3b6db2" title="Middle board in MCST CBLT chain.">MCST_CBLT_board_pos_mid</a>;
<a name="l03093"></a>03093                 <span class="keywordflow">break</span>;
<a name="l03094"></a>03094         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a70ac346776af837cc4be932c43fe169ba8ec55d43a1d2e64a70eabea2ad340be9">CVT_V1724_MCST_CBLT_CTRL_LAST_BOARD</a>:
<a name="l03095"></a>03095                 *p_pos= <a class="code" href="cvt__board__commons_8h.html#aefd81e08a008a517d7a972717bd150d9ad8e37bace5c10f6227b32275e11afe79" title="Last board in MCST CBLT chain.">MCST_CBLT_board_pos_last</a>;
<a name="l03096"></a>03096                 <span class="keywordflow">break</span>;
<a name="l03097"></a>03097         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#a70ac346776af837cc4be932c43fe169ba3bd036c9051db37294fcf1c7682b1585">CVT_V1724_MCST_CBLT_CTRL_DISABLED_BOARD</a>:
<a name="l03098"></a>03098                 *p_pos= <a class="code" href="cvt__board__commons_8h.html#aefd81e08a008a517d7a972717bd150d9aa9fb4620dc37721308429950160776e0" title="Board is inactive in MCST CBLT chain.">MCST_CBLT_board_disabled</a>;
<a name="l03099"></a>03099                 <span class="keywordflow">break</span>;
<a name="l03100"></a>03100         <span class="keywordflow">default</span>:
<a name="l03101"></a>03101                 TRACE1( <span class="stringliteral">&quot;V1724 cvt_V1724_get_MCST_CBLT bad position indentifier &#39;%d&#39;!\n&quot;</span>, reg_value32);
<a name="l03102"></a>03102                 <span class="keywordflow">return</span> FALSE;
<a name="l03103"></a>03103         }
<a name="l03104"></a>03104         <span class="keywordflow">return</span> TRUE;
<a name="l03105"></a>03105 }
<a name="l03106"></a>03106 
<a name="l03108"></a>03108 <span class="comment">//</span>
<a name="l03110"></a><a class="code" href="cvt___v1724_8h.html#af7f8fcc076bec93c8ff4619cac40d965">03110</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a2675e6a19fd1e3733ccfc7985d39b53d" title="Writes a page into board&amp;#39;s flash.">cvt_V1724_write_flash_page</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a>* page_buff, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> page_index)
<a name="l03111"></a>03111 {
<a name="l03112"></a>03112         <span class="keywordtype">int</span> i;
<a name="l03113"></a>03113         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value;
<a name="l03114"></a>03114         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> flash_addr;
<a name="l03115"></a>03115         <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> ret_val= TRUE;
<a name="l03116"></a>03116 
<a name="l03117"></a>03117         flash_addr= page_index &lt;&lt; 9;
<a name="l03118"></a>03118 
<a name="l03119"></a>03119         <span class="comment">//</span>
<a name="l03120"></a>03120         <span class="comment">// enable flash</span>
<a name="l03121"></a>03121         reg_value= <a class="code" href="cvt___v1724_8h.html#a949714aeb6590be612e3c6ee5bcb70adab0a8e1f21a4be80d1fed3514934ad262">CVT_V1724_FLEN_EN_MSK</a>;
<a name="l03122"></a>03122         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a2a3b2972e32f546016b8c4a1fb3b8b0e" title="Clears bitmask onto VME board register.">cvt_clear_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ad63cc151d7c6fddd9999ab50a7598dd1" title="Flash enable index.">CVT_V1724_FLASH_EN_INDEX</a>, &amp;reg_value))
<a name="l03123"></a>03123         {
<a name="l03124"></a>03124                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH_EN write failed !\n&quot;</span>);
<a name="l03125"></a>03125                 <span class="keywordflow">return</span> FALSE;
<a name="l03126"></a>03126         }
<a name="l03127"></a>03127 
<a name="l03128"></a>03128         <span class="comment">// write opcode</span>
<a name="l03129"></a>03129         reg_value= <a class="code" href="cvt___v1724_8h.html#a7063f7d030014395f10f06ecdc921cb2a0ca89062b42eb7285189445bb2de69a9">CVT_V1724_FOP_PAGE_PROG_TH_BUF1</a>;
<a name="l03130"></a>03130         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aca41c0f2064afe50867b66b178b71199" title="Flash data index.">CVT_V1724_FLASH_DATA_INDEX</a>, &amp;reg_value))
<a name="l03131"></a>03131         {
<a name="l03132"></a>03132                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH write failed !\n&quot;</span>);
<a name="l03133"></a>03133                 ret_val= FALSE;
<a name="l03134"></a>03134                 <span class="keywordflow">goto</span> exit_point;
<a name="l03135"></a>03135         }
<a name="l03136"></a>03136         <span class="comment">// write address</span>
<a name="l03137"></a>03137         reg_value= (<span class="keywordtype">unsigned</span> char)( flash_addr&gt;&gt; 16);
<a name="l03138"></a>03138         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aca41c0f2064afe50867b66b178b71199" title="Flash data index.">CVT_V1724_FLASH_DATA_INDEX</a>, &amp;reg_value))
<a name="l03139"></a>03139         {
<a name="l03140"></a>03140                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH write failed !\n&quot;</span>);
<a name="l03141"></a>03141                 ret_val= FALSE;
<a name="l03142"></a>03142                 <span class="keywordflow">goto</span> exit_point;
<a name="l03143"></a>03143         }
<a name="l03144"></a>03144         reg_value= (<span class="keywordtype">unsigned</span> char)( flash_addr&gt;&gt; 8);
<a name="l03145"></a>03145         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aca41c0f2064afe50867b66b178b71199" title="Flash data index.">CVT_V1724_FLASH_DATA_INDEX</a>, &amp;reg_value))
<a name="l03146"></a>03146         {
<a name="l03147"></a>03147                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH write failed !\n&quot;</span>);
<a name="l03148"></a>03148                 ret_val= FALSE;
<a name="l03149"></a>03149                 <span class="keywordflow">goto</span> exit_point;
<a name="l03150"></a>03150         }
<a name="l03151"></a>03151         reg_value= (<span class="keywordtype">unsigned</span> char) flash_addr;
<a name="l03152"></a>03152         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aca41c0f2064afe50867b66b178b71199" title="Flash data index.">CVT_V1724_FLASH_DATA_INDEX</a>, &amp;reg_value))
<a name="l03153"></a>03153         {
<a name="l03154"></a>03154                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH write failed !\n&quot;</span>);
<a name="l03155"></a>03155                 ret_val= FALSE;
<a name="l03156"></a>03156                 <span class="keywordflow">goto</span> exit_point;
<a name="l03157"></a>03157         }
<a name="l03158"></a>03158         <span class="comment">// write flash page</span>
<a name="l03159"></a>03159         <span class="keywordflow">for</span> (i= 0; i&lt; <a class="code" href="cvt___v1724_8h.html#adb9411aa464b2e48db6dff3786708ce4">V1724_FLASH_PAGE_SIZE</a>; i++)
<a name="l03160"></a>03160         {
<a name="l03161"></a>03161                 reg_value= page_buff[ i];
<a name="l03162"></a>03162                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aca41c0f2064afe50867b66b178b71199" title="Flash data index.">CVT_V1724_FLASH_DATA_INDEX</a>, &amp;reg_value))
<a name="l03163"></a>03163                 {
<a name="l03164"></a>03164                         TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH write failed !\n&quot;</span>);
<a name="l03165"></a>03165                         ret_val= FALSE;
<a name="l03166"></a>03166                         <span class="keywordflow">goto</span> exit_point;
<a name="l03167"></a>03167                 }
<a name="l03168"></a>03168         }
<a name="l03169"></a>03169 
<a name="l03170"></a>03170 exit_point:
<a name="l03171"></a>03171         <span class="comment">// disable flash</span>
<a name="l03172"></a>03172         reg_value= <a class="code" href="cvt___v1724_8h.html#a949714aeb6590be612e3c6ee5bcb70adab0a8e1f21a4be80d1fed3514934ad262">CVT_V1724_FLEN_EN_MSK</a>;
<a name="l03173"></a>03173         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a94f81046e1e14a9abb94b8a7e064ca12" title="Sets bitmask onto VME board register.">cvt_set_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ad63cc151d7c6fddd9999ab50a7598dd1" title="Flash enable index.">CVT_V1724_FLASH_EN_INDEX</a>, &amp;reg_value))
<a name="l03174"></a>03174         {
<a name="l03175"></a>03175                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH_EN write failed !\n&quot;</span>);
<a name="l03176"></a>03176                 ret_val= FALSE;
<a name="l03177"></a>03177         }
<a name="l03178"></a>03178 
<a name="l03179"></a>03179         <span class="comment">// wait 50ms</span>
<a name="l03180"></a>03180         <a class="code" href="cvt__board__commons_8c.html#acc93e4c7308ee91fb228f1eccd751fc9" title="Waits for specified time.">cvt_delay</a>( 50);
<a name="l03181"></a>03181         <span class="keywordflow">return</span> ret_val;
<a name="l03182"></a>03182 }
<a name="l03183"></a>03183 
<a name="l03185"></a>03185 <span class="comment">//</span>
<a name="l03187"></a><a class="code" href="cvt___v1724_8h.html#a6282bfb2ba8868cfca74a3d5f7a1f8db">03187</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a58592e47c14c4772c6e0c16e84ce9daf" title="Reads a page from board&amp;#39;s flash.">cvt_V1724_read_flash_page</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a>* page_buff, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> page_index)
<a name="l03188"></a>03188 {
<a name="l03189"></a>03189         <span class="keywordtype">int</span> i;
<a name="l03190"></a>03190         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value;
<a name="l03191"></a>03191         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> flash_addr;
<a name="l03192"></a>03192         <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> ret_val= TRUE;
<a name="l03193"></a>03193 
<a name="l03194"></a>03194         flash_addr= page_index&lt;&lt; 9;
<a name="l03195"></a>03195 
<a name="l03196"></a>03196         <span class="comment">// enable flash (NCS = 0)</span>
<a name="l03197"></a>03197         reg_value= <a class="code" href="cvt___v1724_8h.html#a949714aeb6590be612e3c6ee5bcb70adab0a8e1f21a4be80d1fed3514934ad262">CVT_V1724_FLEN_EN_MSK</a>;
<a name="l03198"></a>03198         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a2a3b2972e32f546016b8c4a1fb3b8b0e" title="Clears bitmask onto VME board register.">cvt_clear_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ad63cc151d7c6fddd9999ab50a7598dd1" title="Flash enable index.">CVT_V1724_FLASH_EN_INDEX</a>, &amp;reg_value))
<a name="l03199"></a>03199         {
<a name="l03200"></a>03200                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH_EN write failed !\n&quot;</span>);
<a name="l03201"></a>03201                 <span class="keywordflow">return</span> FALSE;
<a name="l03202"></a>03202         }
<a name="l03203"></a>03203 
<a name="l03204"></a>03204         <span class="comment">// write opcode</span>
<a name="l03205"></a>03205         reg_value= <a class="code" href="cvt___v1724_8h.html#a7063f7d030014395f10f06ecdc921cb2a0755e13d1ea320165937bafc7ac2d091">CVT_V1724_FOP_PAGE_READ</a>;
<a name="l03206"></a>03206         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aca41c0f2064afe50867b66b178b71199" title="Flash data index.">CVT_V1724_FLASH_DATA_INDEX</a>, &amp;reg_value))
<a name="l03207"></a>03207         {
<a name="l03208"></a>03208                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH write failed !\n&quot;</span>);
<a name="l03209"></a>03209                 ret_val= FALSE;
<a name="l03210"></a>03210                 <span class="keywordflow">goto</span> exit_point;
<a name="l03211"></a>03211         }
<a name="l03212"></a>03212         <span class="comment">// write address</span>
<a name="l03213"></a>03213         reg_value= (<span class="keywordtype">unsigned</span> char)( flash_addr&gt;&gt; 16);
<a name="l03214"></a>03214         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aca41c0f2064afe50867b66b178b71199" title="Flash data index.">CVT_V1724_FLASH_DATA_INDEX</a>, &amp;reg_value))
<a name="l03215"></a>03215         {
<a name="l03216"></a>03216                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH write failed !\n&quot;</span>);
<a name="l03217"></a>03217                 ret_val= FALSE;
<a name="l03218"></a>03218                 <span class="keywordflow">goto</span> exit_point;
<a name="l03219"></a>03219         }
<a name="l03220"></a>03220         reg_value= (<span class="keywordtype">unsigned</span> char)( flash_addr&gt;&gt; 8);
<a name="l03221"></a>03221         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aca41c0f2064afe50867b66b178b71199" title="Flash data index.">CVT_V1724_FLASH_DATA_INDEX</a>, &amp;reg_value))
<a name="l03222"></a>03222         {
<a name="l03223"></a>03223                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH write failed !\n&quot;</span>);
<a name="l03224"></a>03224                 ret_val= FALSE;
<a name="l03225"></a>03225                 <span class="keywordflow">goto</span> exit_point;
<a name="l03226"></a>03226         }
<a name="l03227"></a>03227         reg_value= (<span class="keywordtype">unsigned</span> char) flash_addr;
<a name="l03228"></a>03228         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aca41c0f2064afe50867b66b178b71199" title="Flash data index.">CVT_V1724_FLASH_DATA_INDEX</a>, &amp;reg_value))
<a name="l03229"></a>03229         {
<a name="l03230"></a>03230                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH write failed !\n&quot;</span>);
<a name="l03231"></a>03231                 ret_val= FALSE;
<a name="l03232"></a>03232                 <span class="keywordflow">goto</span> exit_point;
<a name="l03233"></a>03233         }
<a name="l03234"></a>03234 
<a name="l03235"></a>03235 
<a name="l03236"></a>03236         <span class="comment">// additional don&#39;t care bytes</span>
<a name="l03237"></a>03237         <span class="keywordflow">for</span>( i=0; i&lt;4; i++)
<a name="l03238"></a>03238         {
<a name="l03239"></a>03239                 reg_value= 0;
<a name="l03240"></a>03240                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aca41c0f2064afe50867b66b178b71199" title="Flash data index.">CVT_V1724_FLASH_DATA_INDEX</a>, &amp;reg_value))
<a name="l03241"></a>03241                 {
<a name="l03242"></a>03242                         TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH write failed !\n&quot;</span>);
<a name="l03243"></a>03243                         ret_val= FALSE;
<a name="l03244"></a>03244                         <span class="keywordflow">goto</span> exit_point;
<a name="l03245"></a>03245                 }
<a name="l03246"></a>03246         }
<a name="l03247"></a>03247 
<a name="l03248"></a>03248         <span class="comment">// read flash page</span>
<a name="l03249"></a>03249         <span class="keywordflow">for</span> (i= 0; i&lt; <a class="code" href="cvt___v1724_8h.html#adb9411aa464b2e48db6dff3786708ce4">V1724_FLASH_PAGE_SIZE</a>; i++)
<a name="l03250"></a>03250         {
<a name="l03251"></a>03251                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a3148893715c0014757e671aa20f3b469" title="Reads a register from VME board.">cvt_read_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aca41c0f2064afe50867b66b178b71199" title="Flash data index.">CVT_V1724_FLASH_DATA_INDEX</a>, &amp;reg_value))
<a name="l03252"></a>03252                 {
<a name="l03253"></a>03253                         TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH read failed !\n&quot;</span>);
<a name="l03254"></a>03254                         ret_val= FALSE;
<a name="l03255"></a>03255                         <span class="keywordflow">goto</span> exit_point;
<a name="l03256"></a>03256                 }
<a name="l03257"></a>03257                 page_buff[ i]= ( <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a>)reg_value;
<a name="l03258"></a>03258         }
<a name="l03259"></a>03259 
<a name="l03260"></a>03260 exit_point:
<a name="l03261"></a>03261         <span class="comment">// disable flash (NCS = 1)</span>
<a name="l03262"></a>03262         reg_value= <a class="code" href="cvt___v1724_8h.html#a949714aeb6590be612e3c6ee5bcb70adab0a8e1f21a4be80d1fed3514934ad262">CVT_V1724_FLEN_EN_MSK</a>;
<a name="l03263"></a>03263         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a94f81046e1e14a9abb94b8a7e064ca12" title="Sets bitmask onto VME board register.">cvt_set_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ad63cc151d7c6fddd9999ab50a7598dd1" title="Flash enable index.">CVT_V1724_FLASH_EN_INDEX</a>, &amp;reg_value))
<a name="l03264"></a>03264         {
<a name="l03265"></a>03265                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH_EN write failed !\n&quot;</span>);
<a name="l03266"></a>03266                 ret_val= FALSE;
<a name="l03267"></a>03267         }
<a name="l03268"></a>03268 
<a name="l03269"></a>03269         <span class="keywordflow">return</span> ret_val;
<a name="l03270"></a>03270 }
<a name="l03271"></a>03271 
<a name="l03273"></a>03273 <span class="comment">//</span>
<a name="l03275"></a><a class="code" href="cvt___v1724_8h.html#a87c47814877a56406e490ace1f2d0f07">03275</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#ae93bf2b8080abdda7da60ae8c0d9f046" title="Erases a board&amp;#39;s flash page.">cvt_V1724_erase_flash_page</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> page_index)
<a name="l03276"></a>03276 {
<a name="l03277"></a>03277         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value;
<a name="l03278"></a>03278         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> flash_addr;
<a name="l03279"></a>03279         <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> ret_val= TRUE;
<a name="l03280"></a>03280 
<a name="l03281"></a>03281         flash_addr= page_index&lt;&lt; 9;
<a name="l03282"></a>03282 
<a name="l03283"></a>03283         <span class="comment">// enable flash (NCS = 0)</span>
<a name="l03284"></a>03284         reg_value= <a class="code" href="cvt___v1724_8h.html#a949714aeb6590be612e3c6ee5bcb70adab0a8e1f21a4be80d1fed3514934ad262">CVT_V1724_FLEN_EN_MSK</a>;
<a name="l03285"></a>03285         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a2a3b2972e32f546016b8c4a1fb3b8b0e" title="Clears bitmask onto VME board register.">cvt_clear_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ad63cc151d7c6fddd9999ab50a7598dd1" title="Flash enable index.">CVT_V1724_FLASH_EN_INDEX</a>, &amp;reg_value))
<a name="l03286"></a>03286         {
<a name="l03287"></a>03287                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH_EN write failed !\n&quot;</span>);
<a name="l03288"></a>03288                 <span class="keywordflow">return</span> FALSE;
<a name="l03289"></a>03289         }
<a name="l03290"></a>03290 
<a name="l03291"></a>03291         <span class="comment">// write opcode</span>
<a name="l03292"></a>03292         reg_value= <a class="code" href="cvt___v1724_8h.html#a7063f7d030014395f10f06ecdc921cb2aa871bb927098180dfc686c5f001fe4f2">CVT_V1724_FOP_PAGE_ERASE</a>;
<a name="l03293"></a>03293         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aca41c0f2064afe50867b66b178b71199" title="Flash data index.">CVT_V1724_FLASH_DATA_INDEX</a>, &amp;reg_value))
<a name="l03294"></a>03294         {
<a name="l03295"></a>03295                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH write failed !\n&quot;</span>);
<a name="l03296"></a>03296                 ret_val= FALSE;
<a name="l03297"></a>03297                 <span class="keywordflow">goto</span> exit_point;
<a name="l03298"></a>03298         }
<a name="l03299"></a>03299         <span class="comment">// write address</span>
<a name="l03300"></a>03300         reg_value= (<span class="keywordtype">unsigned</span> char)( flash_addr&gt;&gt; 16);
<a name="l03301"></a>03301         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aca41c0f2064afe50867b66b178b71199" title="Flash data index.">CVT_V1724_FLASH_DATA_INDEX</a>, &amp;reg_value))
<a name="l03302"></a>03302         {
<a name="l03303"></a>03303                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH write failed !\n&quot;</span>);
<a name="l03304"></a>03304                 ret_val= FALSE;
<a name="l03305"></a>03305                 <span class="keywordflow">goto</span> exit_point;
<a name="l03306"></a>03306         }
<a name="l03307"></a>03307         reg_value= (<span class="keywordtype">unsigned</span> char)( flash_addr&gt;&gt; 8);
<a name="l03308"></a>03308         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aca41c0f2064afe50867b66b178b71199" title="Flash data index.">CVT_V1724_FLASH_DATA_INDEX</a>, &amp;reg_value))
<a name="l03309"></a>03309         {
<a name="l03310"></a>03310                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH write failed !\n&quot;</span>);
<a name="l03311"></a>03311                 ret_val= FALSE;
<a name="l03312"></a>03312                 <span class="keywordflow">goto</span> exit_point;
<a name="l03313"></a>03313         }
<a name="l03314"></a>03314         reg_value= (<span class="keywordtype">unsigned</span> char) flash_addr;
<a name="l03315"></a>03315         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87aca41c0f2064afe50867b66b178b71199" title="Flash data index.">CVT_V1724_FLASH_DATA_INDEX</a>, &amp;reg_value))
<a name="l03316"></a>03316         {
<a name="l03317"></a>03317                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH write failed !\n&quot;</span>);
<a name="l03318"></a>03318                 ret_val= FALSE;
<a name="l03319"></a>03319                 <span class="keywordflow">goto</span> exit_point;
<a name="l03320"></a>03320         }
<a name="l03321"></a>03321 exit_point:
<a name="l03322"></a>03322         <span class="comment">// disable flash (NCS = 1)</span>
<a name="l03323"></a>03323         reg_value= <a class="code" href="cvt___v1724_8h.html#a949714aeb6590be612e3c6ee5bcb70adab0a8e1f21a4be80d1fed3514934ad262">CVT_V1724_FLEN_EN_MSK</a>;
<a name="l03324"></a>03324         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a94f81046e1e14a9abb94b8a7e064ca12" title="Sets bitmask onto VME board register.">cvt_set_bitmask_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ad63cc151d7c6fddd9999ab50a7598dd1" title="Flash enable index.">CVT_V1724_FLASH_EN_INDEX</a>, &amp;reg_value))
<a name="l03325"></a>03325         {
<a name="l03326"></a>03326                 TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH_EN write failed !\n&quot;</span>);
<a name="l03327"></a>03327                 ret_val= FALSE;
<a name="l03328"></a>03328         }
<a name="l03329"></a>03329 
<a name="l03330"></a>03330         <span class="keywordflow">return</span> ret_val;
<a name="l03331"></a>03331 }
<a name="l03332"></a>03332 
<a name="l03334"></a>03334 <span class="comment">//</span>
<a name="l03336"></a><a class="code" href="cvt___v1724_8h.html#a2592b1d0b61d1ab1f58d138a38985d17">03336</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a64164717296be32dd51f3b54f9869176" title="Performs a full flash upgrade onto specific bank (standard or backup).">cvt_V1724_fw_upgrade</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <span class="keyword">const</span> <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a>* data_buff, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> data_size, <a class="code" href="cvt___v1724_8h.html#aff204a083d15c61a6aa077d2edb4d01b" title="V1724 Flash banks.">CVT_V1724_FLASH_BANK</a> flash_bank, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> (* call_back)(<a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> written_bytes))
<a name="l03337"></a>03337 {
<a name="l03338"></a>03338         <span class="comment">// HACK to be rewritten with block trasfer mode</span>
<a name="l03339"></a>03339         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> tot_bytes= 0;
<a name="l03340"></a>03340         <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> tmp_page_w[ <a class="code" href="cvt___v1724_8h.html#adb9411aa464b2e48db6dff3786708ce4">V1724_FLASH_PAGE_SIZE</a>], tmp_page_r[ <a class="code" href="cvt___v1724_8h.html#adb9411aa464b2e48db6dff3786708ce4">V1724_FLASH_PAGE_SIZE</a>];
<a name="l03341"></a>03341 
<a name="l03342"></a>03342         <span class="keywordflow">switch</span>( flash_bank)
<a name="l03343"></a>03343         {
<a name="l03344"></a>03344         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#aff204a083d15c61a6aa077d2edb4d01baa1f807bd9e499375ac19732df1cef036">CVT_V1724_FB_STANDARD</a>:             <span class="comment">// Standard (boot) flash page</span>
<a name="l03345"></a>03345         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#aff204a083d15c61a6aa077d2edb4d01ba35e9749d288b6ddf939e01d50e38581c">CVT_V1724_FB_BACKUP</a>:               <span class="comment">// Backup flash page</span>
<a name="l03346"></a>03346                 <span class="keywordflow">break</span>;
<a name="l03347"></a>03347         <span class="keywordflow">default</span>:
<a name="l03348"></a>03348                 TRACE( <span class="stringliteral">&quot;V1724 cvt_V1724_fw_upgrade Invalid flash bank!\n&quot;</span>);
<a name="l03349"></a>03349                 <span class="keywordflow">return</span> FALSE;
<a name="l03350"></a>03350         }
<a name="l03351"></a>03351 
<a name="l03352"></a>03352         <span class="comment">// Swap bits into data bytes</span>
<a name="l03353"></a>03353         <span class="keywordflow">while</span>( tot_bytes&lt; data_size)
<a name="l03354"></a>03354         {
<a name="l03355"></a>03355                 <span class="keywordtype">int</span> i;
<a name="l03356"></a>03356                 <span class="comment">// pepare temporary page to write</span>
<a name="l03357"></a>03357                 <span class="keywordflow">for</span>( i= 0; ( i&lt; <a class="code" href="cvt___v1724_8h.html#adb9411aa464b2e48db6dff3786708ce4">V1724_FLASH_PAGE_SIZE</a>)&amp;&amp; ( tot_bytes&lt; data_size); i++)
<a name="l03358"></a>03358                 {
<a name="l03359"></a>03359                         <span class="comment">// bitwise byte rotation</span>
<a name="l03360"></a>03360                         tmp_page_w[ i]= <a class="code" href="cvt__board__commons_8c.html#a410140f6e74c070e063ff24b1e01833e" title="Swaps the bits of the source byte.">cvt_swap_bits</a>( data_buff[ tot_bytes++]);
<a name="l03361"></a>03361                 }
<a name="l03362"></a>03362                 <span class="comment">// write page to flash</span>
<a name="l03363"></a>03363                 <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8c.html#a2675e6a19fd1e3733ccfc7985d39b53d" title="Writes a page into board&amp;#39;s flash.">cvt_V1724_write_flash_page</a>( p_data, tmp_page_w, flash_bank))
<a name="l03364"></a>03364                 {
<a name="l03365"></a>03365                         TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH write failed !\n&quot;</span>);
<a name="l03366"></a>03366                         <span class="keywordflow">return</span> FALSE;
<a name="l03367"></a>03367                 }
<a name="l03368"></a>03368                 <span class="comment">// read page from flash</span>
<a name="l03369"></a>03369                 <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8c.html#a58592e47c14c4772c6e0c16e84ce9daf" title="Reads a page from board&amp;#39;s flash.">cvt_V1724_read_flash_page</a>( p_data, tmp_page_r, flash_bank))
<a name="l03370"></a>03370                 {
<a name="l03371"></a>03371                         TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_FLASH read failed !\n&quot;</span>);
<a name="l03372"></a>03372                         <span class="keywordflow">return</span> FALSE;
<a name="l03373"></a>03373                 }
<a name="l03374"></a>03374                 <span class="comment">// verify pages</span>
<a name="l03375"></a>03375                 <span class="keywordflow">if</span>( memcmp( tmp_page_r, tmp_page_w, <a class="code" href="cvt___v1724_8h.html#adb9411aa464b2e48db6dff3786708ce4">V1724_FLASH_PAGE_SIZE</a>))
<a name="l03376"></a>03376                 {
<a name="l03377"></a>03377                         <span class="comment">// read page differs from page written </span>
<a name="l03378"></a>03378                         TRACE( <span class="stringliteral">&quot;V1724 cvt_V1724_fw_upgrade page verify failure!\n&quot;</span>);
<a name="l03379"></a>03379                         <span class="keywordflow">return</span> FALSE;
<a name="l03380"></a>03380                 }
<a name="l03381"></a>03381                 ++flash_bank;
<a name="l03382"></a>03382                 <span class="keywordflow">if</span>( call_back)
<a name="l03383"></a>03383                 {
<a name="l03384"></a>03384                         <span class="keywordflow">if</span>( !(*call_back)( tot_bytes))
<a name="l03385"></a>03385                                 <span class="keywordflow">return</span> FALSE;
<a name="l03386"></a>03386                 }
<a name="l03387"></a>03387         }
<a name="l03388"></a>03388         <span class="keywordflow">return</span> TRUE;
<a name="l03389"></a>03389 }
<a name="l03390"></a>03390 
<a name="l03392"></a>03392 <span class="comment">//</span>
<a name="l03394"></a><a class="code" href="cvt___v1724_8h.html#a8bb7272c61e4ba27e6d07968617be913">03394</a> <span class="comment"></span><a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> <a class="code" href="cvt___v1724_8c.html#a92937f7a90b5dd45d9b888b6a4b7c3be" title="Loads PLL from file and stores into flash.">cvt_V1724_pll_upgrade</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <span class="keyword">const</span> <span class="keywordtype">char</span>* filename)
<a name="l03395"></a>03395 {
<a name="l03396"></a>03396         <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> ret= TRUE;
<a name="l03397"></a>03397         <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> page[ <a class="code" href="cvt___v1724_8h.html#adb9411aa464b2e48db6dff3786708ce4">V1724_FLASH_PAGE_SIZE</a>];
<a name="l03398"></a>03398         <span class="keywordtype">char</span> file_line[300];
<a name="l03399"></a>03399         <span class="comment">// int org_line= 15;</span>
<a name="l03400"></a>03400         <span class="keywordtype">int</span> i;
<a name="l03401"></a>03401         <span class="keywordtype">int</span> data_size;
<a name="l03402"></a>03402         FILE *from;
<a name="l03403"></a>03403 
<a name="l03404"></a>03404         <span class="keywordflow">if</span>( ( from= fopen( filename, <span class="stringliteral">&quot;rt&quot;</span>))== NULL)
<a name="l03405"></a>03405         {
<a name="l03406"></a>03406                 TRACE( <span class="stringliteral">&quot;V1724 cvt_V1724_pll_upgrade file open failure!\n&quot;</span>);
<a name="l03407"></a>03407                 <span class="keywordflow">return</span> FALSE;
<a name="l03408"></a>03408         }
<a name="l03409"></a>03409         <span class="comment">// Strip header lines</span>
<a name="l03410"></a>03410         <span class="keywordflow">for</span>( i= 0; i&lt; 4; i++)
<a name="l03411"></a>03411         {
<a name="l03412"></a>03412                 <span class="keywordflow">if</span>( fgets( file_line, 300, from)== NULL)
<a name="l03413"></a>03413                 {
<a name="l03414"></a>03414                         TRACE( <span class="stringliteral">&quot;V1724 cvt_V1724_pll_upgrade bad file format !\n&quot;</span>);
<a name="l03415"></a>03415                         ret= FALSE;
<a name="l03416"></a>03416                         <span class="keywordflow">goto</span> exit_point;                                                
<a name="l03417"></a>03417                 }
<a name="l03418"></a>03418         }
<a name="l03419"></a>03419         data_size= 0;
<a name="l03420"></a>03420         <span class="comment">// Get data lines</span>
<a name="l03421"></a>03421         <span class="keywordflow">while</span>( TRUE)
<a name="l03422"></a>03422         {
<a name="l03423"></a>03423                 <span class="keywordtype">char</span> *token;
<a name="l03424"></a>03424                 <span class="keywordtype">char</span> *trash;
<a name="l03425"></a>03425                 <span class="keywordtype">int</span> value;
<a name="l03426"></a>03426                 <span class="keywordflow">if</span>( fgets( file_line, 300, from)== NULL)
<a name="l03427"></a>03427                 {
<a name="l03428"></a>03428                         <span class="keywordflow">if</span>( !feof( from))
<a name="l03429"></a>03429                         {
<a name="l03430"></a>03430                                 TRACE( <span class="stringliteral">&quot;V1724 cvt_V1724_pll_upgrade file read error !\n&quot;</span>);
<a name="l03431"></a>03431                                 ret= FALSE;
<a name="l03432"></a>03432                                 <span class="keywordflow">goto</span> exit_point;
<a name="l03433"></a>03433                         }
<a name="l03434"></a>03434                         <span class="keywordflow">break</span>;
<a name="l03435"></a>03435                 }
<a name="l03436"></a>03436                 <span class="keywordflow">if</span>( data_size&gt;= <a class="code" href="cvt___v1724_8h.html#adb9411aa464b2e48db6dff3786708ce4">V1724_FLASH_PAGE_SIZE</a>)
<a name="l03437"></a>03437                 {
<a name="l03438"></a>03438                         TRACE( <span class="stringliteral">&quot;V1724 cvt_V1724_pll_upgrade file too large for flash page size !\n&quot;</span>);
<a name="l03439"></a>03439                         ret= FALSE;
<a name="l03440"></a>03440                         <span class="keywordflow">goto</span> exit_point;
<a name="l03441"></a>03441                 }
<a name="l03442"></a>03442                 <span class="comment">// Get Address</span>
<a name="l03443"></a>03443                 token= strtok( file_line, <span class="stringliteral">&quot;,&quot;</span>);
<a name="l03444"></a>03444                 <span class="comment">// Skip a value</span>
<a name="l03445"></a>03445                 trash= strtok( NULL, <span class="stringliteral">&quot;,&quot;</span>);
<a name="l03446"></a>03446 
<a name="l03447"></a>03447                 <span class="keywordflow">if</span>( ( token== 0)|| (trash== 0))
<a name="l03448"></a>03448                         <span class="keywordflow">break</span>;
<a name="l03449"></a>03449                 <span class="keywordflow">if</span>( !strcmp( token, <span class="stringliteral">&quot;\&quot;\&quot;&quot;</span>))
<a name="l03450"></a>03450                         <span class="keywordflow">break</span>;
<a name="l03451"></a>03451                 sscanf( token, <span class="stringliteral">&quot;\&quot;%x\&quot;&quot;</span>, &amp;value);
<a name="l03452"></a>03452                 page[ data_size++]= value&amp; 0xff;
<a name="l03453"></a>03453 
<a name="l03454"></a>03454                 <span class="comment">// Get value</span>
<a name="l03455"></a>03455                 token= strtok( NULL, <span class="stringliteral">&quot;,&quot;</span>);
<a name="l03456"></a>03456                 sscanf( token, <span class="stringliteral">&quot;\&quot;%x\&quot;&quot;</span>, &amp;value);
<a name="l03457"></a>03457                 page[ data_size++]= value&amp; 0xff;
<a name="l03458"></a>03458         }
<a name="l03459"></a>03459 
<a name="l03460"></a>03460         <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8c.html#a2675e6a19fd1e3733ccfc7985d39b53d" title="Writes a page into board&amp;#39;s flash.">cvt_V1724_write_flash_page</a>( p_data, page, <a class="code" href="cvt___v1724_8h.html#aff204a083d15c61a6aa077d2edb4d01baed4c3c6accc35577b982b7bc491f975e">CVT_V1724_PLL_FLASH_PAGE</a>))
<a name="l03461"></a>03461         {
<a name="l03462"></a>03462                 TRACE( <span class="stringliteral">&quot;V1724 cvt_V1724_pll_upgrade flash write failed !\n&quot;</span>);
<a name="l03463"></a>03463                 ret= FALSE;
<a name="l03464"></a>03464                 <span class="keywordflow">goto</span> exit_point;
<a name="l03465"></a>03465         }
<a name="l03466"></a>03466 
<a name="l03467"></a>03467         <span class="comment">//</span>
<a name="l03468"></a>03468         <span class="comment">// Reload configuration</span>
<a name="l03469"></a>03469         {
<a name="l03470"></a>03470                 <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value32= 0;
<a name="l03471"></a>03471                 <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8c.html#a6cc015bc9785e3eb758c2d391335c81e" title="Writes a register onto VME board.">cvt_write_reg</a>( &amp;p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a9e6897004f9b0bed7d19963f5b9d2479">m_common_data</a>, <a class="code" href="cvt___v1724_8h.html#a2b312bfdb2b94b580663540e24bfac87ad6fa4d16e1417412a99729ced66c29e4" title="Configuration Reload index.">CVT_V1724_RELOAD_CONFIG_INDEX</a>, &amp;reg_value32))
<a name="l03472"></a>03472                 {
<a name="l03473"></a>03473                         TRACE( <span class="stringliteral">&quot;V1724 CVT_V1724_RELOAD_CONFIG_INDEX write failed !\n&quot;</span>);
<a name="l03474"></a>03474                         ret= FALSE;
<a name="l03475"></a>03475                         <span class="keywordflow">goto</span> exit_point;
<a name="l03476"></a>03476                 }
<a name="l03477"></a>03477         }
<a name="l03478"></a>03478 exit_point:
<a name="l03479"></a>03479         <span class="keywordflow">if</span>( from)
<a name="l03480"></a>03480         {
<a name="l03481"></a>03481                 fclose( from);
<a name="l03482"></a>03482         }
<a name="l03483"></a>03483         <span class="keywordflow">return</span> ret;
<a name="l03484"></a>03484 }
<a name="l03485"></a>03485 
<a name="l03487"></a>03487 <span class="comment">//</span>
<a name="l03488"></a>03488 <span class="comment">//     M I S C E L L A N E O U S   A P I s</span>
<a name="l03489"></a>03489 <span class="comment">//</span>
<a name="l03492"></a>03492 <span class="comment"></span><span class="comment">//</span>
<a name="l03494"></a><a class="code" href="cvt___v1724_8h.html#a936c5b410a05798132de085f4d88ba19">03494</a> <span class="comment"></span><span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="cvt___v1724_8c.html#ae44959aabe490d8d9404daba9d6bfd14" title="Returns the SDK software release.">cvt_V1724_SW_rev</a>( <span class="keywordtype">void</span>)
<a name="l03495"></a>03495 {
<a name="l03496"></a>03496         <span class="keywordflow">return</span> <span class="stringliteral">&quot;CAENdigitizerSDK Rev. 1.3&quot;</span>;
<a name="l03497"></a>03497 }
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.2 </small></address>
</body>
</html>
